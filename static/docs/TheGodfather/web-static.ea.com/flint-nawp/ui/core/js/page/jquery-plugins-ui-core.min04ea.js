;jQuery.effects||(function($,undefined){$.effects={};$.each(['backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','borderColor','color','outlineColor'],function(i,attr){$.fx.step[attr]=function(fx){if(!fx.colorInit){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);fx.colorInit=true;}
fx.elem.style[attr]='rgb('+
Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2],10),255),0)+')';};});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3)
return color;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))
return[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)];if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))
return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))
return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)];if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))
return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)];if(result=/rgba\(0, 0, 0, 0\)/.exec(color))
return colors['transparent'];return colors[$.trim(color).toLowerCase()];}
function getColor(elem,attr){var color;do{color=$.curCSS(elem,attr);if(color!=''&&color!='transparent'||$.nodeName(elem,"body"))
break;attr="backgroundColor";}while(elem=elem.parentNode);return getRGB(color);};var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var classAnimationActions=['add','remove','toggle'],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,camelCase;if(style&&style.length&&style[0]&&style[style[0]]){var len=style.length;while(len--){key=style[len];if(typeof style[key]=='string'){camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();});newStyle[camelCase]=style[key];}}}else{for(key in style){if(typeof style[key]==='string'){newStyle[key]=style[key];}}}
return newStyle;}
function filterStyles(styles){var name,value;for(name in styles){value=styles[name];if(value==null||$.isFunction(value)||name in shorthandStyles||(/scrollbar/).test(name)||(!(/color/i).test(name)&&isNaN(parseFloat(value)))){delete styles[name];}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={_:0},name;for(name in newStyle){if(oldStyle[name]!=newStyle[name]){diff[name]=newStyle[name];}}
return diff;}
$.effects.animateClass=function(value,duration,easing,callback){if($.isFunction(easing)){callback=easing;easing=null;}
return this.each(function(){var that=$(this),originalStyleAttr=that.attr('style')||' ',originalStyle=filterStyles(getElementStyles.call(this)),newStyle,className=that.attr('className');$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});newStyle=filterStyles(getElementStyles.call(this));that.attr('className',className);that.animate(styleDifference(originalStyle,newStyle),duration,easing,function(){$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});if(typeof that.attr('style')=='object'){that.attr('style').cssText='';that.attr('style').cssText=originalStyleAttr;}else{that.attr('style',originalStyleAttr);}
if(callback){callback.apply(this,arguments);}});});};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames);},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames);},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force=="boolean"||force===undefined){if(!speed){return this._toggleClass(classNames,force);}else{return $.effects.animateClass.apply(this,[(force?{add:classNames}:{remove:classNames}),speed,easing,callback]);}}else{return $.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing]);}},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback]);}});$.extend($.effects,{version:"1.8.6",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.data("ec.storage."+set[i],element[0].style[set[i]]);}},restore:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.css(set[i],element.data("ec.storage."+set[i]));}},setMode:function(el,mode){if(mode=='toggle')mode=el.is(':hidden')?'show':'hide';return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case'top':y=0;break;case'middle':y=0.5;break;case'bottom':y=1;break;default:y=origin[0]/original.height;};switch(origin[1]){case'left':x=0;break;case'center':x=0.5;break;case'right':x=1;break;default:x=origin[1]/original.width;};return{x:x,y:y};},createWrapper:function(element){if(element.parent().is('.ui-effects-wrapper')){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),'float':element.css('float')},wrapper=$('<div></div>').addClass('ui-effects-wrapper').css({fontSize:'100%',background:'transparent',border:'none',margin:0,padding:0});element.wrap(wrapper);wrapper=element.parent();if(element.css('position')=='static'){wrapper.css({position:'relative'});element.css({position:'relative'});}else{$.extend(props,{position:element.css('position'),zIndex:element.css('z-index')});$.each(['top','left','bottom','right'],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]='auto';}});element.css({position:'relative',top:0,left:0});}
return wrapper.css(props).show();},removeWrapper:function(element){if(element.parent().is('.ui-effects-wrapper'))
return element.parent().replaceWith(element);return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){unit=element.cssUnit(x);if(unit[0]>0)value[x]=unit[0]*factor+unit[1];});return value;}});function _normalizeArguments(effect,options,speed,callback){if(typeof effect=='object'){callback=options;speed=null;options=effect;effect=options.effect;}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options=='number'||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
options=options||{};speed=speed||options.duration;speed=$.fx.off?0:typeof speed=='number'?speed:$.fx.speeds[speed]||$.fx.speeds._default;callback=callback||options.complete;return[effect,options,speed,callback];}
function standardSpeed(speed){if(!speed||typeof speed==="number"||$.fx.speeds[speed]){return true;}
if(typeof speed==="string"&&!$.effects[speed]){return true;}
return false;}
$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args2.duration,args2.callback);}else{return this.each(function(){if(args2.callback){args2.callback.call(this);}});}}
return effectMethod.call(this,args2);},_show:$.fn.show,show:function(speed){if(standardSpeed(speed)){return this._show.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='show';return this.effect.apply(this,args);}},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed)){return this._hide.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='hide';return this.effect.apply(this,args);}},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||typeof speed==="boolean"||$.isFunction(speed)){return this.__toggle.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='toggle';return this.effect.apply(this,args);}},cssUnit:function(key){var style=this.css(key),val=[];$.each(['em','px','%','pt'],function(i,unit){if(style.indexOf(unit)>0)
val=[parseFloat(style),unit];});return val;}});$.easing.jswing=$.easing.swing;$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};if($.ui.version){return;}
$.extend($.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):this._focus.apply(this,arguments);},scrollParent:function(){var scrollParent;if(($.browser.msie&&(/(static|relative)/).test(this.css('position')))||(/absolute/).test(this.css('position'))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.curCSS(this,'position',1))&&(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}
return(/fixed/).test(this.css('position'))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,true))||0;if(border){size-=parseFloat($.curCSS(elem,"border"+this+"Width",true))||0;}
if(margin){size-=parseFloat($.curCSS(elem,"margin"+this,true))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});function visible(element){return!$(element).parents().andSelf().filter(function(){return $.curCSS(this,"visibility")==="hidden"||$.expr.filters.hidden(this);}).length;}
$.extend($.expr[":"],{data:function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){var nodeName=element.nodeName.toLowerCase(),tabIndex=$.attr(element,"tabindex");if("area"===nodeName){var map=element.parentNode,mapName=map.name,img;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName?element.href||!isNaN(tabIndex):!isNaN(tabIndex))&&visible(element);},tabbable:function(element){var tabIndex=$.attr(element,"tabindex");return(isNaN(tabIndex)||tabIndex>=0)&&$(element).is(":focusable");}});$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});$.support.minHeight=div.offsetHeight===100;$.support.selectstart="onselectstart"in div;body.removeChild(div).style.display="none";});$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var set=instance.plugins[name];if(!set||!instance.element[0].parentNode){return;}
for(var i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},isOverAxis:function(x,reference,size){return(x>reference)&&(x<(reference+size));},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width);}});})(jQuery);(function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){$(elem).triggerHandler("remove");}
_cleanData(elems);};}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){if(!keepData){if(!selector||$.filter(selector,[this]).length){$("*",this).add([this]).each(function(){$(this).triggerHandler("remove");});}}
return _remove.call($(this),selector,keepData);});};}
$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName]=function(elem){return!!$.data(elem,name);};$[namespace]=$[namespace]||{};$[namespace][name]=function(options,element){if(arguments.length){this._createWidget(options,element);}};var basePrototype=new base();basePrototype.options=$.extend(true,{},basePrototype.options);$[namespace][name].prototype=$.extend(true,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype);$.widget.bridge(name,$[namespace][name]);};$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.charAt(0)==="_"){return returnValue;}
if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,name);if(instance){instance.option(options||{})._init();}else{$.data(this,name,new object(options,this));}});}
return returnValue;};};$.Widget=function(options,element){if(arguments.length){this._createWidget(options,element);}};$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(options,element){$.data(element,this.widgetName,this);this.element=$(element);this.options=$.extend(true,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy();});this._create();this._trigger("create");this._init();},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName];},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled");},widget:function(){return this.element;},option:function(key,value){var options=key;if(arguments.length===0){return $.extend({},this.options);}
if(typeof key==="string"){if(value===undefined){return this.options[key];}
options={};options[key]=value;}
this._setOptions(options);return this;},_setOptions:function(options){var self=this;$.each(options,function(key,value){self._setOption(key,value);});return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget()
[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",value);}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(type,event,data){var callback=this.options[type];event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();data=data||{};if(event.originalEvent){for(var i=$.event.props.length,prop;i;){prop=$.event.props[--i];event[prop]=event.originalEvent[prop];}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.call(this.element[0],event,data)===false||event.isDefaultPrevented());}};})(jQuery);(function($,undefined){$.widget("ui.mouse",{options:{cancel:':input,option',distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind('mousedown.'+this.widgetName,function(event){return self._mouseDown(event);}).bind('click.'+this.widgetName,function(event){if(self._preventClickEvent){self._preventClickEvent=false;event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName);},_mouseDown:function(event){event.originalEvent=event.originalEvent||{};if(event.originalEvent.mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var self=this,btnIsLeft=(event.which==1),elIsCancel=(typeof this.options.cancel=="string"?$(event.target).parents().add(event.target).filter(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
this._mouseMoveDelegate=function(event){return self._mouseMove(event);};this._mouseUpDelegate=function(event){return self._mouseUp(event);};$(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate);event.preventDefault();event.originalEvent.mouseHandled=true;return true;},_mouseMove:function(event){if($.browser.msie&&!(document.documentMode>=9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(event.target==this._mouseDownEvent.target);this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(event){return this.mouseDelayMet;},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return true;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,verticalPositions=/top|center|bottom/,center="center",_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var target=$(options.of),targetElem=target[0],collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0],targetWidth,targetHeight,basePosition;if(targetElem.nodeType===9){targetWidth=target.width();targetHeight=target.height();basePosition={top:0,left:0};}else if(targetElem.setTimeout){targetWidth=target.width();targetHeight=target.height();basePosition={top:target.scrollTop(),left:target.scrollLeft()};}else if(targetElem.preventDefault){options.at="left top";targetWidth=targetHeight=0;basePosition={top:options.of.pageY,left:options.of.pageX};}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();basePosition=target.offset();}
$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");if(pos.length===1){pos=horizontalPositions.test(pos[0])?pos.concat([center]):verticalPositions.test(pos[0])?[center].concat(pos):[center,center];}
pos[0]=horizontalPositions.test(pos[0])?pos[0]:center;pos[1]=verticalPositions.test(pos[1])?pos[1]:center;options[this]=pos;});if(collision.length===1){collision[1]=collision[0];}
offset[0]=parseInt(offset[0],10)||0;if(offset.length===1){offset[1]=offset[0];}
offset[1]=parseInt(offset[1],10)||0;if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]===center){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]===center){basePosition.top+=targetHeight/2;}
basePosition.left+=offset[0];basePosition.top+=offset[1];return this.each(function(){var elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseInt($.curCSS(this,"marginLeft",true))||0,marginTop=parseInt($.curCSS(this,"marginTop",true))||0,collisionWidth=elemWidth+marginLeft+
parseInt($.curCSS(this,"marginRight",true))||0,collisionHeight=elemHeight+marginTop+
parseInt($.curCSS(this,"marginBottom",true))||0,position=$.extend({},basePosition),collisionPosition;if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]===center){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]===center){position.top-=elemHeight/2;}
position.left=parseInt(position.left);position.top=parseInt(position.top);collisionPosition={left:position.left-marginLeft,top:position.top-marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:offset,my:options.my,at:options.at});}});if($.fn.bgiframe){elem.bgiframe();}
elem.offset($.extend(position,{using:options.using}));});};$.ui.position={fit:{left:function(position,data){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(position.left-data.collisionPosition.left,position.left);},top:function(position,data){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(position.top-data.collisionPosition.top,position.top);}},flip:{left:function(position,data){if(data.at[0]===center){return;}
var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft(),myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:-data.targetWidth,offset=-2*data.offset[0];position.left+=data.collisionPosition.left<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0;},top:function(position,data){if(data.at[1]===center){return;}
var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop(),myOffset=data.my[1]==="top"?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=data.collisionPosition.top<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0;}}};if(!$.offset.setOffset){$.offset.setOffset=function(elem,options){if(/static/.test($.curCSS(elem,"position"))){elem.style.position="relative";}
var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",true),10)||0,curLeft=parseInt($.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if('using'in options){options.using.call(elem,props);}else{curElem.css(props);}};$.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null;}
if(options){return this.each(function(){$.offset.setOffset(this,options);});}
return _offset.call(this);};}}(jQuery));(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=='original'&&!(/^(?:r|a|f)/).test(this.element.css("position")))
this.element[0].style.position='relative';(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data('draggable'))return;this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable"
+" ui-draggable-dragging"
+" ui-draggable-disabled");this._mouseDestroy();return this;},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).is('.ui-resizable-handle'))
return false;this.handle=this._getHandle(event);if(!this.handle)
return false;return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._cacheHelperProportions();if($.ui.ddmanager)
$.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));if(o.containment)
this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour)
$.ui.ddmanager.prepareOffsets(this,event);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(event,true);return true;},_mouseDrag:function(event,noPropagation){this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger('drag',event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+'px';if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+'px';if($.ui.ddmanager)$.ui.ddmanager.drag(this,event);return false;},_mouseStop:function(event){var dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour)
dropped=$.ui.ddmanager.drop(this,event);if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(!this.element[0]||!this.element[0].parentNode)
return false;if((this.options.revert=="invalid"&&!dropped)||(this.options.revert=="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(self._trigger("stop",event)!==false){self._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length?true:false;$(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==event.target)handle=true;});return handle;},_createHelper:function(event){var o=this.options;var helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper=='clone'?this.element.clone():this.element);if(!helper.parents('body').length)
helper.appendTo((o.appendTo=='parent'?this.element[0].parentNode:o.appendTo));if(helper[0]!=this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position")))
helper.css("position","absolute");return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj=='string'){obj=obj.split(' ');}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if('left'in obj){this.offset.click.left=obj.left+this.margins.left;}
if('right'in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if('top'in obj){this.offset.click.top=obj.top+this.margins.top;}
if('bottom'in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition=='absolute'&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=='html'&&$.browser.msie))
po={top:0,left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var o=this.options;if(o.containment=='parent')o.containment=this.helper[0].parentNode;if(o.containment=='document'||o.containment=='window')this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment=='document'?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment=='document'?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!(/^(document|window|parent)$/).test(o.containment)&&o.containment.constructor!=Array){var ce=$(o.containment)[0];if(!ce)return;var co=$(o.containment).offset();var over=($(ce).css("overflow")!='hidden');this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}else if(o.containment.constructor==Array){this.containment=o.containment;}},_convertPositionTo:function(d,pos){if(!pos)pos=this.position;var mod=d=="absolute"?1:-1;var o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top
+this.offset.relative.top*mod
+this.offset.parent.top*mod
-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left
+this.offset.relative.left*mod
+this.offset.parent.left*mod
-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);var pageX=event.pageX;var pageY=event.pageY;if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0])pageX=this.containment[0]+this.offset.click.left;if(event.pageY-this.offset.click.top<this.containment[1])pageY=this.containment[1]+this.offset.click.top;if(event.pageX-this.offset.click.left>this.containment[2])pageX=this.containment[2]+this.offset.click.left;if(event.pageY-this.offset.click.top>this.containment[3])pageY=this.containment[3]+this.offset.click.top;}
if(o.grid){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?(!(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top:(!(top-this.offset.click.top<this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?(!(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left:(!(left-this.offset.click.left<this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY
-this.offset.click.top
-this.offset.relative.top
-this.offset.parent.top
+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX
-this.offset.click.left
-this.offset.relative.left
-this.offset.parent.left
+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type=="drag")this.positionAbs=this._convertPositionTo("absolute");return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.extend($.ui.draggable,{version:"1.8.6"});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,'sortable');if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable._refreshItems();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper=='original')
this.instance.currentItem.css({top:'auto',left:'auto'});}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("draggable"),self=this;var checkPos=function(o){var dyClick=this.offset.click.top,dxClick=this.offset.click.left;var helperTop=this.positionAbs.top,helperLeft=this.positionAbs.left;var itemHeight=o.height,itemWidth=o.width;var itemTop=o.top,itemLeft=o.left;return $.ui.isOver(helperTop+dyClick,helperLeft+dxClick,itemTop,itemLeft,itemHeight,itemWidth);};$.each(inst.sortables,function(i){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(self).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem)this.instance._mouseDrag(event);}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger('out',event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder)this.instance.placeholder.remove();inst._trigger("fromSortable",event);inst.dropped=false;}};});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$('body'),o=$(this).data('draggable').options;if(t.css("cursor"))o._cursor=t.css("cursor");t.css("cursor",o.cursor);},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._cursor)$('body').css("cursor",o._cursor);}});$.ui.plugin.add("draggable","iframeFix",{start:function(event,ui){var o=$(this).data('draggable').options;$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});},stop:function(event,ui){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data('draggable').options;if(t.css("opacity"))o._opacity=t.css("opacity");t.css('opacity',o.opacity);},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._opacity)$(ui.helper).css('opacity',o._opacity);}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML')i.overflowOffset=i.scrollParent.offset();},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML'){if(!o.axis||o.axis!='x'){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity)
i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity)
i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}
if(!o.axis||o.axis!='y'){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity)
i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity)
i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(!o.axis||o.axis!='x'){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity)
scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity)
scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(!o.axis||o.axis!='y'){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity)
scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity)
scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour)
$.ui.ddmanager.prepareOffsets(i,event);}});$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!=String?(o.snap.items||':data(draggable)'):o.snap).each(function(){var $t=$(this);var $o=$t.offset();if(this!=i.element[0])i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});});},drag:function(event,ui){var inst=$(this).data("draggable"),o=inst.options;var d=o.snapTolerance;var x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(var i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(!((l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d)||(l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d)||(l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d)||(l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d))){if(inst.snapElements[i].snapping)(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!='inner'){var ts=Math.abs(t-y2)<=d;var bs=Math.abs(b-y1)<=d;var ls=Math.abs(l-x2)<=d;var rs=Math.abs(r-x1)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}
var first=(ts||bs||ls||rs);if(o.snapMode!='outer'){var ts=Math.abs(t-y1)<=d;var bs=Math.abs(b-y2)<=d;var ls=Math.abs(l-x1)<=d;var rs=Math.abs(r-x2)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first))
(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=(ts||bs||ls||rs||first);};}});$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options;var group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i;});this[0].style.zIndex=min+group.length;}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;if(t.css("zIndex"))o._zIndex=t.css("zIndex");t.css('zIndex',o.zIndex);},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._zIndex)$(ui.helper).css('zIndex',o._zIndex);}});})(jQuery);(function($,undefined){var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(event){$(":ui-button",event.target.form).each(function(){var inst=$(this).data("button");setTimeout(function(){inst.refresh();},1);});},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=this.element.attr("disabled");}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",hoverClass="ui-state-hover"+(!toggleButton?" ui-state-active":""),focusClass="ui-state-focus";if(options.label===null){options.label=this.buttonElement.html();}
if(this.element.is(":disabled")){options.disabled=true;}
this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",function(){if(options.disabled){return;}
$(this).addClass("ui-state-hover");if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){if(options.disabled){return;}
$(this).removeClass(hoverClass);}).bind("focus.button",function(){$(this).addClass(focusClass);}).bind("blur.button",function(){$(this).removeClass(focusClass);});if(toggleButton){this.element.bind("change.button",function(){self.refresh();});}
if(this.type==="checkbox"){if(navigator!=null&&navigator.userAgent!=null&&navigator.userAgent.indexOf("Firefox")<0){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}
$(this).toggleClass("ui-state-active");self.buttonElement.attr("aria-pressed",self.element[0].checked);});}}else if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");self.buttonElement.attr("aria-pressed",true);var radio=self.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed",false);});}else{this.buttonElement.bind("mousedown.button",function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;$(document).one("mouseup",function(){lastActive=null;});}).bind("mouseup.button",function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown.button",function(event){if(options.disabled){return false;}
if(event.keyCode==$.ui.keyCode.SPACE||event.keyCode==$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup.button",function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox";}else{if(this.element.is(":radio")){this.type="radio";}else{if(this.element.is("input")){this.type="input";}else{this.type="button";}}}
if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.attr("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}
$.Widget.prototype.destroy.call(this);},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="disabled"){if(value){this.element.attr("disabled",true);}else{this.element.removeAttr("disabled");}}
this._resetButton();},refresh:function(){var isDisabled=this.element.is(":disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true);}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false);}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true);}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false);}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary;if(icons.primary||icons.secondary){buttonElement.addClass("ui-button-text-icon"+
(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonElement.addClass(multipleIcons?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");if(!this.hasTitle){buttonElement.attr("title",buttonText);}}}else{buttonElement.addClass("ui-button-text-only");}}});$.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
$.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":visible").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");$.Widget.prototype.destroy.call(this);}});}(jQuery));(function($,undefined){$.widget("ui.progressbar",{options:{value:0},min:0,max:100,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this._value()});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();$.Widget.prototype.destroy.apply(this,arguments);},value:function(newValue){if(newValue===undefined){return this._value();}
this._setOption("value",newValue);return this;},_setOption:function(key,value){if(key==="value"){this.options.value=value;this._refreshValue();this._trigger("change");if(this._value()===this.max){this._trigger("complete");}}
$.Widget.prototype._setOption.apply(this,arguments);},_value:function(){var val=this.options.value;if(typeof val!=="number"){val=0;}
return Math.min(this.max,Math.max(this.min,val));},_refreshValue:function(){var value=this.value();this.valueDiv.toggleClass("ui-corner-right",value===this.max).width(value+"%");this.element.attr("aria-valuenow",value);}});$.extend($.ui.progressbar,{version:"1.8.6"});})(jQuery);(function($){$.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:true,style:'dropdown',positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){}},_create:function(){var self=this,o=this.options;var selectmenuId=this.element.attr('id')||'ui-selectmenu-'+Math.random().toString(16).slice(2,10);this.ids=[selectmenuId+'-'+'button',selectmenuId+'-'+'menu'];this._safemouseup=true;this.newelement=$('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);var tabindex=this.element.attr('tabindex');if(tabindex){this.newelement.attr('tabindex',tabindex);}
this.newelement.data('selectelement',this.element);this.selectmenuIcon=$('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement).addClass((o.style=="popup")?'ui-icon-triangle-2-n-s':'ui-icon-triangle-1-s');$('label[for='+this.element.attr('id')+']').attr('for',this.ids[0]).bind('click',function(){self.newelement[0].focus();return false;});this.newelement.bind('mousedown',function(event){self._toggle(event,true);if(o.style=="popup"){self._safemouseup=false;setTimeout(function(){self._safemouseup=true;},300);}
return false;}).bind('click',function(){return false;}).keydown(function(event){var ret=true;switch(event.keyCode){case $.ui.keyCode.ENTER:ret=true;break;case $.ui.keyCode.SPACE:ret=false;self._toggle(event);break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:ret=false;self._moveSelection(-1);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.RIGHT:ret=false;self._moveSelection(1);break;case $.ui.keyCode.TAB:ret=true;break;default:ret=true;self._typeAhead(event.keyCode,'mouseup');break;}
return ret;}).bind('mouseover focus',function(){if(!o.disabled)$(this).addClass(self.widgetBaseClass+'-focus ui-state-hover');}).bind('mouseout blur',function(){if(!o.disabled)$(this).removeClass(self.widgetBaseClass+'-focus ui-state-hover');});$(document).mousedown(function(event){self.close(event);});this.element.click(function(){this._refreshValue();}).focus(function(){if(this.newelement){this.newelement[0].focus();}});var cornerClass=(o.style=="dropdown")?" ui-corner-bottom":" ui-corner-all";this.list=$('<ul class="'+self.widgetBaseClass+'-menu ui-widget ui-widget-content'+cornerClass+'" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo('body');var selectOptionData=[];this.element.find('option').each(function(){selectOptionData.push({value:$(this).attr('value'),text:self._formatText(jQuery(this).text()),selected:$(this).attr('selected'),classes:$(this).attr('class'),parentOptGroup:$(this).parent('optgroup').attr('label'),bgImage:o.bgImage.call($(this))});});var activeClass=(self.options.style=="popup")?" ui-state-active":"";for(var i=0;i<selectOptionData.length;i++){var thisLi=$('<li role="presentation"><a href="#" tabindex="-1" role="option" aria-selected="false">'+selectOptionData[i].text+'</a></li>').data('index',i).addClass(selectOptionData[i].classes).data('optionClasses',selectOptionData[i].classes||'').mouseup(function(event){if(self._safemouseup){var changed=$(this).data('index')!=self._selectedIndex();self.index($(this).data('index'));self.select(event);if(changed){self.change(event);}
self.close(event,true);}
return false;}).click(function(){return false;}).bind('mouseover focus',function(){self._selectedOptionLi().addClass(activeClass);self._focusedOptionLi().removeClass(self.widgetBaseClass+'-item-focus ui-state-hover');$(this).removeClass('ui-state-active').addClass(self.widgetBaseClass+'-item-focus ui-state-hover');}).bind('mouseout blur',function(){if($(this).is(self._selectedOptionLi().selector)){$(this).addClass(activeClass);}
$(this).removeClass(self.widgetBaseClass+'-item-focus ui-state-hover');});if(selectOptionData[i].parentOptGroup){var optGroupName=self.widgetBaseClass+'-group-'+selectOptionData[i].parentOptGroup.replace(/[^a-zA-Z0-9]/g,"");if(this.list.find('li.'+optGroupName).size()){this.list.find('li.'+optGroupName+':last ul').append(thisLi);}
else{$('<li role="presentation" class="'+self.widgetBaseClass+'-group '+optGroupName+'"><span class="'+self.widgetBaseClass+'-group-label">'+selectOptionData[i].parentOptGroup+'</span><ul></ul></li>').appendTo(this.list).find('ul').append(thisLi);}}
else{thisLi.appendTo(this.list);}
this.list.bind('mousedown mouseup',function(){return false;});if(o.icons){for(var j in o.icons){if(thisLi.is(o.icons[j].find)){thisLi.data('optionClasses',selectOptionData[i].classes+' '+self.widgetBaseClass+'-hasIcon').addClass(self.widgetBaseClass+'-hasIcon');var iconClass=o.icons[j].icon||"";thisLi.find('a:eq(0)').prepend('<span class="'+self.widgetBaseClass+'-item-icon ui-icon '+iconClass+'"></span>');if(selectOptionData[i].bgImage){thisLi.find('span').css('background-image',selectOptionData[i].bgImage);}}}}}
this.list.find('li:last').addClass("ui-corner-bottom");if(o.style=='popup'){this.list.find('li:first').addClass("ui-corner-top");}
if(o.transferClasses){var transferClasses=this.element.attr('class')||'';this.newelement.add(this.list).addClass(transferClasses);}
var selectWidth=this.element.width();this.newelement.width((o.width)?o.width:selectWidth);if(o.style=='dropdown'){this.list.width((o.menuWidth)?o.menuWidth:((o.width)?o.width:selectWidth));}
else{this.list.width((o.menuWidth)?o.menuWidth:((o.width)?o.width-o.handleWidth:selectWidth-o.handleWidth));}
if(o.maxHeight){if(o.maxHeight<this.list.height()){this.list.height(o.maxHeight);}}else{if(!o.format&&($(window).height()/3)<this.list.height()){o.maxHeight=$(window).height()/3;this.list.height(o.maxHeight);}}
this._optionLis=this.list.find('li:not(.'+self.widgetBaseClass+'-group)');this.list.keydown(function(event){var ret=true;switch(event.keyCode){case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:ret=false;self._moveFocus(-1);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.RIGHT:ret=false;self._moveFocus(1);break;case $.ui.keyCode.HOME:ret=false;self._moveFocus(':first');break;case $.ui.keyCode.PAGE_UP:ret=false;self._scrollPage('up');break;case $.ui.keyCode.PAGE_DOWN:ret=false;self._scrollPage('down');break;case $.ui.keyCode.END:ret=false;self._moveFocus(':last');break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:ret=false;self.close(event,true);$(event.target).parents('li:eq(0)').trigger('mouseup');break;case $.ui.keyCode.TAB:ret=true;self.close(event,true);break;case $.ui.keyCode.ESCAPE:ret=false;self.close(event,true);break;}
return ret;});if(o.style=='dropdown'){this.newelement.addClass(self.widgetBaseClass+"-dropdown");this.list.addClass(self.widgetBaseClass+"-menu-dropdown");}
else{this.newelement.addClass(self.widgetBaseClass+"-popup");this.list.addClass(self.widgetBaseClass+"-menu-popup");}
this.newelement.prepend('<span class="'+self.widgetBaseClass+'-status">'+selectOptionData[this._selectedIndex()].text+'</span>');this.element.hide();if(this.element.attr('disabled')==true){this.disable();}
this.index(this._selectedIndex());window.setTimeout(function(){self._refreshPosition();},200);$(window).resize(function(){self._refreshPosition();});},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+'-disabled'+' '+this.namespace+'-state-disabled').removeAttr('aria-disabled').unbind("click");$('label[for='+this.newelement.attr('id')+']').attr('for',this.element.attr('id')).unbind('click');this.newelement.remove();this.list.remove();this.element.show();$.Widget.prototype.destroy.apply(this,arguments);},_typeAhead:function(code,eventType){var self=this;if(!self._prevChar){self._prevChar=['',0];}
var C=String.fromCharCode(code);c=C.toLowerCase();var focusFound=false;function focusOpt(elem,ind){focusFound=true;$(elem).trigger(eventType);self._prevChar[1]=ind;}
this.list.find('li a').each(function(i){if(!focusFound){var thisText=$(this).text();if(thisText.indexOf(C)==0||thisText.indexOf(c)==0){if(self._prevChar[0]==C){if(self._prevChar[1]<i){focusOpt(this,i);}}
else{focusOpt(this,i);}}}});this._prevChar[0]=C;},_uiHash:function(){var index=this.index();return{index:index,option:$("option",this.element).get(index),value:this.element[0].value};},open:function(event){var self=this;var disabledStatus=this.newelement.attr("aria-disabled");if(disabledStatus!='true'){this._refreshPosition();this._closeOthers(event);this.newelement.addClass('ui-state-active');this.list.appendTo('body').addClass(self.widgetBaseClass+'-open').attr('aria-hidden',false).find('li:not(.'+self.widgetBaseClass+'-group):eq('+this._selectedIndex()+') a')[0].focus();if(this.options.style=="dropdown"){this.newelement.removeClass('ui-corner-all').addClass('ui-corner-top');}
this._refreshPosition();this._trigger("open",event,this._uiHash());}},close:function(event,retainFocus){if(this.newelement.is('.ui-state-active')){this.newelement.removeClass('ui-state-active');this.list.attr('aria-hidden',true).removeClass(this.widgetBaseClass+'-open');if(this.options.style=="dropdown"){this.newelement.removeClass('ui-corner-top').addClass('ui-corner-all');}
if(retainFocus){this.newelement.focus();}
this._trigger("close",event,this._uiHash());}},change:function(event){this.element.trigger('change');this._trigger("change",event,this._uiHash());},select:function(event){this._trigger("select",event,this._uiHash());},_closeOthers:function(event){$('.'+this.widgetBaseClass+'.ui-state-active').not(this.newelement).each(function(){$(this).data('selectelement').selectmenu('close',event);});$('.'+this.widgetBaseClass+'.ui-state-hover').trigger('mouseout');},_toggle:function(event,retainFocus){if(this.list.is('.'+this.widgetBaseClass+'-open')){this.close(event,retainFocus);}
else{this.open(event);}},_formatText:function(text){return this.options.format?this.options.format(text):text;},_selectedIndex:function(){return this.element[0].selectedIndex;},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex());},_focusedOptionLi:function(){return this.list.find('.'+this.widgetBaseClass+'-item-focus');},_moveSelection:function(amt){var currIndex=parseInt(this._selectedOptionLi().data('index'),10);var newIndex=currIndex+amt;return this._optionLis.eq(newIndex).trigger('mouseup');},_moveFocus:function(amt){if(!isNaN(amt)){var currIndex=parseInt(this._focusedOptionLi().data('index')||0,10);var newIndex=currIndex+amt;}
else{var newIndex=parseInt(this._optionLis.filter(amt).data('index'),10);}
if(newIndex<0){newIndex=0;}
if(newIndex>this._optionLis.size()-1){newIndex=this._optionLis.size()-1;}
var activeID=this.widgetBaseClass+'-item-'+Math.round(Math.random()*1000);this._focusedOptionLi().find('a:eq(0)').attr('id','');this._optionLis.eq(newIndex).find('a:eq(0)').attr('id',activeID).focus();this.list.attr('aria-activedescendant',activeID);},_scrollPage:function(direction){var numPerPage=Math.floor(this.list.outerHeight()/this.list.find('li:first').outerHeight());numPerPage=(direction=='up')?-numPerPage:numPerPage;this._moveFocus(numPerPage);},_setOption:function(key,value){this.options[key]=value;if(key=='disabled'){this.close();this.element.add(this.newelement).add(this.list)
[value?'addClass':'removeClass'](this.widgetBaseClass+'-disabled'+' '+
this.namespace+'-state-disabled').attr("aria-disabled",value);}},index:function(newValue){if(arguments.length){this.element[0].selectedIndex=newValue;this._refreshValue();}else{return this._selectedIndex();}},value:function(newValue){if(arguments.length){if(typeof newValue=="number"){this.index(newValue);}else if(typeof newValue=="string"){this.element[0].value=newValue;this._refreshValue();}}else{return this.element[0].value;}},_refreshValue:function(){var activeClass=(this.options.style=="popup")?" ui-state-active":"";var activeID=this.widgetBaseClass+'-item-'+Math.round(Math.random()*1000);this.list.find('.'+this.widgetBaseClass+'-item-selected').removeClass(this.widgetBaseClass+"-item-selected"+activeClass).find('a').attr('aria-selected','false').attr('id','');this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+activeClass).find('a').attr('aria-selected','true').attr('id',activeID);var currentOptionClasses=this.newelement.data('optionClasses')?this.newelement.data('optionClasses'):"";var newOptionClasses=this._selectedOptionLi().data('optionClasses')?this._selectedOptionLi().data('optionClasses'):"";this.newelement.removeClass(currentOptionClasses).data('optionClasses',newOptionClasses).addClass(newOptionClasses).find('.'+this.widgetBaseClass+'-status').html(this._selectedOptionLi().find('a:eq(0)').html());this.list.attr('aria-activedescendant',activeID);},_refreshPosition:function(){var o=this.options;if(o.style=="popup"&&!o.positionOptions.offset){var selected=this.list.find('li:not(.ui-selectmenu-group):eq('+this._selectedIndex()+')');var _offset="0 -"+(selected.outerHeight()+selected.offset().top-this.list.offset().top);}
this.list.css({zIndex:this.element.zIndex()}).position({of:o.positionOptions.of||this.newelement,my:o.positionOptions.my,at:o.positionOptions.at,offset:o.positionOptions.offset||_offset});}});})(jQuery);(function($,undefined){var uiDialogClasses='ui-dialog '+'ui-widget '+'ui-widget-content '+'ui-corner-all ',sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:'close',dialogClass:'',draggable:true,hide:null,height:'auto',maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:'center',at:'center',of:window,collision:'fit',using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css('top',pos.top-topOffset);}}},resizable:true,show:null,stack:true,title:'',width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr('title');if(typeof this.originalTitle!=="string"){this.originalTitle="";}
this.options.title=this.options.title||this.originalTitle;var self=this,options=self.options,title=options.title||'&#160;',titleId=$.ui.dialog.getTitleId(self.element),uiDialog=(self.uiDialog=$('<div></div>')).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr('tabIndex',-1).css('outline',0).keydown(function(event){if(options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){self.close(event);event.preventDefault();}}).attr({role:'dialog','aria-labelledby':titleId}).mousedown(function(event){self.moveToTop(false,event);}),uiDialogContent=self.element.show().removeAttr('title').addClass('ui-dialog-content '+'ui-widget-content').appendTo(uiDialog),uiDialogTitlebar=(self.uiDialogTitlebar=$('<div></div>')).addClass('ui-dialog-titlebar '+'ui-widget-header '+'ui-corner-all '+'ui-helper-clearfix').prependTo(uiDialog),uiDialogTitlebarClose=$('<a href="#"></a>').addClass('ui-dialog-titlebar-close '+'ui-corner-all').attr('role','button').hover(function(){uiDialogTitlebarClose.addClass('ui-state-hover');},function(){uiDialogTitlebarClose.removeClass('ui-state-hover');}).focus(function(){uiDialogTitlebarClose.addClass('ui-state-focus');}).blur(function(){uiDialogTitlebarClose.removeClass('ui-state-focus');}).click(function(event){self.close(event);return false;}).appendTo(uiDialogTitlebar),uiDialogTitlebarCloseText=(self.uiDialogTitlebarCloseText=$('<span></span>')).addClass('ui-icon '+'ui-icon-closethick').text(options.closeText).appendTo(uiDialogTitlebarClose),uiDialogTitle=$('<span></span>').addClass('ui-dialog-title').attr('id',titleId).html(title).prependTo(uiDialogTitlebar);if($.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose)){options.beforeClose=options.beforeclose;}
uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection();if(options.draggable&&$.fn.draggable){self._makeDraggable();}
if(options.resizable&&$.fn.resizable){self._makeResizable();}
self._createButtons(options.buttons);self._isOpen=false;if($.fn.bgiframe){uiDialog.bgiframe();}},_init:function(){if(this.options.autoOpen){this.open();}},destroy:function(){var self=this;if(self.overlay){self.overlay.destroy();}
self.uiDialog.hide();self.element.unbind('.dialog').removeData('dialog').removeClass('ui-dialog-content ui-widget-content').hide().appendTo('body');self.uiDialog.remove();if(self.originalTitle){self.element.attr('title',self.originalTitle);}
return self;},widget:function(){return this.uiDialog;},close:function(event){var self=this,maxZ;if(false===self._trigger('beforeClose',event)){return;}
if(self.overlay){self.overlay.destroy();}
self.uiDialog.unbind('keypress.ui-dialog');self._isOpen=false;if(self.options.hide){self.uiDialog.hide(self.options.hide,function(){self._trigger('close',event);});}else{self.uiDialog.hide();self._trigger('close',event);}
$.ui.dialog.overlay.resize();if(self.options.modal){maxZ=0;$('.ui-dialog').each(function(){if(this!==self.uiDialog[0]){maxZ=Math.max(maxZ,$(this).css('z-index'));}});$.ui.dialog.maxZ=maxZ;}
return self;},isOpen:function(){return this._isOpen;},moveToTop:function(force,event){var self=this,options=self.options,saveScroll;if((options.modal&&!force)||(!options.stack&&!options.modal)){return self._trigger('focus',event);}
if(options.zIndex>$.ui.dialog.maxZ){$.ui.dialog.maxZ=options.zIndex;}
if(self.overlay){$.ui.dialog.maxZ+=1;self.overlay.$el.css('z-index',$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ);}
saveScroll={scrollTop:self.element.attr('scrollTop'),scrollLeft:self.element.attr('scrollLeft')};$.ui.dialog.maxZ+=1;self.uiDialog.css('z-index',$.ui.dialog.maxZ);self.element.attr(saveScroll);self._trigger('focus',event);return self;},open:function(){if(this._isOpen){return;}
var self=this,options=self.options,uiDialog=self.uiDialog;self.overlay=options.modal?new $.ui.dialog.overlay(self):null;self._size();self._position(options.position);uiDialog.show(options.show);self.moveToTop(true);if(options.modal){uiDialog.bind('keypress.ui-dialog',function(event){if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=$(':tabbable',this),first=tabbables.filter(':first'),last=tabbables.filter(':last');if(event.target===last[0]&&!event.shiftKey){first.focus(1);return false;}else if(event.target===first[0]&&event.shiftKey){last.focus(1);return false;}});}
$(self.element.find(':tabbable').get().concat(uiDialog.find('.ui-dialog-buttonpane :tabbable').get().concat(uiDialog.get()))).eq(0).focus();self._isOpen=true;self._trigger('open');return self;},_createButtons:function(buttons){var self=this,hasButtons=false,uiDialogButtonPane=$('<div></div>').addClass('ui-dialog-buttonpane '+'ui-widget-content '+'ui-helper-clearfix'),uiButtonSet=$("<div></div>").addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);self.uiDialog.find('.ui-dialog-buttonpane').remove();if(typeof buttons==='object'&&buttons!==null){$.each(buttons,function(){return!(hasButtons=true);});}
if(hasButtons){$.each(buttons,function(name,props){props=$.isFunction(props)?{click:props,text:name}:props;var button=$('<button type="button"></button>').attr(props,true).unbind('click').click(function(){props.click.apply(self.element[0],arguments);}).appendTo(uiButtonSet);if($.fn.button){button.button();}});uiDialogButtonPane.appendTo(self.uiDialog);}},_makeDraggable:function(){var self=this,options=self.options,doc=$(document),heightBeforeDrag;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
self.uiDialog.draggable({cancel:'.ui-dialog-content, .ui-dialog-titlebar-close',handle:'.ui-dialog-titlebar',containment:'document',start:function(event,ui){heightBeforeDrag=options.height==="auto"?"auto":$(this).height();$(this).height($(this).height()).addClass("ui-dialog-dragging");self._trigger('dragStart',event,filteredUi(ui));},drag:function(event,ui){self._trigger('drag',event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()];$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag);self._trigger('dragStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}});},_makeResizable:function(handles){handles=(handles===undefined?this.options.resizable:handles);var self=this,options=self.options,position=self.uiDialog.css('position'),resizeHandles=(typeof handles==='string'?handles:'n,e,s,w,se,sw,ne,nw');function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
self.uiDialog.resizable({cancel:'.ui-dialog-content',containment:'document',alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");self._trigger('resizeStart',event,filteredUi(ui));},resize:function(event,ui){self._trigger('resize',event,filteredUi(ui));},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing");options.height=$(this).height();options.width=$(this).width();self._trigger('resizeStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}}).css('position',position).find('.ui-resizable-se').addClass('ui-icon ui-icon-grip-diagonal-se');},_minHeight:function(){var options=this.options;if(options.height==='auto'){return options.minHeight;}else{return Math.min(options.minHeight,options.height);}},_position:function(position){var myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==='string'||(typeof position==='object'&&'0'in position)){myAt=position.split?position.split(' '):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(['left','top'],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(':visible');if(!isVisible){this.uiDialog.show();}
this.uiDialog.css({top:0,left:0}).position(position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var self=this,resizableOptions={},resize=false;$.each(options,function(key,value){self._setOption(key,value);if(key in sizeRelatedOptions){resize=true;}
if(key in resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();}
if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":if(value){uiDialog.addClass('ui-dialog-disabled');}else{uiDialog.removeClass('ui-dialog-disabled');}
break;case"draggable":var isDraggable=uiDialog.is(":data(draggable)")
if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){self._makeDraggable();}
break;case"position":self._position(value);break;case"resizable":var isResizable=uiDialog.is(":data(resizable)")
if(isResizable&&!value){uiDialog.resizable('destroy');}
if(isResizable&&typeof value==='string'){uiDialog.resizable('option','handles',value);}
if(!isResizable&&value!==false){self._makeResizable(value);}
break;case"title":$(".ui-dialog-title",self.uiDialogTitlebar).html(""+(value||'&#160;'));break;}
$.Widget.prototype._setOption.apply(self,arguments);},_size:function(){var options=this.options,nonContentHeight,minContentHeight;this.element.show().css({width:'auto',minHeight:0,height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:'auto',width:options.width}).height();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);if(options.height==="auto"){if($.support.minHeight){this.element.css({minHeight:minContentHeight,height:"auto"});}else{this.uiDialog.show();var autoHeight=this.element.css("height","auto").height();this.uiDialog.hide();this.element.height(Math.max(autoHeight,minContentHeight));}}else{this.element.height(Math.max(options.height-nonContentHeight,0));}
if(this.uiDialog.is(':data(resizable)')){this.uiDialog.resizable('option','minHeight',this._minHeight());}}});$.extend($.ui.dialog,{version:"1.8.6",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr('id');if(!id){this.uuid+=1;id=this.uuid;}
return'ui-dialog-title-'+id;},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog);}});$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map('focus,mousedown,mouseup,keydown,keypress,click'.split(','),function(event){return event+'.dialog-overlay';}).join(' '),create:function(dialog){if(this.instances.length===0){setTimeout(function(){if($.ui.dialog.overlay.instances.length){$(document).bind($.ui.dialog.overlay.events,function(event){if($(event.target).zIndex()<$.ui.dialog.overlay.maxZ){return false;}});}},1);$(document).bind('keydown.dialog-overlay',function(event){if(dialog.options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){dialog.close(event);event.preventDefault();}});$(window).bind('resize.dialog-overlay',$.ui.dialog.overlay.resize);}
var $el=(this.oldInstances.pop()||$('<div></div>').addClass('ui-widget-overlay')).appendTo(document.body).css({width:this.width(),height:this.height()});if($.fn.bgiframe){$el.bgiframe();}
this.instances.push($el);return $el;},destroy:function($el){this.oldInstances.push(this.instances.splice($.inArray($el,this.instances),1)[0]);if(this.instances.length===0){$([document,window]).unbind('.dialog-overlay');}
$el.remove();var maxZ=0;$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css('z-index'));});this.maxZ=maxZ;},height:function(){var scrollHeight,offsetHeight;if($.browser.msie&&$.browser.version<7){scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(scrollHeight<offsetHeight){return $(window).height()+'px';}else{return scrollHeight+'px';}}else{return $(document).height()+'px';}},width:function(){var scrollWidth,offsetWidth;if($.browser.msie&&$.browser.version<7){scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(scrollWidth<offsetWidth){return $(window).width()+'px';}else{return scrollWidth+'px';}}else{return $(document).width()+'px';}},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this);});$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()});}});$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el);}});}(jQuery));(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var self=this,o=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");if(o.disabled){this.element.addClass("ui-slider-disabled ui-disabled");}
this.range=$([]);if(o.range){if(o.range===true){this.range=$("<div></div>");if(!o.values){o.values=[this._valueMin(),this._valueMin()];}
if(o.values.length&&o.values.length!==2){o.values=[o.values[0],o.values[0]];}}else{this.range=$("<div></div>");}
this.range.appendTo(this.element).addClass("ui-slider-range");if(o.range==="min"||o.range==="max"){this.range.addClass("ui-slider-range-"+o.range);}
this.range.addClass("ui-widget-header");}
if($(".ui-slider-handle",this.element).length===0){$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");}
if(o.values&&o.values.length){while($(".ui-slider-handle",this.element).length<o.values.length){$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");}}
this.handles=$(".ui-slider-handle",this.element).addClass("ui-state-default"+" ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(event){event.preventDefault();}).hover(function(){if(!o.disabled){$(this).addClass("ui-state-hover");}},function(){$(this).removeClass("ui-state-hover");}).focus(function(){if(!o.disabled){$(".ui-slider .ui-state-focus").removeClass("ui-state-focus");$(this).addClass("ui-state-focus");}else{$(this).blur();}}).blur(function(){$(this).removeClass("ui-state-focus");});this.handles.each(function(i){$(this).data("index.ui-slider-handle",i);});this.handles.keydown(function(event){var ret=true,index=$(this).data("index.ui-slider-handle"),allowed,curVal,newVal,step;if(self.options.disabled){return;}
switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:ret=false;if(!self._keySliding){self._keySliding=true;$(this).addClass("ui-state-active");allowed=self._start(event,index);if(allowed===false){return;}}
break;}
step=self.options.step;if(self.options.values&&self.options.values.length){curVal=newVal=self.values(index);}else{curVal=newVal=self.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax()){return;}
newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin()){return;}
newVal=self._trimAlignValue(curVal-step);break;}
self._slide(event,index,newVal);return ret;}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");if(self._keySliding){self._keySliding=false;self._stop(event,index);self._change(event,index);$(this).removeClass("ui-state-active");}});this._refreshValue();this._animateOff=false;},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-slider-disabled"+" ui-widget"+" ui-widget-content"+" ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this;},_mouseCapture:function(event){var o=this.options,position,normValue,distance,closestHandle,self,index,allowed,offset,mouseOverHandle;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;self=this;this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));if(distance>thisDistance){distance=thisDistance;closestHandle=$(this);index=i;}});if(o.range===true&&this.values(1)===o.min){index+=1;closestHandle=$(this.handles[index]);}
allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;self._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};this._slide(event,index,normValue);this._animateOff=true;return true;},_mouseStart:function(event){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if($.isArray(this.options.values)){valsLength=this.options.values.length;}
$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"disabled":if(value){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled");}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled");}
break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}
this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else{vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}},_trimAlignValue:function(val){if(val<this._valueMin()){return this._valueMin();}
if(val>this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=val%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var oRange=this.options.range,o=this.options,self=this,animate=(!this._animateOff)?o.animate:false,valPercent,_set={},lastValPercent,value,valueMin,valueMax;if(this.options.values&&this.options.values.length){this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(self.options.range===true){if(self.orientation==="horizontal"){if(i===0){self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){self.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){self.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){self.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}}});$.extend($.ui.slider,{version:"1.8.6"});}(jQuery));(function($,undefined){var tabId=0,listId=0;function getNextTabId(){return++tabId;}
function getNextListId(){return++listId;}
$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true);},_setOption:function(key,value){if(key=="selected"){if(this.options.collapsible&&value==this.options.selected){return;}
this.select(value);}else{this.options[key]=value;this._tabify();}},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+getNextTabId();},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:");},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)));},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)};},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs");});},_tabify:function(init){var self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=$(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return $("a",this)[0];});this.panels=$([]);this.anchors.each(function(i,a){var href=$(a).attr("href");var hrefBase=href.split("#")[0],baseEl;if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)){href=a.hash;a.href=href;}
if(fragmentId.test(href)){self.panels=self.panels.add(self._sanitizeSelector(href));}else if(href&&href!=="#"){$.data(a,"href.tabs",href);$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=$("#"+id);if(!$panel.length){$panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list);$panel.data("destroy.tabs",true);}
self.panels=self.panels.add($panel);}else{o.disabled.push(i);}});if(init){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(o.selected===undefined){if(location.hash){this.anchors.each(function(i,a){if(a.hash==location.hash){o.selected=i;return false;}});}
if(typeof o.selected!=="number"&&o.cookie){o.selected=parseInt(self._cookie(),10);}
if(typeof o.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}
o.selected=o.selected||(this.lis.length?0:-1);}else if(o.selected===null){o.selected=-1;}
o.selected=((o.selected>=0&&this.anchors[o.selected])||o.selected<0)?o.selected:0;o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n);}))).sort();if($.inArray(o.selected,o.disabled)!=-1){o.disabled.splice($.inArray(o.selected,o.disabled),1);}
this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(o.selected>=0&&this.anchors.length){$(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active");self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],$(self._sanitizeSelector(self.anchors[o.selected].hash))));});this.load(o.selected);}
$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs");self.lis=self.anchors=self.panels=null;});}else{o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}
this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(o.cookie){this._cookie(o.selected,o.cookie);}
for(var i=0,li;(li=this.lis[i]);i++){$(li)[$.inArray(i,o.disabled)!=-1&&!$(li).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");}
if(o.cache===false){this.anchors.removeData("cache.tabs");}
this.lis.add(this.anchors).unbind(".tabs");if(o.event!=="mouseover"){var addState=function(state,el){if(el.is(":not(.ui-state-disabled)")){el.addClass("ui-state-"+state);}};var removeState=function(state,el){el.removeClass("ui-state-"+state);};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this));});this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this));});this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"));});this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"));});}
var hideFx,showFx;if(o.fx){if($.isArray(o.fx)){hideFx=o.fx[0];showFx=o.fx[1];}else{hideFx=showFx=o.fx;}}
function resetStyle($el,fx){$el.css("display","");if(!$.support.opacity&&fx.opacity){$el[0].style.removeAttribute("filter");}}
var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx);self._trigger("show",null,self._ui(clicked,$show[0]));});}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.removeClass("ui-tabs-hide");self._trigger("show",null,self._ui(clicked,$show[0]));};var hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");resetStyle($hide,hideFx);self.element.dequeue("tabs");});}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");self.element.dequeue("tabs");};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=$(self._sanitizeSelector(el.hash));if(($li.hasClass("ui-tabs-selected")&&!o.collapsible)||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||self._trigger("select",null,self._ui(this,$show[0]))===false){this.blur();return false;}
o.selected=self.anchors.index(this);self.abort();if(o.collapsible){if($li.hasClass("ui-tabs-selected")){o.selected=-1;if(o.cookie){self._cookie(o.selected,o.cookie);}
self.element.queue("tabs",function(){hideTab(el,$hide);}).dequeue("tabs");this.blur();return false;}else if(!$hide.length){if(o.cookie){self._cookie(o.selected,o.cookie);}
self.element.queue("tabs",function(){showTab(el,$show);});self.load(self.anchors.index(this));this.blur();return false;}}
if(o.cookie){self._cookie(o.selected,o.cookie);}
if($show.length){if($hide.length){self.element.queue("tabs",function(){hideTab(el,$hide);});}
self.element.queue("tabs",function(){showTab(el,$show);});self.load(self.anchors.index(this));}else{throw"jQuery UI Tabs: Mismatching fragment identifier.";}
if($.browser.msie){this.blur();}});this.anchors.bind("click.tabs",function(){return false;});},_getIndex:function(index){if(typeof index=="string"){index=this.anchors.index(this.anchors.filter("[href$="+index+"]"));}
return index;},destroy:function(){var o=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var href=$.data(this,"href.tabs");if(href){this.href=href;}
var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs");});});this.lis.unbind(".tabs").add(this.panels).each(function(){if($.data(this,"destroy.tabs")){$(this).remove();}else{$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "));}});if(o.cookie){this._cookie(null,o.cookie);}
return this;},add:function(url,label,index){if(index===undefined){index=this.anchors.length;}
var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=!url.indexOf("#")?url.replace("#",""):this._tabId($("a",$li)[0]);$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var $panel=$("#"+id);if(!$panel.length){$panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",true);}
$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(index>=this.lis.length){$li.appendTo(this.list);$panel.appendTo(this.list[0].parentNode);}else{$li.insertBefore(this.lis[index]);$panel.insertBefore(this.panels[index]);}
o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n;});this._tabify();if(this.anchors.length==1){o.selected=0;$li.addClass("ui-tabs-selected ui-state-active");$panel.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]));});this.load(0);}
this._trigger("add",null,this._ui(this.anchors[index],this.panels[index]));return this;},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();if($li.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(index+(index+1<this.anchors.length?1:-1));}
o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index;}),function(n,i){return n>=index?--n:n;});this._tabify();this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0]));return this;},enable:function(index){index=this._getIndex(index);var o=this.options;if($.inArray(index,o.disabled)==-1){return;}
this.lis.eq(index).removeClass("ui-state-disabled");o.disabled=$.grep(o.disabled,function(n,i){return n!=index;});this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index]));return this;},disable:function(index){index=this._getIndex(index);var self=this,o=this.options;if(index!=o.selected){this.lis.eq(index).addClass("ui-state-disabled");o.disabled.push(index);o.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]));}
return this;},select:function(index){index=this._getIndex(index);if(index==-1){if(this.options.collapsible&&this.options.selected!=-1){index=this.options.selected;}else{return this;}}
this.anchors.eq(index).trigger(this.options.event+".tabs");return this;},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");this.abort();if(!url||this.element.queue("tabs").length!==0&&$.data(a,"cache.tabs")){this.element.dequeue("tabs");return;}
this.lis.eq(index).addClass("ui-state-processing");if(o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner);}
this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){$(self._sanitizeSelector(a.hash)).html(r);self._cleanup();if(o.cache){$.data(a,"cache.tabs",true);}
self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s);}
catch(e){}},error:function(xhr,s,e){self._cleanup();self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a);}
catch(e){}}}));self.element.dequeue("tabs");return this;},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr;}
this._cleanup();return this;},url:function(index,url){this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url);return this;},length:function(){return this.anchors.length;}});$.extend($.ui.tabs,{version:"1.8.6"});$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options;var rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation);self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0);},ms);if(e){e.stopPropagation();}});var stop=self._unrotate||(self._unrotate=!continuing?function(e){if(e.clientX){self.rotate(null);}}:function(e){t=o.selected;rotate();});if(ms){this.element.bind("tabsshow",rotate);this.anchors.bind(o.event+".tabs",stop);rotate();}else{clearTimeout(self.rotation);this.element.unbind("tabsshow",rotate);this.anchors.unbind(o.event+".tabs",stop);delete this._rotate;delete this._unrotate;}
return this;}});})(jQuery);(function($)
{$.ui.dialog.prototype._position=function(position){var myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==='string'||(typeof position==='object'&&'0'in position)){myAt=position.split?position.split(' '):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(['left','top'],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(':visible');if(!isVisible){this.uiDialog.show();}
if(this.uiDialog.width()>$(window).width())
{this.uiDialog.css({top:0,left:0});}
else
{this.uiDialog.css({top:0,left:0}).position(position);}
if(!isVisible){this.uiDialog.hide();}};$.ui.selectmenu.prototype.open=function(event)
{var self=this;var disabledStatus=this.newelement.attr("aria-disabled");if(disabledStatus!='true')
{this._refreshPosition();this._closeOthers(event);this.newelement.addClass('ui-state-active');var focusElm=this.list.appendTo('body').addClass(self.widgetBaseClass+'-open').attr('aria-hidden',false).find('li:not(.'+self.widgetBaseClass+'-group):eq('+this._selectedIndex()+') a')[0];if(this.options.style=="dropdown")
{this.newelement.removeClass('ui-corner-all').addClass('ui-corner-top');}
this._refreshPosition();focusElm.focus();this._trigger("open",event,this._uiHash());}};$.ui.selectmenu.prototype._refreshPosition=function(){var o=this.options;if(o.style=="popup"&&!o.positionOptions.offset){var selected=this.list.find('li:not(.ui-selectmenu-group):eq('+this._selectedIndex()+')');var _offset="0 -"+(selected.outerHeight()+selected.offset().top-this.list.offset().top);}
this.list.css({zIndex:999}).position({of:o.positionOptions.of||this.newelement,my:o.positionOptions.my,at:o.positionOptions.at,offset:o.positionOptions.offset||_offset});};$.extend($.ui.tabs.prototype,{_cleanup:function()
{this.panels.filter('.ui-state-processing').removeClass('ui-state-processing');this.lis.filter('.ui-state-processing').removeClass('ui-state-processing').find('span').each(function(){var el=$(this);if(el.data('label.tabs'))
{el.html(el.data('label.tabs')).removeData('label.tabs');}});},load:function(index){var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,'load.tabs');this.abort();if(!url||this.element.queue("tabs").length!==0&&$.data(a,'cache.tabs')){this.element.dequeue("tabs");return;}
this.lis.eq(index).addClass('ui-state-processing');$(this._sanitizeSelector(a.hash)).addClass('ui-state-processing');if(o.spinner){var span=$('span',a);span.data('label.tabs',span.html()).html(o.spinner);}
this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){$(self._sanitizeSelector(a.hash)).removeClass('ui-state-processing').html(r);self._cleanup();if(o.cache){$.data(a,'cache.tabs',true);}
self._trigger('load',null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s);}
catch(e){}},error:function(xhr,s,e){self._cleanup();self._trigger('load',null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a);}
catch(e){}}}));self.element.dequeue("tabs");return this;}});})(jQuery);(function($,window,undefined){'$:nomunge';var elems=$([]),jq_resize=$.resize=$.extend($.resize,{}),timeout_id,str_setTimeout='setTimeout',str_resize='resize',str_data=str_resize+'-special-event',str_delay='delay',str_throttle='throttleWindow';jq_resize[str_delay]=250;jq_resize[str_throttle]=true;$.event.special[str_resize]={setup:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false;}
var elem=$(this);elems=elems.add(elem);$.data(this,str_data,{w:elem.width(),h:elem.height()});if(elems.length===1){loopy();}},teardown:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false;}
var elem=$(this);elems=elems.not(elem);elem.removeData(str_data);if(!elems.length){clearTimeout(timeout_id);}},add:function(handleObj){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false;}
var old_handler;function new_handler(e,w,h){var elem=$(this),data=$.data(this,str_data);data.w=w!==undefined?w:elem.width();data.h=h!==undefined?h:elem.height();old_handler.apply(this,arguments);};if($.isFunction(handleObj)){old_handler=handleObj;return new_handler;}else{old_handler=handleObj.handler;handleObj.handler=new_handler;}}};function loopy(){timeout_id=window[str_setTimeout](function(){elems.each(function(){var elem=$(this),width=elem.width(),height=elem.height(),data=$.data(this,str_data);if(width!==data.w||height!==data.h){elem.trigger(str_resize,[data.w=width,data.h=height]);}});loopy();},jq_resize[str_delay]);};})(jQuery,this);;(function($,window,undefined){if($(document.body).hasClass("ie")){window.onunload=function(){window["__flash__removeCallback"]=function(instance,name){if(instance){instance[name]=null;}};};}
$.flashProxy={getSWF:function(swfName)
{var swf=null;if(document[swfName])
{swf=document[swfName]||null;}
else if(window[swfName])
{swf=window[swfName]||null;}
else if(document.embeds)
{swf=document.embeds[swfName]||null;}
return swf;},_callbacks:{},onload:function(swfId,callback)
{$.flashProxy._callbacks[swfId]=callback;},_events:{},bind:function(swfId,type,handler)
{if(!swfId||!type||typeof(handler)!=='function'){return;}
var events=$.flashProxy._events[swfId];if(!events)
{events=$.flashProxy._events[swfId]={};}
var types=events[type];if(!types){types=events[type]=[];}
types[types.length]=handler;},_data:{},data:function(swfId,key)
{var data=$.flashProxy._data[swfId];if(!data)
{data=$.flashProxy._data[swfId]={};}
if(arguments.length>2)
{data[key]=arguments[2];}
else
{return data[key];}},load:function(swfId)
{var swf=$.flashProxy.getSWF(swfId);if(!swf){window.setTimeout(function(){$.flashProxy.load(swfId);},100);return;}
var callback=$.flashProxy._callbacks[swfId];$.flashProxy._callbacks[swfId]={};delete $.flashProxy._callbacks[swfId];if(swf&&$.isFunction(callback))
{callback.call(swf);}},trigger:function(swfId,evt)
{var swf=$.flashProxy.getSWF(swfId);if(!swf){return;}
var events=$.flashProxy._events[swfId];if(!events){return;}
var types=events[evt.type];if(!types){return;}
for(var idx=0,len=types.length;idx<len;idx++)
{try
{types[idx].call(swf,evt);}
catch(ex)
{}}},callFlash:function(swfId,method)
{if(typeof(method)!=='string'||method.length===0){return this;}
var swf=$.flashProxy.getSWF(swfId);if(!swf||typeof(swf.jsProxy)!=='function'){return;}
var args=$.makeArray(arguments).slice(2);try
{return swf.jsProxy(method,args);}
catch(ex)
{alert('[#'+this.id+'].callFlash('+method+') ERROR:: '+ex.message);}}};function hasFlashVersion(ver)
{var currentVer='0,0,0';if(window.ActiveXObject)
{try
{new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6').AllowScriptAccess='always';}
catch(ex)
{currentVer='6,0,0';}
if(currentVer==='0,0,0')
{try
{currentVer=new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1];}
catch(ex)
{}}}
else
{try
{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)
{currentVer=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1];}}
catch(ex)
{}}
ver=ver.toString().split('.');while(ver.length<3){ver[ver.length]='0';}
var pv=currentVer.match(/\d+/g);var rv=String([ver[0],ver[1],ver[2]]).match(/\d+/g);for(var idx=0;idx<3;idx++)
{pv[idx]=parseInt(pv[idx]||0);rv[idx]=parseInt(rv[idx]||0);if(pv[idx]<rv[idx]){return false;}
if(pv[idx]>rv[idx]){return true;}}
return true;}
$.fn.flash=function(src,w,h,ver,expressPath,flashvars,params,attributes,callbacks,flashEvents)
{if(!ver){ver='10.1.0';}
flashvars=$.extend({},flashvars);flashvars.toString=function()
{var s=[];for(var key in this)
{if(typeof(this[key])==='function'){continue;}
s[s.length]=key+'='+encodeURIComponent(this[key]);}
return s.join('&amp;');};params=$.extend({allowscriptaccess:'always',allowfullscreen:true,wmode:'transparent',bgcolor:'#000000',quality:'best'},params);callbacks=$.extend({update:function()
{var $this=$(this);$this.html('<p>This content requires the Flash Player '+ver+'  or above. <a href="http://www.adobe.com/go/getflashplayer" target="_blank">Download Flash Player</a></p><div class="alt">'+$this.html()+'</div>').parent().addClass('flash-update');},load:function()
{}},callbacks);flashEvents=$.extend({},flashEvents);return this.each(function(idx)
{var _attributes=$.extend({id:(this.id+'-obj')},attributes);var _callbacks=$.extend({replace:function()
{var html=[];if($.browser.msie)
{html[html.length]='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';html[html.length]=' id="';html[html.length]=_attributes.id;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" data="';html[html.length]=src;html[html.length]='"';html[html.length]='" type="application/x-shockwave-flash"';html[html.length]='" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab">';html[html.length]='<param name="movie" value="';html[html.length]=src;html[html.length]='" />';html[html.length]='<param name="flashvars" value="';html[html.length]=flashvars.toString();html[html.length]='" />';for(var prop in params)
{html[html.length]='<param name="';html[html.length]=prop;html[html.length]='" value="';html[html.length]=params[prop];html[html.length]='" />';}
html[html.length]='</object>';}
else
{html[html.length]='<embed';html[html.length]=' id="';html[html.length]=_attributes.id;html[html.length]='" name="';html[html.length]=_attributes.id;html[html.length]='" src="';html[html.length]=src;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" flashvars="';html[html.length]=flashvars.toString();html[html.length]='"';for(var prop in params)
{html[html.length]=' ';html[html.length]=prop;html[html.length]='="';html[html.length]=params[prop];html[html.length]='"';}
html[html.length]=' swliveconnect="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">';html[html.length]='</embed>';}
$(this).html(html.join('')).parent().addClass('flash-replaced');}},callbacks);if(hasFlashVersion(ver))
{$.flashProxy.onload(_attributes.id,function()
{for(var prop in flashEvents)
{$.flashProxy.bind(this.id,prop,flashEvents[prop]);}
_callbacks.load.call(this);});_callbacks['replace'].call(this);}
else
{_callbacks['update'].call(this);}});};})(jQuery,this);(function($){$.tools=$.tools||{version:'1.2.3'};$.tools.tooltip={conf:{effect:'toggle',fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:['top','center'],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:'<div/>',tipClass:'tooltip'},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn];}};var effects={toggle:[function(done){var conf=this.getConf(),tip=this.getTip(),o=conf.opacity;if(o<1){tip.css({opacity:o});}
tip.show();done.call();},function(done){this.getTip().hide();done.call();}],fade:[function(done){var conf=this.getConf();this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done);},function(done){this.getTip().fadeOut(this.getConf().fadeOutSpeed,done);}]};function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];top-=tip.outerHeight()-conf.offset[0];left+=trigger.outerWidth()+conf.offset[1];var height=tip.outerHeight()+trigger.outerHeight();if(pos=='center'){top+=height/2;}
if(pos=='bottom'){top+=height;}
pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();if(pos=='center'){left-=width/2;}
if(pos=='left'){left-=width;}
return{top:top,left:left};}
function Tooltip(trigger,conf){var self=this,fire=trigger.add(self),tip,timer=0,pretimer=0,title=trigger.attr("title"),effect=effects[conf.effect],shown,isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?(isWidget?'widget':'input'):'def'];if(!effect){throw"Nonexistent effect \""+conf.effect+"\"";}
evt=evt.split(/,\s*/);trigger.bind(evt[0],function(e){clearTimeout(timer);if(conf.predelay){pretimer=setTimeout(function(){self.show(e);},conf.predelay);}else{self.show(e);}});if(evt[1])
{trigger.bind(evt[1],function(e){clearTimeout(pretimer);if(conf.delay){timer=setTimeout(function(){self.hide(e);},conf.delay);}else{self.hide(e);}});}
if(title&&conf.cancelDefault){trigger.removeAttr("title");trigger.data("title",title);}
$.extend(self,{show:function(e){if(!tip){if(title){tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title);}else if(conf.tip){tip=$(conf.tip).eq(0).appendTo(document.body);}else{tip=trigger.next();if(!tip.length){tip=trigger.parent().next();}
if(tip.length>0)
{tip.appendTo(document.body);}}
if(!tip.length){throw"Cannot find tooltip for "+trigger;}}
if(self.isShown()){return self;}
tip.stop(true,true);var pos=getPosition(trigger,tip,conf);e=e||$.Event();e.type="onBeforeShow";fire.trigger(e,[pos]);if(e.isDefaultPrevented()){return self;}
pos=getPosition(trigger,tip,conf);tip.css({position:'absolute',top:pos.top,left:pos.left});shown=true;effect[0].call(self,function(){e.type="onShow";shown='full';fire.trigger(e);});var event=conf.events.tooltip.split(/,\s*/);tip.bind(event[0],function(){clearTimeout(timer);clearTimeout(pretimer);});if(event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea")){tip.bind(event[1],function(e){if(e.relatedTarget!=trigger[0]){trigger.trigger(evt[1].split(" ")[0]);}});}
return self;},hide:function(e){if(!tip||!self.isShown()){return self;}
e=e||$.Event();e.type="onBeforeHide";fire.trigger(e);if(e.isDefaultPrevented()){return;}
shown=false;effects[conf.effect][1].call(self,function(){e.type="onHide";shown=false;fire.trigger(e);});return self;},isShown:function(fully){return fully?shown=='full':shown;},getConf:function(){return conf;},getTip:function(){return tip;},getTrigger:function(){return trigger;}});$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){if($.isFunction(conf[name])){$(self).bind(name,conf[name]);}
self[name]=function(fn){$(self).bind(name,fn);return self;};});}
$.fn.tooltip=function(conf){var api=this.data("tooltip");if(api){return api;}
conf=$.extend(true,{},$.tools.tooltip.conf,conf);if(typeof conf.position=='string'){conf.position=conf.position.split(/,?\s/);}
this.each(function(){api=new Tooltip($(this),conf);$(this).data("tooltip",api);});return conf.api?api:this;};})(jQuery);;(function($)
{$.fn.carousel=function(params)
{var params=$.extend({direction:"horizontal",loop:false,step:1,visible:1,control:true,pagination:false,nextBtn:'<a href="#"><span>Next</span></a>',prevBtn:'<a href="#"><span>Previous</span></a>',autoSlide:false,autoSlideInterval:5000,delayAutoSlide:false,effect:"slide",slideEasing:"swing",animSpeed:"normal",equalWidths:"true",verticalMargin:0,callback:function(){},useAddress:false,addressIdentifier:"carousel",tabLabel:function(tabNum)
{return tabNum;}},params);return this.each(function()
{var env={$elts:{},params:params,launchOnLoad:[]};env.$elts.carousel=$(this);env.$elts.content=$(this).children().css({top:0});env.$elts.wrap=env.$elts.content.wrap('<div class="carousel-wrap"></div>').parent().css({overflow:"hidden",position:"relative"});env.steps={first:0,count:env.$elts.content.children().length};env.steps.last=env.steps.count-1;if(env.params.control)
{var $carouselControl=$('<div class="carousel-control"><div class="carousel-control-cn"></div></div>');var $carouselControlContainer=$carouselControl.find('.carousel-control-cn');env.$elts.prevBtn=$(params.prevBtn).addClass('carousel-previous').appendTo($carouselControlContainer);env.$elts.nextBtn=$(params.nextBtn).addClass('carousel-next').appendTo($carouselControlContainer);env.$elts.carousel.append($carouselControl);initButtonsEvents(env);}
if(env.params.pagination)
{env.$elts.pagination=$('<span class="carousel-pagination"></span>');env.$elts.paginationBtns=$([]);for(var i=0,ilen=env.$elts.content.find('li').length;i<ilen;i++)
{if(i%env.params.step==0&&i<=(env.steps.count-env.params.visible))
{env.$elts.paginationBtns=env.$elts.paginationBtns.add($('<a href="#"><span>'+env.params.tabLabel(env.$elts.paginationBtns.length+1)+'</span></a>').data("firstStep",i));}}
env.$elts.paginationBtns.each(function(){$(this).appendTo(env.$elts.pagination);});env.$elts.paginationBtns.eq(0).addClass('current');$carouselControl.find('.carousel-previous').after(env.$elts.pagination);env.launchOnLoad.push(function()
{env.$elts.paginationBtns.click(function(e)
{e.preventDefault();goToStep(env,$(this).data('firstStep'));stopAutoSlide(env);});});}
if(env.params.useAddress&&$.isFunction($.fn.address))
{initAddress(env);}
$(function()
{var $items=env.$elts.content.children();var $maxHeight=0;$items.each(function()
{$item=$(this);$itemHeight=$item.outerHeight();if($itemHeight>$maxHeight){$maxHeight=$itemHeight;}});if(env.params.verticalMargin>0)
{$maxHeight=$maxHeight+env.params.verticalMargin;}
$items.height($maxHeight);var $firstItem=env.$elts.content.children(":first");env.itemWidth=$firstItem.outerWidth(true);if(params.direction=="vertical")
{env.contentWidth=env.itemWidth;}
else
{if(params.equalWidths)
{env.contentWidth=env.itemWidth*env.steps.count;}
else
{var totalWidth=0;env.$elts.content.children().each(function()
{totalWidth+=$(this).outerWidth(true);});env.contentWidth=totalWidth;}}
env.$elts.content.width(env.contentWidth);env.itemHeight=$maxHeight;if(params.direction=="vertical")
{env.$elts.content.css({height:env.itemHeight*env.steps.count+"px"});env.$elts.content.parent().css({height:env.itemHeight*env.params.step+"px"});}
else
{env.$elts.content.parent().css({height:env.itemHeight+"px"});}
updateButtonsState(env);$.each(env.launchOnLoad,function(i,fn)
{fn();});lazyLoadImages(env,0);if(env.params.autoSlide)
{window.setTimeout(function()
{env.autoSlideInterval=window.setInterval(function()
{goToStep(env,getRelativeStep(env,"next"));},env.params.autoSlideInterval);},env.params.delayAutoSlide);}});});};function initButtonsEvents(env)
{env.$elts.nextBtn.add(env.$elts.prevBtn).click(function(e)
{e.preventDefault();var $this=$(this);if(!$this.hasClass('disabled'))
{goToStep(env,getRelativeStep(env,($this.hasClass('carousel-next')?"next":"prev")));stopAutoSlide(env);}});};function initAddress(env)
{$.address.init(function(e)
{var pathNames=$.address.pathNames();if(pathNames[0]===env.params.addressIdentifier&&!!pathNames[1])
{goToStep(env,pathNames[1]-1);}
else
{$.address.value('/'+env.params.addressIdentifier+'/1');}}).change(function(e)
{var pathNames=$.address.pathNames();if(pathNames[0]===env.params.addressIdentifier&&!!pathNames[1])
{goToStep(env,pathNames[1]-1);}});};function goToStep(env,step)
{if(env.steps.first!=step)
{env.params.callback(step);lazyLoadImages(env,step);transition(env,step);env.steps.first=step;updateButtonsState(env);if(env.params.useAddress)
{$.address.value('/'+env.params.addressIdentifier+'/'+(step+1));}}};function lazyLoadImages(env,step)
{env.$elts.content.children().each(function(index,item){if(index>=(env.params.visible*step)&&index<((env.params.visible*(step+1)))+1){var img=$(item).find("img");if(img&&img.attr("data-src")&&!img.attr("src")){var datasrc=img.attr("data-src");img.attr("src",datasrc);img.removeAttr("data-src");}}});};function getRelativeStep(env,position)
{if(position=="prev")
{if(env.steps.first>0)
{return env.steps.first-env.params.step;}
else
{return((env.params.loop)?(env.steps.count-env.params.visible):false);}}
else if(position=="next")
{if((env.steps.first+env.params.step+env.params.visible)<=env.steps.count)
{return env.steps.first+env.params.step;}
else
{return((env.params.loop)?0:false);}}};function transition(env,step)
{switch(env.params.effect)
{case"no":if(env.params.direction=="vertical")
{env.$elts.content.css("top",-(env.itemHeight*step)+"px");}
else
{env.$elts.content.css("left",-(env.itemWidth*step)+"px");}
break;case"fade":if(env.params.direction=="vertical")
{env.$elts.content.hide().css("top",-(env.itemHeight*step)+"px").fadeIn(env.params.animSpeed);}
else
{env.$elts.content.hide().css("left",-(env.itemWidth*step)+"px").fadeIn(env.params.animSpeed);}
break;default:if(env.params.direction=="vertical")
{env.$elts.content.stop().animate({top:-(env.itemHeight*step)+"px"},env.params.animSpeed,env.params.slideEasing);}
else
{env.$elts.content.stop().animate({left:-(env.itemWidth*step)+"px"},env.params.animSpeed,env.params.slideEasing);}
break;}};function updateButtonsState(env)
{if(env.params.control)
{if(getRelativeStep(env,"prev")!==false)
{env.$elts.prevBtn.removeClass('disabled');}
else
{env.$elts.prevBtn.addClass('disabled');}
if(getRelativeStep(env,"next")!==false)
{env.$elts.nextBtn.removeClass('disabled');}
else
{env.$elts.nextBtn.addClass('disabled');}}
if(env.params.pagination)
{env.$elts.paginationBtns.removeClass('current').filter(function(){return($(this).data('firstStep')==env.steps.first)}).addClass('current');}};function stopAutoSlide(env)
{if(!!env.autoSlideInterval)
{window.clearInterval(env.autoSlideInterval);}};})(jQuery);;(function($)
{$.fn.marquee=function(params)
{var params=$.extend({step:6,thumbnailSize:'93x66',autoSlide:true,autoSlideInterval:5000,loop:true},params);var carousel=$(this),marquee=null,manualSelection=false;initCarousel();initMarquee();function initCarousel(){carousel.carousel({step:1,visible:1,loop:params.loop,effect:'fade',pagination:true,autoSlide:params.autoSlide,autoSlideInterval:params.autoSlideInterval,callback:function(){if(!manualSelection){var currentIndex=carousel.find(".carousel-pagination a").index(carousel.find(".carousel-pagination .current"))+2;setPageToCurrentIndex(currentIndex);}
manualSelection=false;}});carousel.find('.carousel-control').css("display","none");}
function initMarquee(){var thumbWidth=params.thumbnailSize.split('x')[0];var thumbHeight=params.thumbnailSize.split('x')[1];var html="<div class='carousel-marquee'><ul>";var items=carousel.find('.carousel-wrap li img');items.each(function(index,elm){var thumbSrc;if(elm.src.toLowerCase().indexOf("_656x369")>0){thumbSrc=elm.src.replace(/_656x369/i,"_"+params.thumbnailSize);}else if(elm.src.indexOf("_972")>0){thumbSrc=elm.src.replace("_972","_"+params.thumbnailSize);}else{throw new Error("Invalid image size. Expecting either 656x369 or 972 standard EP image.");}
var thumbTxt=elm.alt;html+="<li class='item-"+index+"'><img src='"+thumbSrc+"' width='"+thumbWidth+"' height='"+thumbHeight+"'/><span>"+thumbTxt+"</span></li>";});html+="</ul></div>";carousel.parent().append(html);marquee=carousel.parent().find('.carousel-marquee');marquee.carousel({step:params.step,pagination:true});marquee.find('li').first().addClass('active');if(items.length<=params.step){marquee.find('.carousel-control').css("display","none");}
marquee.find('li').click(function(){var selectedIndex=marquee.find('li').index(this)+1;selectIndex(selectedIndex);});}
function selectIndex(index){manualSelection=true;carousel.find('.carousel-pagination a:nth-child('+index+')').trigger('click');marquee.find('li.active').removeClass('active');marquee.find('li:nth-child('+index+')').addClass('active');}
function setPageToCurrentIndex(currentIndex){var total=carousel.find(".carousel-pagination a").length;var pageIndex=Math.ceil(currentIndex/params.step);if(currentIndex>total){currentIndex=1;pageIndex=1;}
marquee.find(".carousel-pagination a:nth-child( "+pageIndex+")").trigger('click');marquee.find("li.active").removeClass("active");marquee.find("li:nth-child("+currentIndex+")").addClass("active");}}})(jQuery);jQuery.fn.loading=function(isLoading,settings)
{settings=jQuery.extend({opacity:0.3},settings);var $elm=jQuery(this);if(isLoading)
{jQuery('<span class="loading"></span>').appendTo($elm).css({opacity:settings.opacity,height:$elm.outerHeight()+'px'});jQuery('<span class="loading-indicator"></span>').appendTo($elm).css({height:$elm.outerHeight()+'px'});}
else
{$elm.find('.loading, .loading-indicator').remove();}
return $elm;};;(function($,window,undefined){function restrict($container,$elm,max)
{var placeholder=$.trim($elm.attr('placeholder'));$container.text((placeholder.length>0&&$elm.val()===placeholder)?max:(max-$elm.val().length));}
$.fn.charCounter=function(max,settings)
{settings=$.extend({container:'<span></span>',classname:'charcounter',delay:0},settings);max=max||100;var timeout;function count(elm,$container)
{var $elm=$(elm);var val=$elm.val();if(val.length>max)
{$elm.val(val.substring(0,max));};if(settings.delay>0)
{if(timeout)
{window.clearTimeout(timeout);}
timeout=window.setTimeout(function()
{restrict($container,$elm,max)},settings.delay);}
else
{restrict($container,$elm,max);}};return this.each(function(idx)
{var $container;if(!settings.container.match(/^<.+>$/))
{$container=$(settings.container);}
else
{$(this).next('.'+settings.classname).remove();$container=$(settings.container).insertAfter(this).addClass(settings.classname);}
var countMe=function()
{count(this,$container);};$(this).unbind('.charCounter').bind('keydown.charCounter',countMe).bind('keypress.charCounter',countMe).bind('keyup.charCounter',countMe).bind('focus.charCounter',countMe).bind('mouseover.charCounter',countMe).bind('mouseout.charCounter',countMe).bind('paste.charCounter',$.proxy(function(){window.setTimeout($.proxy(countMe,this),10);},this));if(this.addEventListener)
{this.addEventListener('input',countMe,false);};$.proxy(countMe,this)();});};})(jQuery,this);;(function($,window,undefined)
{function Scrollable($container,$scrollbar,settings)
{Scrollable.init();this.$container=$container;this.$content=this.$container.find('.scroll-content:first');this.$containerIn=this.$container.find('.scroll-container-in:first');if(this.$containerIn.length===0)
{this.$containerIn=this.$content.wrap('<div class="scroll-container-in"></div>').parents('.scroll-container-in:first');}
this.$scrollbar=$scrollbar;this.$scrollbarTrack=this.$scrollbar.find('> .scroll-bar-track:first');this.$scrollbarHandle=this.$scrollbarTrack.find('> .scroll-bar-handle:first');this.$scrollbarHandleTop=this.$scrollbarHandle.find('> .scroll-bar-handle-top:first');this.$scrollbarHandleMid=this.$scrollbarHandle.find('> .scroll-bar-handle-mid:first');this.$scrollbarHandleBottom=this.$scrollbarHandle.find('> .scroll-bar-handle-bottom:first');this.$scrollbarButtonUp=this.$scrollbar.find('> .scroll-bar-up:first');this.$scrollbarButtonDown=this.$scrollbar.find('> .scroll-bar-down:first');this._scrollTimer=null;this._direction=null;this._isButtonPressed=false;this._isBeingDragged=false;this._isTrackMouseDown=false;this._trackClickY=null;this._trackPressIncrementDelay=settings.trackPressIncrementDelay;this._scrollHandleMinHeight=settings.scrollHandleMinHeight;this._scrollbarIsInternal=settings.scrollbarIsInternal;this._debug=Boolean(settings.debug);var w=this.$container.outerWidth();var h=this.$container.outerHeight();this.$container.css('overflow','hidden');if(!$.browser.webkit)
{this.$containerIn.css({'padding-right':(Scrollable.scrollbarW+'px')})}
this._lastContainerW=w;this._lastContainerH=h;this._lastContentH=this.$content.outerHeight();var evtData={scope:this};this.$containerIn.bind('scroll',evtData,this.onContentScroll);this.$scrollbar.bind('mousedown,mouseup,click',this.stopProp).find('> .scroll-bar-up,> .scroll-bar-down').bind('mousedown',evtData,this.onScrollButtonMouseDown).bind('mouseup',evtData,this.onScrollButtonMouseUp).bind('mouseleave',evtData,this.onScrollButtonMouseUp).bind('click',evtData,this.onScrollButtonClick);this.$scrollbar.css('display','block');var h=this.$scrollbarButtonUp.css('height');if(!h)
{this.$scrollbarTrack.css({top:(this.$scrollbarButtonUp.outerHeight()+'px'),bottom:(this.$scrollbarButtonDown.outerHeight()+'px')})}
var containerH=this.$containerIn.innerHeight();var contentH=this.$content.outerHeight();if(containerH>=contentH){this.$scrollbar.css('display','none');}
this.$scrollbarTrack.bind('mousedown',evtData,this.onTrackMouseDown).bind('mouseup',evtData,this.onTrackMouseUp).bind('mouseleave',evtData,this.onTrackMouseLeave);this.$scrollbarHandle.draggable({axis:'y',containment:this.$scrollbarTrack[0],addClasses:false,scroll:false,cursor:'n-resize',start:$.proxy(this.onHandleDragStart,this),drag:$.proxy(this.onHandleDrag,this),stop:$.proxy(this.onHandleDragStop,this)}).bind('mousedown,mouseup,click',this.stopProp);this.$content.bind('resize',evtData,this.onContentResize);this.$container.bind('resize',evtData,this.onContainerResize);};Scrollable.initialized=false;Scrollable.scrollbarW=0;Scrollable.scrollbarHTML='<a href="#" class="scroll-bar-btn scroll-bar-up"><span></span></a><span class="scroll-bar-track"><span class="scroll-bar-handle"><span class="scroll-bar-handle-top"></span><span class="scroll-bar-handle-mid"></span><span class="scroll-bar-handle-bottom"></span><span class="scroll-bar-handle-cover"></span></span></span><a class="scroll-bar-btn scroll-bar-down"><span></span></a>';Scrollable.init=function()
{if(Scrollable.initialized){return;}
var $testContainer=$('<div style="position:absolute;left:-200px;top:0;width:200px;height:150px;overflow:hidden;"><p style="width:100%;height:200px;"></p></div>').appendTo(document.body);var $testContent=$testContainer.find('p:first');var w1=$testContent[0].offsetWidth;$testContainer.css('overflow','scroll');var w2=$testContent[0].offsetWidth;if(w1===w2){w2=$testContainer[0].clientWidth;}
$testContainer.remove();Scrollable.scrollbarW=(w1-w2);Scrollable.initialized=true;};Scrollable.prototype.stopProp=function(evt){evt.stopPropagation();};Scrollable.prototype.syncPositionHandleToContent=function()
{var scrollTop=this.$containerIn.scrollTop();var contentH=this.$content.outerHeight();var scrollbarH=this.$scrollbar.outerHeight();var trackH=this.$scrollbarTrack.innerHeight();var scrollHandleH=this.$scrollbarHandle.outerHeight();var handlePixelRange=(trackH-scrollHandleH);var maxScrollTop=(contentH-scrollbarH);var ratio=(scrollTop/maxScrollTop);var handleY=Math.round(ratio*handlePixelRange);if(handleY<0)
{handleY=0;}
else if(handleY>=(trackH-scrollHandleH))
{handleY=(trackH-scrollHandleH);}
this.$scrollbarHandle.css('top',(handleY+'px'));};Scrollable.prototype.syncPositionContentToHandle=function()
{var contentH=this.$content.outerHeight();var scrollbarH=this.$scrollbar.outerHeight();var trackH=this.$scrollbarTrack.innerHeight();var scrollHandleH=this.$scrollbarHandle.outerHeight();var handleY=this.$scrollbarHandle.position().top;var handlePixelRange=(trackH-scrollHandleH);var maxScrollTop=(contentH-scrollbarH);var ratio=(handleY/handlePixelRange);var scrollTop=Math.round(maxScrollTop*ratio);if(scrollTop<0)
{scrollTop=0;}
else if(scrollTop>=maxScrollTop)
{scrollTop=maxScrollTop;}
this.$containerIn.scrollTop(scrollTop);};Scrollable.prototype._clearTimer=function()
{if(this._scrollTimer!==null)
{clearTimeout(this._scrollTimer);this._scrollTimer=null;}};Scrollable.prototype._reset=function()
{this._direction=null;this._isTrackMouseDown=false;this._trackClickY=null;this._isButtonPressed=false;};Scrollable.prototype.scrollSmoothly=function()
{var scrollInc=5;var currentScrollTop=this.$containerIn.scrollTop();var scrollTop=(currentScrollTop-scrollInc);var contentH=this.$content.outerHeight();var scrollbarH=this.$scrollbar.outerHeight();var maxScrollTop=(contentH-scrollbarH);var scrollTop;switch(this._direction)
{case('up'):{if(currentScrollTop===0){return;}
scrollTop=(currentScrollTop-scrollInc);if(scrollTop<0){scrollTop=0;}
this._scrollSmoothlyTo(scrollTop);break;}
case('down'):{if(currentScrollTop===maxScrollTop){return;}
scrollTop=(currentScrollTop+scrollInc);if(scrollTop>maxScrollTop){scrollTop=maxScrollTop;}
this._scrollSmoothlyTo(scrollTop);break;}
default:{this._reset();break;}}};Scrollable.prototype._scrollSmoothlyTo=function(scrollTop)
{this.$containerIn.scrollTop(scrollTop);this._scrollTimer=setTimeout($.proxy(this.scrollSmoothly,this),10);};Scrollable.prototype.scrollJump=function()
{var scrollHandleY=this.$scrollbarHandle.position().top;var clickY=this._trackClickY;if(clickY>scrollHandleY&&clickY<(scrollHandleY+this.$scrollbarHandle.outerHeight()))
{this._clearTimer();this._reset();return;}
var scrollByInc=5;var contentH=this.$content.outerHeight();var scrollFromY=this.$containerIn.scrollTop();var scrollBy=this.$containerIn.innerHeight();var scrollToY;switch(this._direction)
{case('up'):{scrollToY=(scrollFromY-scrollBy);if((scrollToY-scrollByInc)<=0)
{scrollToY=0;}
this._scrollJump(scrollToY);break;}
case('down'):{scrollToY=(scrollFromY+scrollBy);if((scrollToY+scrollByInc)>=contentH)
{scrollToY=contentH;}
this._scrollJump(scrollToY);break;}
default:{this._reset();break;}}};Scrollable.prototype._scrollJump=function(scrollTop)
{this.$containerIn.scrollTop(scrollTop);this._scrollTimer=setTimeout($.proxy(this.scrollJump,this),this._trackPressIncrementDelay);};Scrollable.prototype._isResizeValid=function(elm,w,h)
{var $elm=$(elm);if(h===undefined||h!==$elm.height()){return false;}
if($elm.hasClass('scroll-container'))
{if(w===this._lastContainerW&&h===this._lastContainerH){return false;}
this._lastContainerW=w;this._lastContainerH=h;return true;}
else if($elm.hasClass('scroll-content'))
{if(h===this._lastContentH){return false;}
this._lastContentH=h;return true;}
else
{return false;}};Scrollable.prototype.handleContentScroll=function()
{if(this._isBeingDragged){return;}
this.syncPositionHandleToContent();};Scrollable.prototype.onContentScroll=function(evt)
{evt.data.scope.handleContentScroll();};Scrollable.prototype.handleResize=function()
{var containerH=this.$containerIn.innerHeight();var contentH=this.$content.outerHeight();if(containerH>=contentH)
{this.$scrollbar.css('display','none');if(this._scrollbarIsInternal)
{this.$content.css('width',this.$container.innerWidth()+'px');}}
else
{this.$scrollbar.css('display','block');if(this._scrollbarIsInternal)
{this.$content.css('width',((this.$container.innerWidth()-this.$scrollbar.outerWidth())+'px'));}
var percentInView=(containerH/contentH);var scrollHandleMaxHeight=this.$scrollbarTrack.innerHeight()-(this.$scrollbarHandleTop.outerHeight()+this.$scrollbarHandleBottom.outerHeight());var handleH=Math.max(Math.min((percentInView*scrollHandleMaxHeight),scrollHandleMaxHeight),this._scrollHandleMinHeight);this.$scrollbarHandleMid.css('height',(handleH+'px'));this.syncPositionHandleToContent();}};Scrollable.prototype.onContainerResize=function(evt,w,h,isInit)
{if(!isInit&&!evt.data.scope._isResizeValid(this,w,h)){return;}
evt.data.scope.debug('onContainerResize:: '+this.id+', H: '+h);evt.data.scope.handleResize();};Scrollable.prototype.onContentResize=function(evt,w,h)
{if(!evt.data.scope._isResizeValid(this,w,h)){return;}
evt.data.scope.debug('onContentResize:: '+this.parentNode.parentNode.id+', H: '+h);evt.data.scope.handleResize();};Scrollable.prototype.delayedScrollButtonMouseDown=function()
{this._isButtonPressed=true;this.scrollSmoothly();};Scrollable.prototype.handleScrollButtonMouseDown=function(buttonType)
{this._clearTimer();this._direction=buttonType;this._scrollTimer=setTimeout($.proxy(this.delayedScrollButtonMouseDown,this),this._trackPressIncrementDelay);};Scrollable.prototype.debug=function(msg)
{if(window.console&&this._debug){window.console.log(msg||'');}};Scrollable.prototype.onScrollButtonMouseDown=function(evt)
{evt.data.scope.debug('scroll button mouse down');var $btn=$(this);var buttonType=($btn.hasClass('scroll-bar-up'))?'up':($btn.hasClass('scroll-bar-down'))?'down':null;if(!buttonType){return;}
$btn.addClass('scroll-bar-btn-pressed');evt.data.scope.handleScrollButtonMouseDown(buttonType);};Scrollable.prototype.handleScrollButtonMouseUp=function()
{this._clearTimer();};Scrollable.prototype.onScrollButtonMouseUp=function(evt)
{evt.data.scope.debug('scroll button mouse up');$(this).removeClass('scroll-bar-btn-pressed');evt.data.scope.handleScrollButtonMouseUp();};Scrollable.prototype.handleScrollButtonClick=function()
{this._clearTimer();if(!this._isButtonPressed)
{this.debug('scroll button click');this._trackClickY=this.$scrollbarTrack.innerHeight();this.scrollJump();}
this._reset();};Scrollable.prototype.onScrollButtonClick=function(evt)
{evt.preventDefault();evt.data.scope.handleScrollButtonClick();};Scrollable.prototype.delayedTrackMouseDown=function()
{this._isTrackMouseDown=true;this.scrollJump();};Scrollable.prototype.handleTrackMouseDown=function(clickY)
{this._clearTimer();var scrollHandleY=this.$scrollbarHandle.position().top;if(clickY>scrollHandleY&&clickY<(scrollHandleY+this.$scrollbarHandle.outerHeight()))
{this._clearTimer();this._reset();return;}
this._trackClickY=clickY;this._direction=(clickY<scrollHandleY)?'up':'down';this.scrollJump();};Scrollable.prototype.onTrackMouseDown=function(evt)
{if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className){return;}
evt.data.scope.debug('track mouse down');evt.data.scope.handleTrackMouseDown((evt.offsetY||evt.layerY));};Scrollable.prototype.handleTrackMouseUp=function()
{this._clearTimer();this._reset();};Scrollable.prototype.onTrackMouseUp=function(evt)
{if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className){return;}
evt.data.scope.debug('track mouse up');evt.data.scope.handleTrackMouseUp();};Scrollable.prototype.onTrackMouseLeave=function(evt)
{if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className){return;}
evt.data.scope.debug('track mouse leave');evt.data.scope.handleTrackMouseUp();};Scrollable.prototype.onHandleDragStart=function(evt,ui)
{this._isBeingDragged=true;this.debug('drag start');};Scrollable.prototype.onHandleDrag=function(evt,ui)
{this.syncPositionContentToHandle();};Scrollable.prototype.onHandleDragStop=function(evt,ui)
{this._isBeingDragged=false;this.debug('drag stop');};$.fn.scrollify=function(settings)
{settings=$.extend({$scrollbar:null,scrollHandleMinHeight:5,trackPressIncrementDelay:500,debug:false,scrollbarIsInternal:true},settings);if(settings.$scrollbar)
{settings.scrollbarIsInternal=false;}
return this.each(function(idx)
{var $container=$(this);if(!settings.$scrollbar)
{$scrollbar=$('<div class="scroll-bar">'+Scrollable.scrollbarHTML+'</div>').appendTo($container);}
else
{$scrollbar=settings.$scrollbar;$scrollbar.html(Scrollable.scrollbarHTML);}
new Scrollable($container,$scrollbar,settings);});};})(jQuery,this);;(function($,undefined)
{$('.input-text input').live('focus',function(e)
{$(this).parent().parent().addClass('focus');});$('.input-text input').live('blur',function(e)
{$(this).parent().parent().removeClass('focus');});})(jQuery);;(function($,window,undefined)
{$.fn.placeholder=function()
{if(!('placeholder'in document.createElement('input')))
{function onElmFocus(evt)
{var $elm=$(this);if($.trim($elm.val())===$.trim($elm.attr('placeholder')))
{$elm.val('');$elm.removeClass('default-text');}
if($elm.attr('type')==='password')
{$elm.siblings('.default-password').hide();}}
function onElmBlur(evt)
{var $elm=$(this);if($.trim($elm.val()).length===0)
{$elm.addClass('default-text').val($.trim($elm.attr('placeholder')));if($elm.attr('type')==='password')
{$elm.siblings('.default-password').show();}}}
function onLabelClick(evt)
{$(this).data('elm').focus();}
return this.each(function(idx)
{$(this).find('input:text[placeholder],input:password[placeholder],textarea[placeholder]').each(function(_idx)
{var $elm=$(this);var placeholder=$.trim($elm.attr('placeholder'));if(placeholder.length===0)
{return true;}
if($elm.attr('type')==='password')
{$elm.after($('<label class="default-password">Password</label>').data('elm',$elm).click(onLabelClick));}
$elm.focus(onElmFocus).blur(onElmBlur);var val=$.trim($elm.val());if(val.length===0)
{$elm.val((val=placeholder));}
if(placeholder===val)
{$elm.addClass('default-text');}});});}
else
{return this;}};$(document.body).placeholder();})(jQuery,this);;(function($,window,undefined)
{$.validation={rules:{email:function($elm)
{var val=$.trim($elm.val());var re=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;return{success:(val.length===0||re.test(val)),elm:$elm};},date:function($elm,params)
{var result={success:false,elm:$elm};try
{if(params&&params.selectors)
{result.elm=$(params.selectors.month+','+params.selectors.day+','+params.selectors.year);var $month=$(params.selectors.month);var $day=$(params.selectors.day);var $year=$(params.selectors.year);var month=parseInt($month.val().replace(/\D/g,'').replace(/^0*/,'')||0);var day=parseInt($day.val().replace(/\D/g,'').replace(/^0*/,'')||0);var year=parseInt($year.val().replace(/\D/g,'').replace(/^0*/,'')||0);var date=new Date(year+'/'+month+'/'+day);result.success=((date.getMonth()+1)===month&&date.getDate()===day&&date.getFullYear()===year);}
else
{var dateString=$.trim($elm.val());var date=new Date(dateString);result.success=true;}}
catch(ex)
{result.success=false;}
return result;}}};function VaidationGroup(containerElm,settings)
{this.settings=settings;this.$containerElm=$(containerElm);this.$containerElm.data('group',this).submit(function(evt)
{var group=$(this).data('group');if(!group.validate())
{evt.preventDefault();}
else if(typeof(group.settings.success)==='function')
{evt.preventDefault();group.settings.success(evt,this);}
else
{}});if(settings.trigger)
{$(settings.trigger.query).data('group',this)
[settings.trigger.evt](function(evt)
{evt.preventDefault();var $elm=$(this);var _continue=true;if($.isFunction(settings.trigger.before))
{_continue=settings.trigger.before($elm);}
if(_continue)
{$elm.data('group').$containerElm.submit();settings.trigger.after($elm);}});}}
VaidationGroup.prototype.initElm=function($elm)
{$elm.data('validationRules',this.parseRules($elm));};VaidationGroup.prototype.parseRules=function($elm)
{try
{return eval($.trim($elm.attr('data-validation'))||'[]');}
catch(ex)
{if(this.console){console.warn('ERROR attempting to parse validation rule from element ('+$elm[0].id+'): '+ex.message);}
return[];}};VaidationGroup.prototype.validate=function()
{var messages=[];var $requiredElms=[];var $errorElms=[];var elms=this.$containerElm.find('input,textarea,select');for(var idx=0,len=elms.length;idx<len;idx++)
{var $elm=$(elms[idx]);var rules=$elm.data('validationRules');if(!rules)
{this.initElm($elm);rules=$elm.data('validationRules');}
var val=$.trim($elm.val());var placeholder=$.trim($elm.attr('placeholder'));var hasPlaceholder=(placeholder.length>0);if($elm.attr('required')==='true'&&(val.length===0||(hasPlaceholder&&val===placeholder)))
{$requiredElms[$requiredElms.length]=$elm[0];continue;}
if(rules.length>0)
{for(var _idx=0,_len=rules.length,rule,result;_idx<_len;_idx++)
{rule=rules[_idx];if(typeof(rule.rule)==='string')
{if($.isFunction($.validation.rules[rule.rule]))
{result=$.validation.rules[rule.rule]($elm,rule.params);if(!result.success)
{messages[messages.length]=rule.message;result.elm.each(function()
{$errorElms[$errorElms.length]=this;});break;}}}
else if(rule.rule.constructor===RegExp)
{}
else if($.isFunction(rule.rule))
{}}}}
$requiredElms=$($requiredElms);$errorElms=$($errorElms);if(messages.length===0&&$requiredElms.length===0)
{return true;}
else
{if($requiredElms.length>0)
{this.settings.required($requiredElms);}
if($errorElms.length>0&&messages.length>0)
{this.settings.error($errorElms,messages.join(', '));}
return false;}};$.fn.validation=function(settings)
{settings=$.extend({},settings);return this.each(function(idx)
{new VaidationGroup(this,settings);});};})(jQuery,this);jQuery.cookie=function(key,value,options){if(arguments.length>1&&(value===null||typeof value!=="object")){options=jQuery.extend({},options);if(value===null){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
return(document.cookie=[encodeURIComponent(key),'=',options.raw?String(value):encodeURIComponent(String(value)),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
options=value||{};var result,decode=options.raw?function(s){return s;}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null;};;(function($,window,undefined){var $elms=$([]);var timerId=null;var customfontsready=false;function pollCustomFontLoaded()
{if(customfontsready||$('html').hasClass('wf-active'))
{customfontsready=true;$elms.each(function(idx)
{$(this).trigger('customfontloaded').unbind('customfontloaded');});}}
$.event.special.customfontloaded={setup:function()
{var $this=$(this);$elms=$elms.add($this);if($elms.length===1)
{timerId=window.setInterval(pollCustomFontLoaded,100);}},teardown:function()
{var $this=$(this);$elms=$elms.not($this);if($elms.length===0&&timerId)
{window.clearInterval(timerId);timerId=null;}}};$.fn.customfontloaded=function(handler)
{return this.bind('customfontloaded',handler);};})(jQuery,this);;(function($){$.facebox=function(data,klass){$.facebox.loading();if(data.ajax){fillFaceboxFromAjax(data.ajax);}
else if(data.image){fillFaceboxFromImage(data.image);}
else if(data.div){fillFaceboxFromHref(data.div);}
else if($.isFunction(data)){data.call($);}
else{$.facebox.reveal(data,klass);}}
var faceboxHtml=[];faceboxHtml[faceboxHtml.length]='<div id="facebox" style="display:none;">';faceboxHtml[faceboxHtml.length]=' <div class="popup">';faceboxHtml[faceboxHtml.length]='  <table>';faceboxHtml[faceboxHtml.length]='   <tbody>';faceboxHtml[faceboxHtml.length]='    <tr>';faceboxHtml[faceboxHtml.length]='     <td class="tl"></td>';faceboxHtml[faceboxHtml.length]='     <td class="t"></td>';faceboxHtml[faceboxHtml.length]='     <td class="tr"></td>';faceboxHtml[faceboxHtml.length]='    </tr>';faceboxHtml[faceboxHtml.length]='    <tr>';faceboxHtml[faceboxHtml.length]='     <td class="l"></td>';faceboxHtml[faceboxHtml.length]='     <td class="body">';faceboxHtml[faceboxHtml.length]='      <div class="content"> ';faceboxHtml[faceboxHtml.length]='      </div>';faceboxHtml[faceboxHtml.length]='      <div class="footer">';faceboxHtml[faceboxHtml.length]='       <a href="#" class="close"></a>';faceboxHtml[faceboxHtml.length]='      </div>';faceboxHtml[faceboxHtml.length]='     </td>';faceboxHtml[faceboxHtml.length]='     <td class="r"></td>';faceboxHtml[faceboxHtml.length]='    </tr>';faceboxHtml[faceboxHtml.length]='    <tr>';faceboxHtml[faceboxHtml.length]='     <td class="bl"></td>';faceboxHtml[faceboxHtml.length]='     <td class="b"></td>';faceboxHtml[faceboxHtml.length]='     <td class="br"></td>';faceboxHtml[faceboxHtml.length]='    </tr>';faceboxHtml[faceboxHtml.length]='   </tbody>';faceboxHtml[faceboxHtml.length]='  </table>';faceboxHtml[faceboxHtml.length]=' </div>';faceboxHtml[faceboxHtml.length]='</div>';$.extend($.facebox,{settings:{opacity:.6,overlay:true,loadingImage:'../../img/facebox/loading.gif',closeImage:'../../img/facebox/closelabel.gif',imageTypes:['png','jpg','jpeg','gif'],faceboxHtml:faceboxHtml.join('')},loading:function(){init();if($('#facebox .loading').length==1){return true;}
showOverlay();$('#facebox .content').empty();$('#facebox .body').children().hide().end().append('<div class="loading"><img src="'+$.facebox.settings.loadingImage+'"/></div>');$('#facebox').css({top:getPageScroll()[1]+(getPageHeight()/4),left:$(window).width()/2-($('#facebox table').width()/2)}).show();$(document).bind('keydown.facebox',function(e){if(e.keyCode==27){$.facebox.close();}
return true;})
$(document).trigger('loading.facebox');},reveal:function(data,klass){$(document).trigger('beforeReveal.facebox');if(klass)$('#facebox .content').addClass(klass);$('#facebox .content').append(data);$('#facebox .loading').remove();$('#facebox .body').children().fadeIn('normal');$('#facebox').css('left',$(window).width()/2-($('#facebox table').width()/2));$(document).trigger('reveal.facebox').trigger('afterReveal.facebox');},close:function(){$(document).trigger('close.facebox');return false;}});$.fn.facebox=function(settings){init(settings);function clickHandler(){$.facebox.loading(true);var klass=this.rel.match(/facebox\[?\.(\w+)\]?/);if(klass){klass=klass[1];}
fillFaceboxFromHref(this.href,klass);return false;}
return this.click(clickHandler);};function init(settings){if($.facebox.settings.inited){return true;}
else{$.facebox.settings.inited=true;}
$(document).trigger('init.facebox');makeCompatible();var imageTypes=$.facebox.settings.imageTypes.join('|');$.facebox.settings.imageTypesRegexp=new RegExp('\.'+imageTypes+'$','i');if(settings){$.extend($.facebox.settings,settings);}
$('body').append($.facebox.settings.faceboxHtml);var preload=[new Image(),new Image()];preload[0].src=$.facebox.settings.closeImage;preload[1].src=$.facebox.settings.loadingImage;$('#facebox').find('.b:first, .bl, .br, .tl, .tr').each(function(){preload.push(new Image());preload.slice(-1).src=$(this).css('background-image').replace(/url\((.+)\)/,'$1');});$('#facebox .close').click($.facebox.close);$('#facebox .close_image').attr('src',$.facebox.settings.closeImage);}
function getPageScroll(){var xScroll,yScroll;if(self.pageYOffset){yScroll=self.pageYOffset;xScroll=self.pageXOffset;}else if(document.documentElement&&document.documentElement.scrollTop){yScroll=document.documentElement.scrollTop;xScroll=document.documentElement.scrollLeft;}else if(document.body){yScroll=document.body.scrollTop;xScroll=document.body.scrollLeft;}
return new Array(xScroll,yScroll);};function getPageHeight(){var windowHeight;if(self.innerHeight){windowHeight=self.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){windowHeight=document.documentElement.clientHeight;}else if(document.body){windowHeight=document.body.clientHeight;}
return windowHeight;};function makeCompatible(){var $s=$.facebox.settings;$s.loadingImage=$s.loading_image||$s.loadingImage;$s.closeImage=$s.close_image||$s.closeImage;$s.imageTypes=$s.image_types||$s.imageTypes;$s.faceboxHtml=$s.facebox_html||$s.faceboxHtml;};function fillFaceboxFromHref(href,klass){if(href.match(/#/)){var url=window.location.href.split('#')[0];var target=href.replace(url,'');$.facebox.reveal($(target).clone().show(),klass);}else if(href.match($.facebox.settings.imageTypesRegexp)){fillFaceboxFromImage(href,klass);}else{fillFaceboxFromAjax(href,klass);}}
function fillFaceboxFromImage(href,klass){var image=new Image();image.onload=function(){$.facebox.reveal('<div class="image"><img src="'+image.src+'" /></div>',klass);}
image.src=href;}
function fillFaceboxFromAjax(href,klass){$.get(href,function(data){$.facebox.reveal(data,klass)});}
function skipOverlay(){return $.facebox.settings.overlay==false||$.facebox.settings.opacity===null;}
function showOverlay(){if(skipOverlay()){return;}
if($('facebox_overlay').length==0)
{$("body").append('<div id="facebox_overlay" class="facebox_hide"></div>');}
$('#facebox_overlay').hide().addClass("facebox_overlayBG").css('opacity',$.facebox.settings.opacity).click(function(){$(document).trigger('close.facebox')}).fadeIn(200);return false;};function hideOverlay(){if(skipOverlay())return;$('#facebox_overlay').fadeOut(200,function(){$("#facebox_overlay").removeClass("facebox_overlayBG");$("#facebox_overlay").addClass("facebox_hide");$("#facebox_overlay").remove();})
return false;}
$(document).bind('close.facebox',function(){$(document).unbind('keydown.facebox');$('#facebox').fadeOut(function(){$('#facebox .content').removeClass().addClass('content');hideOverlay();$('#facebox .loading').remove();});});})(jQuery);(function($){if($.fn.mediaPlayer)return;$.fn.mediaPlayer=function(options){var id;var element;var views=0;var opts=$.extend({},$.fn.mediaPlayer.defaults,options);$.fn.mediaPlayer.settings=opts;var isHTML5;var lastFlashStatus="";var controlsUnderAreShowing=false;var lastPlayheadSecond=-1;var subtitleIndex=0;function initialize(index){id=element.get(0).id;id=id?id:"mediaPlayer"+Math.floor(Math.random()*100000);element.attr('id',id);updateNavigationButtons();opts.videoElement=$(opts.videoElementName,element).get(0);opts.ageGatePassed=getCookie('ofAge');isHTML5=opts.videoElementName=="video";if($(".navigation ul",element).children().length<=1){opts.isSingleVideo=true;$(".navigation",element).hide();}else{opts.isSingleVideo=false;}
if(isHTML5){$("video",element).bind("ended",onVideoEnded);}else{$("video",element).hide();$(".watermark",element).hide();var reqFlashVersion="10.0.0";if(!hasFlashVersion(reqFlashVersion)){element.append('<div class="need-flash">'+opts.installFlashMessage.replace("%1",reqFlashVersion)+'</p></div>');return false;}
var xvp_id="xvp__"+id;processPlayerSize(opts.playerSize);element.prepend('<object width="'+opts.playerWidth+'" height="'+opts.playerHeight+'" id="'+xvp_id+'" name="'+xvp_id+'" type="application/x-shockwave-flash" data="'+opts.videoPlayer+'&timestamp='+(new Date()).getTime()+'">'+'<param name="movie" value="'+opts.videoPlayer+'&timestamp='+(new Date()).getTime()+'" />'+'<param name="wmode" value="opaque" />'+'<param name="allowfullscreen" value="true" />'+'<param name="allowNetworking" value="all" />'+'<param name="allowscriptaccess" value="always" />'+'<param name="scale" value="noscale">'+'<param name="salign" value="tl">'+'<param name="bgcolor" value="#000000">'+'<param name="flashvars" value="skin='+escape(opts.videoSkin)+'&amp;'+'playerSize='+opts.playerSize+'&amp;'+'useDetails=&amp;'+'jsReadyCallback='+escape(opts.jsReadyCallback)+'&amp;'+'isSingleVideo='+escape(opts.isSingleVideo)+'&amp;'+'loadingText='+escape(opts.loadingText)+'&amp;'+'containerId='+escape(id)+'&amp;'+'quality='+escape(opts.quality)+'&amp;'+'controlsBgColor='+opts.scrubBgColor+'&amp;'+'" />'+'</object>');}
if(!opts.isSingleVideo){element.height(element.height()+$(".navigation",element).height());}
$(".items > li a.poster, .navigation li a.thumb",element).click(onItemClick);$(opts.videoElementName+", .items",element).mouseover(function(evt){});$(opts.videoElementName,element).mouseout(function(evt){});$(".controls .play, .controls .pause",element).click(function(evt){if($(this).hasClass("play")){$(this).hide();$(this).siblings(".pause").show();if(isHTML5)
opts.videoElement.pause();else
opts.videoElement.pauseMedia();}
else{$(this).hide();$(this).siblings(".play").show();if(isHTML5)
opts.videoElement.play();else
opts.videoElement.playMedia();}
return false;});$(".controls div.video-scrubber div.load-bar, .controls div.video-scrubber div.scrub-bar, .controls div.video-scrubber div.track-bar",element).click(onSeekClick);$(".controls div.audio-scrubber",element).click(onAudioScrubberClick);$(".controls a.share",element).click(function(){$(".screens .share",element).show();$(".screens .embed",element).hide();return false;});$(".controls a.embed",element).click(function(){$(".screens .embed",element).show();$(".screens .share",element).hide();return false;});$(".controls a.captions",element).click(function(){if($('.subtitles',element).css('display')=='none')
$('.subtitles',element).show();else
$('.subtitles',element).hide();return false;});$(".controls a.fullscreen",element).click(function(){return false;});$(".details a.play",element).click(function(){selectItem(opts.podIndex);return false;});$(".screens .embed a.close, .screens .share a.close",element).click(function(){$(this).parent().hide();return false;});$(".navigation a.next",element).click(moveNavigationLeft);$(".navigation a.prev",element).click(moveNavigationRight);$(".ageGate input.age-field",element).focus(function(){this.select();});$(".ageGate a.verify",element).click(verifyAge);$(".ageGate form",element).submit(verifyAge);if(opts.isSingleVideo&&isHTML5){$(".loadingWindow",element).hide();$(".navigation li a.thumb",element).click();if(typeof(opts.afterLoaded)=="function"){opts.afterLoaded(id);}}
else{if(!isHTML5){$(".loadingWindow",element).css("opacity","0.99");$(".loadingWindow",element).css("filter","alpha(opacity=99)");element.bind('xvp_loaded',onXVPLoaded);}
else{onXVPLoaded();}}}
function setCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+";path=/"+((expiredays==null)?"":";expires="+exdate.toUTCString());}
function getCookie(c_name){if(document.cookie.length>0){c_start=document.cookie.indexOf(c_name+"=");if(c_start!=-1){c_start=c_start+c_name.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1)
c_end=document.cookie.length;return unescape(document.cookie.substring(c_start,c_end));}}
return"";}
function onXVPLoaded(){$(".loadingWindow",element).css("opacity","1");$(".loadingWindow",element).css("filter","alpha(opacity=100)");opts.videoElement=$(opts.videoElementName,element).get(0);if(!opts.isSingleVideo){startPodRotation();$(".loadingWindow",element).hide();}
else{nextItem();selectItem(opts.podIndex);}
if(typeof(opts.afterLoaded)=="function"){opts.afterLoaded(id);}
localizeControls();}
function localizeControls(){if(!isHTML5){var i18n_map={loading:$(".loadingWindow .graphic span",element).text(),play:$(".controls .play",element).attr("title"),pause:$(".controls .pause",element).attr("title"),mute:$(".controls .mute",element).attr("title"),unmute:$(".controls .unmute",element).attr("title"),cc:$(".controls .captions span",element).text(),captions:$(".controls .captions",element).attr("title"),hq:$(".controls .high_quality span",element).text(),hq_ison:$(".controls .high_quality sup",element).text(),hq_isoff:$(".controls .standard_quality sup",element).text(),high_quality:$(".controls .high_quality",element).attr("title"),standard_quality:$(".controls .standard_quality",element).attr("title"),embed:$(".controls .embed",element).attr("title"),share:$(".controls .share",element).attr("title"),fullscreen:$(".controls .fullscreen",element).attr("title"),normalscreen:$(".controls .normalscreen",element).attr("title")};var obj_arr=new Array();for(i in i18n_map){obj_arr.push(i+"::::"+i18n_map[i]);}
var obj_str=obj_arr.join("||||");opts.videoElement.setData("i18n_map",obj_str);}}
function onSeekClick(event){if(isHTML5)
opts.videoElement.currentTime=((event.clientX-$(".controls div.video-scrubber",element).offset().left)/$(".controls div.video-scrubber div.track-bar",element).width())*opts.videoElement.duration;else
opts.videoElement[isHTML5?"seek":"seekMedia"](((event.clientX-$(".controls div.video-scrubber",element).offset().left)/$(".controls div.video-scrubber div.track-bar",element).width())*opts.videoElement.getTotalTime());}
function onAudioScrubberClick(event){$(".controls .audio-scrubber .level-bar",element).width(event.clientX-$(".controls div.audio-scrubber",element).offset().left);}
function onAudioToggle(event){if($(this).hasClass('off')){$(this).removeClass('off');}
else{$(this).addClass('off');}}
function startPodRotation(){if(!opts.isSingleVideo&&!opts.podIntervalId){opts.podIntervalId=setInterval(nextItem,5000);}}
function stopPodRotation(){if(opts.podIntervalId){clearInterval(opts.podIntervalId);opts.podIntervalId=false;}}
function onItemClick(){stopPodRotation();opts.podIndex=$(".navigation ul",element).children().index($(this).parent("li"));if(opts.podIndex==-1)
opts.podIndex=$(".items",element).children().index($(this).parent("li"));selectItem(opts.podIndex);return false;}
function onPosterClick(){stopPodRotation();opts.podIndex=$(".items ul",element).children().index($(this).parent("li"));selectItem(opts.podIndex);return false;}
function selectItem(index){if(opts.controlsLocked)return false;$(".ageGate",element).hide();if(isHTML5){$(".loadingWindow",element).hide();$("video",element).css("left","1000px");}
$(".items > li.selected a.poster",element).show();$(".items > li.selected",element).removeClass("selected");$(".navigation li.selected",element).removeClass("selected");opts.podIndex=index;$(".items > li",element).eq(index).addClass("selected");$(".navigation ul li",element).eq(index).addClass("selected");if(!opts.isSingleVideo&&$(".navigation ul li a.thumb",element).eq(opts.podIndex).attr("href").length<=1){return false;}
$(".items > li.selected a.poster",element).hide();if((!opts.ageGatePassed||opts.ageGatePassed=="0")&&$(".items > li.selected .details input:hidden[name=restrictedAge]",element).val()=="1"){if(opts.ageGatePassed=="0"){$(".ageGate p.error",element).show();$(".ageGate h4, .ageGate div",element).hide();}
$(".ageGate",element).show();lockControls();if(!opts.videoElement.paused){if(isHTML5)
opts.videoElement.pause();else
opts.videoElement.pauseMedia();}
$(".loadingWindow",element).hide();}
else if($(".items > li.selected .details input:hidden[name=restrictedTime]",element).val().length){$(".timeGate p",element).text($(".items > li.selected .details input:hidden[name=restrictedTime]",element).val());$(".loadingWindow",element).hide();$(".timeGate",element).show();}
else{loadVideo();}
return false;}
function unlockControls(){opts.controlsLocked=false;}
function lockControls(){opts.controlsLocked=true;}
function loadVideo(){if(!isHTML5&&!opts.initFlashDataSent){}
if(opts.tracker){$.ajax({url:opts.tracker});}
lastPlayheadSecond=-1;subtitleIndex=0;views++;$(".controls div.video-scrubber div.load-bar",element).width(0);if(isHTML5){$("video",element).css("left","0");$("video",element).attr("poster",$(".items > li.selected a.poster img",element).attr("src"));}
else if(opts.controlsAreUnder&&opts.controlsUnderHeight&&!controlsUnderAreShowing){$("object",element).height($("object",element).height()+controlsUnderHeight);controlsUnderAreShowing=true;}
if($.trim($(".items > li.selected .transcript",element).html()).length){opts.currentItemHasSubtitles=true;parseSubtitles($(".items > li.selected .transcript",element).children("p"));if(isHTML5){$("video",element).attr("src",$(".items > li:eq("+opts.podIndex+") a.poster",element).attr("href"));}else{opts.videoElement.setData("hasSubtitles","1");}}
else{opts.currentItemHasSubtitles=false;if(isHTML5){$("video",element).unbind("timeupdate",onSubtitlesTimeUpdate);}else{opts.videoElement.setData("hasSubtitles","");}}
var videoURL=$(".items > li:eq("+opts.podIndex+") a.poster",element).attr("href");if(isHTML5){$("video",element).attr("src",videoURL);opts.videoElement.load();}
else{opts.videoElement.setData("title",$(".items > li:eq("+opts.podIndex+") .details h2",element).text());opts.videoElement.setData("category",$(".items > li:eq("+opts.podIndex+") .details h3",element).text());opts.videoElement.loadVideo(videoURL);}
if(isHTML5)
opts.videoElement.play();else
opts.videoElement.playMedia();if(opts.isSingleVideo&&!opts.singleHasRun){opts.singleHasRun=true;$(".items > li.selected a.poster",element).hide();$(".items > li.selected .details",element).hide();$(".loadingWindow",element).hide();}else{if(opts.useDetails){fadeOutDetails();}
else{$(".items > li.selected .details",element).hide();}}
if(opts.videoElementName=="video"){$("video").bind("timeupdate",onTimeUpdate);}else{setTimeout(onTimeUpdate,100);}
setTimeout(trackLoading,200);if(!isHTML5){}
return false;}
function onTimeUpdate(){if(!opts.videoElement.getPlayhead)return;var currentTime=isHTML5?opts.videoElement.currentTime:opts.videoElement.getPlayhead();var duration=isHTML5?opts.videoElement.duration:opts.videoElement.getTotalTime();if(String(duration)!="NaN"&&duration){$(".controls a.duration span",element).text(formatSeconds(duration));}
if(currentTime>0){var totalPlayed=Math.floor((currentTime/duration)*100);$(".controls div.video-scrubber div.scrub-bar",element).css("width",totalPlayed+"%");}
if(!isHTML5){if(String(duration)=="NaN"||!duration||Math.ceil(currentTime)<Math.floor(duration)){setTimeout(onTimeUpdate,50);}
else{$(".controls div.video-scrubber div.scrub-bar",element).css("width","100%");if(views>1){}
setTimeout(onVideoEnded,700);}}}
function formatSeconds(secs){var minutes=Math.round(secs/60);var seconds=Math.round(secs)%60;minutes=String(minutes).length<2?"0"+minutes:minutes;seconds=String(seconds).length<2?"0"+seconds:seconds;return minutes+":"+seconds;}
function trackLoading(){var totalLoaded=0;if(opts.videoElement.duration>0){totalLoaded=Math.floor((opts.videoElement.buffered.end(0)/opts.videoElement.duration)*100);$(".controls div.video-scrubber div.load-bar",element).css("width",totalLoaded+"%");}
if(totalLoaded!=100){setTimeout(trackLoading,200);}}
function fadeOutDetails(){$('.details',element).fadeOut(2000);}
function readyToPlay(){}
function parseSubtitles(data){var container=data;opts.videoSubtitles=new Array();container.each(function(index){var begin=$(this).attr('class');begin=begin.split(" ");var _end=Number(begin[1]);begin=Number(begin[0]);opts.videoSubtitles.push([begin,_end,$(this).html()]);});isHTML5?$(opts.videoElementName,element).bind("timeupdate",onSubtitlesTimeUpdate):setTimeout(onSubtitlesTimeUpdate,250);$('.subtitles',element).show();}
function onSubtitlesTimeUpdate(){if(!opts.videoElement.getPlayhead)return;var currentTime=isHTML5?opts.videoElement.currentTime:opts.videoElement.getPlayhead();if(!opts.videoSubtitles||!opts.videoSubtitles.length){if(isHTML5)$(opts.videoElementName,element).unbind("timeupdate",onSubtitlesTimeUpdate);$('.subtitles',element).hide();return;}
currentTime=Math.round(currentTime);for(var i=0;i<opts.videoSubtitles.length;i++){if(currentTime<=opts.videoSubtitles[i][0]){subtitleIndex=i;break;}}
if(lastPlayheadSecond!=currentTime){if(Math.max(currentTime,lastPlayheadSecond)-Math.min(currentTime,lastPlayheadSecond)>2){$(".subtitles",element).text("");}
if(subtitleIndex<opts.videoSubtitles.length&&currentTime==opts.videoSubtitles[subtitleIndex][1]){subtitleIndex++;$(".subtitles",element).text("");}
if(subtitleIndex<opts.videoSubtitles.length&&currentTime==opts.videoSubtitles[subtitleIndex][0]){if(isHTML5){$(".subtitles",element).html(opts.videoSubtitles[subtitleIndex][2]);}else{opts.videoElement.setData("currentCaption",opts.videoSubtitles[subtitleIndex][2]);}}
lastPlayheadSecond=currentTime;}
if(!isHTML5)setTimeout(onSubtitlesTimeUpdate,250);}
function onVideoEnded(){if(window.navigator.standalone)return;if(!isHTML5){$('.controls',element).hide();if(opts.isSingleVideo){}
if(opts.controlsAreUnder&&opts.controlsUnderHeight&&!controlsUnderAreShowing){$("object",element).height($("object",element).height()+controlsUnderHeight);controlsUnderAreShowing=true;}
if(isHTML5){opts.videoElement.pause();opts.videoElement.seek(0);}
else{opts.videoElement.pauseMedia();opts.videoElement.seekMedia(0);}}
else{$("video",element).css("left","1000px");}
if(opts.useDetails)
$('.details',element).show();opts.browsingPages=false;nextItem();startPodRotation();}
function nextItem(){$(".timeGate",element).hide();$(".items > li.selected a.poster",element).show();$(".items > li.selected",element).removeClass("selected");$(".navigation li.selected",element).removeClass("selected");opts.podIndex=opts.podIndex<$(".items",element).children().size()-1?opts.podIndex+1:0;$(".items > li",element).eq(opts.podIndex).addClass("selected");$(".items > li.selected a.poster",element).show();$("video",element).attr("poster",$(".items > li.selected a.poster img",element).attr("src"));$(".navigation ul li",element).eq(opts.podIndex).addClass("selected");if(!opts.browsingPages&&opts.pageIndex!=Math.floor(opts.podIndex/opts.podsPerPage)){moveNavigationToPage(Math.floor(opts.podIndex/opts.podsPerPage));}}
function moveNavigationLeft(){opts.browsingPages=true;moveNavigationToPage(opts.pageIndex+1);return false;}
function moveNavigationRight(){opts.browsingPages=true;moveNavigationToPage(opts.pageIndex-1);return false;}
function moveNavigationToPage(page){if(opts.controlsLocked)return false;var navMoveDir=opts.pageIndex-page;$('.navigation ul',element).animate({left:'+='+(656-Number(28))*navMoveDir},500,function(){});opts.pageIndex=page;updateNavigationButtons();}
function updateNavigationButtons(){if(opts.pageIndex==0){$(".navigation a.prev",element).hide();}
else{$(".navigation a.prev",element).show();}
if(opts.pageIndex==Math.floor(($(".items",element).children().size()-1)/opts.podsPerPage)){$(".navigation a.next",element).hide();}
else{$(".navigation a.next",element).show();}}
function onPosterClick(){}
function onThumbClick(){}
function verifyAge(){var DOB_month=$(".ageGate input[name=age_month]",element).val();var DOB_day=$(".ageGate input[name=age_day]",element).val();var DOB_year=$(".ageGate input[name=age_year]",element).val();var month=Number(DOB_month);var day=Number(DOB_day);var year=Number(DOB_year);if(DOB_month.search(/^\d{1,2}$/)==-1||month<1||month>12){alert('Your birth month must be a number between 1 and 12');return false;}else if(DOB_day.search(/^\d{1,2}$/)==-1||day<1||day>31){alert('Your birth day must be a number between 1 and 31');return false;}else if(day<1||day>(32-new Date(year,(month-1),32).getDate())){alert('Your birth day is greater than the total amount of days for that month');return false;}else if(DOB_year.search(/^\d\d\d\d$/)==-1){alert('Your birth year must be a four digit number');return false;}else{var minDate=new Date();minDate.setFullYear(minDate.getFullYear()-opts.ageMinimum);var selectedDate=new Date(year,month-1,day);if(selectedDate.getTime()>minDate.getTime()){setCookie('ofAge','0',1);$(".ageGate input[name=age]",element).attr("disabled","disabled");$(".ageGate p.error",element).show();$(".ageGate a.verify",element).hide();}
else{opts.ageGatePassed="1";setCookie('ofAge','1',60);unlockControls();loadVideo();$(".ageGate",element).hide();}}
return false;}
function hasFlashVersion(ver)
{var currentVer='0,0,0';if(window.ActiveXObject)
{try
{new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6').AllowScriptAccess='always';}
catch(ex)
{currentVer='6,0,0';}
if(currentVer==='0,0,0')
{try
{currentVer=new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1];}
catch(ex)
{}}}
else
{try
{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)
{currentVer=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1];}}
catch(ex)
{}}
ver=ver.toString().split('.');while(ver.length<3){ver[ver.length]='0';}
var pv=currentVer.match(/\d+/g);var rv=String([ver[0],ver[1],ver[2]]).match(/\d+/g);for(var idx=0;idx<3;idx++)
{pv[idx]=parseInt(pv[idx]||0);rv[idx]=parseInt(rv[idx]||0);if(pv[idx]<rv[idx]){return false;}
if(pv[idx]>rv[idx]){return true;}}
return true;}
function processPlayerSize(size){switch(size){case'small':opts.playerWidth=350;opts.playerHeight=197;break;case'medium':opts.playerWidth=400;opts.playerHeight=225;break;case'large':opts.playerWidth=500;opts.playerHeight=281;break;default:opts.playerWidth=656;opts.playerHeight=369;break;}}
return this.each(function(i){element=$(this);opts.element=this;initialize(i);});};$.fn.mediaPlayer.xvpLoaded=function(id){$('#'+id).trigger('xvp_loaded');};$.fn.mediaPlayer.showShareView=function(){$(document).bind('afterReveal.facebox',$.fn.mediaPlayer.handleFaceboxSelectables);$.facebox(function(){$.facebox("<div class='share'>"+$(".media-player .items li.selected .screens .share").html()+"</div>");if(EA&&EA.videoplayer&&EA.videoplayer.iframe){$('#facebox').css('top',Math.ceil((369-$("#facebox").height())/2));$('#facebox').css('left',Math.ceil((656-$("#facebox").width())/2));}});$(document).bind('close.facebox',$.fn.mediaPlayer.playAfterCloseView);};$.fn.mediaPlayer.showEmbedView=function(){$(document).bind('afterReveal.facebox',$.fn.mediaPlayer.handleFaceboxSelectables);$.facebox(function(){$.facebox("<div class='embed'>"+$(".media-player .items li.selected .screens .embed").html()+"</div>");if(EA&&EA.videoplayer&&EA.videoplayer.iframe){$('#facebox').css('top',Math.ceil((369-$("#facebox").height())/2));$('#facebox').css('left',Math.ceil((656-$("#facebox").width())/2));}});$(document).bind('close.facebox',$.fn.mediaPlayer.playAfterCloseView);};$.fn.mediaPlayer.playAfterCloseView=function(){$(".media-player .controls .pause").click();$(document).unbind('close.facebox',$.fn.mediaPlayer.playAfterCloseView);};$.fn.mediaPlayer.handleFaceboxSelectables=function(){$(document).unbind('afterReveal.facebox',$.fn.mediaPlayer.handleFaceboxSelectables);var mediaHTML=$(".media-player").clone();$(".loadingWindow",mediaHTML).show();$("object",mediaHTML).remove();$(".linkback",mediaHTML).css("display","block");var heightWithLinkback=($(".media-player").height()+$(".media-player .linkback").height())+"px";mediaHTML=mediaHTML.html().replace(/(\s{2}|\t|\r\n|\n)/g,"");var textareaVal='';if($.fn.mediaPlayer.settings.bootstrap){var _btstp=$.fn.mediaPlayer.settings.bootstrap;var my_id=$(".media-player").get(0).id;var url_ap=(_btstp.indexOf("?")!=-1)?"&id=":"?id=";textareaVal='<script type="text/javascript" src="'+_btstp+url_ap+my_id+'"></script>'+"<div id='"+my_id+"' class='media-player embedded'>"+mediaHTML+"</div>";}
$("#facebox .embed textarea").val(textareaVal);$("#facebox .share a.send").click(function(){var my_em=$("#facebox .share input[name=your_email]").val();var f_em=$("#facebox .share input[name=friends_email]").val();var message_em=$("#facebox .share textarea[name=message]").val();var reg=/^[a-z][\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i;if(!my_em.match(reg)){alert('Your email is invalid');return false;}
var all_f_em=f_em.split(" ").join("").split(",").join(";").split(";");for(var i in all_f_em){if(!all_f_em[i].match(reg)){alert('Your friends email is invalid:"'+all_f_em[i]+'"');return false;}}
if(message_em==$("#facebox .share input[name=def_message]").val()){message_em="";}
else{message_em+="\r\n";}
message_em+=window.location.href;$.ajax({url:$.fn.mediaPlayer.settings.mailer,data:{emailSender:my_em,emailReceiver:f_em,emailMessage:message_em},success:function(data,textStatus,XMLHttpRequest){alert("Your message has been sent.");$("#facebox .share input[name=friends_email]").val("");},error:function(){alert('there was an error');}});return false;});$("#facebox .share ul li a").click(function(){$.fn.mediaPlayer.shareService($(this).attr("class"));return false;});$("#facebox .share input[type=text],#facebox .share textarea,#facebox .embed textarea,#facebox .embed input[type=text]").focus(function(){this.select();});var currentSize=$("#facebox .embed input[type=radio]:checked").val();$("#facebox .embed input[type=radio]").click(function(){var size={"name":$(this).val()};if(currentSize==size.name)return;switch(size.name){case'small':size.w=350;size.h=197;break;case'medium':size.w=400;size.h=225;break;case'large':size.w=500;size.h=281;break;case'xlarge':default:size.w=656;size.h=369;break;}
switch(currentSize){case'small':size.cw=350;size.ch=197;break;case'medium':size.cw=400;size.ch=225;break;case'large':size.cw=500;size.ch=281;break;case'xlarge':default:size.cw=656;size.ch=369;break;}
$("#facebox .embed textarea").attr('readonly','');;var ta_el=$("#facebox .embed textarea").val();var old_size="playerSize="+currentSize;var new_size="playerSize="+size.name;ta_el=ta_el.replace(old_size,new_size);ta_el=ta_el.replace('width="'+size.cw+'"','width="'+size.w+'"');ta_el=ta_el.replace('height="'+size.ch+'"','height="'+size.h+'"');ta_el=ta_el.replace('width='+size.cw,'width="'+size.w+'"');ta_el=ta_el.replace('height='+size.ch,'height="'+size.h+'"');ta_el=ta_el.replace("media-player "+currentSize,"media-player "+size.name);$("#facebox .embed textarea").val(ta_el);$("#facebox .embed textarea").attr('readonly','readonly');currentSize=size.name;});$("#facebox .embed a").click(function(){var section=$(this).attr("class");var copyText="";if(section=="link_copy"){$("#facebox .embed .embed_link").select();copyText=$("#facebox .embed .embed_link").val();}
else if(section=="html_copy"){$("#facebox .embed .embed_html").select();copyText=$("#facebox .embed .embed_html").val();}
var success=true;if(window.clipboardData){window.clipboardData.setData("Text",copyText);return;}
var supported=true;try{if(window.netscape&&netscape.security){netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");}
success=document.execCommand("copy",false,null);}
catch(e){success=false;}
if(success){alert("Selection copied to clipboard!");}
else{alert("Your browser doesn't allow clipboard access! Press Ctrl+C (or Apple+C on Mac) while text is selected to copy manually.");}});};$.fn.mediaPlayer.shareService=function(siteId){var siteURL=window.location.href;switch(siteId){case"facebook":window.open('http://www.facebook.com/sharer.php?u='+escape(siteURL),'_blank');break;case"twitter":window.open('http://twitter.com/home/?status='+escape('Check out this video '+siteURL),'_blank');break;case"google":window.open('http://www.google.com/ig/adde?moduleurl=http://www.ea.com/xml/igoogleVideo&source=imag&up_v=','_blank');break;case"myspace":window.open('http://www.myspace.com/Modules/PostTo/Pages/?u='+escape(siteURL),'_blank');break;case"digg":window.open('http://digg.com/submit?phase=2&url='+escape(siteURL)+'&title=&bodytext=&topic=gaming_news','_blank');break;case"delicious":window.open('http://www.delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'_blank');break;}};$.fn.mediaPlayer.settings={};$.fn.mediaPlayer.defaults={id:"editorialPod",podIndex:0,pageIndex:0,podsPerPage:6,podIntervalId:false,videoElement:null,canvasElement:null,canvasContext:null,browsingPages:false,podIntervalId:null,ageGatePassed:false,controlsLocked:false,videoPlayer:'',videoSkin:'',currentItemHasSubtitles:false,isSingleVideo:false,jsReadyCallback:'$.fn.mediaPlayer.xvpLoaded',loadingText:'',useDetails:"",singleHasRun:false,initFlashDataSent:false,volume:0.75,volumeSaved:0,videoSubtitles:null,controlsAreUnder:false,controlsUnderHeight:40,videoElementName:(navigator.userAgent.match(/iphone/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/Google Web Preview/i))?"video":"object",ageMinimum:18,brightcovePublisherId:null,brightcovePlayerId:null,afterLoaded:null,scrubBgColor:'',bootstrap:false,quality:"standard",selectedListElement:null,playerSize:'xlarge',playerWidth:'656',playerHeight:'369',installFlashMessage:'This content requires the Flash Player %1  or above. <a href="http://www.adobe.com/go/getflashplayer" target="_blank">Download Flash Player</a>',mailer:'/mailer/mail'};})(jQuery);(function($)
{$.fn.videoOverlay=function(){return this.each(function(){var $this=$(this);var url='';if($this.data&&$this.data('href')){url=$this.data('href');}
else if(this.href){url=this.href;}
if(url.match('http://(www.)?youtube|youtu\.be')){var youtubeId=url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0];var newHref="javascript: jQuery.openVideoOverlay('youtube','"+youtubeId+"');";if($this.data&&$this.data('href')){$this.data('href',newHref);var $adjacentLink=$this.parent().find('a');if($adjacentLink.length>0){$adjacentLink.attr('href',newHref);}}
else if(this.href){this.href=newHref;}}
else{var ids=parseUrl(url);if(ids){var newHref="javascript: jQuery.openVideoOverlay('brightcove','"+ids.videoid+"','"+ids.gameid+"');";if($this.data&&$this.data('href')){$this.data('href',newHref);}
else if(this.href){this.href=newHref;}}}});function parseUrl(url){if(url&&url.toLowerCase().indexOf("play=overlay")>0){var tokens=url.split("/");for(i=0;i<tokens.length;i++){if(tokens[i].toLowerCase()=="videos"){var ids={gameid:tokens[i-1],videoid:tokens[i+1].substring(0,tokens[i+1].indexOf("?"))};var locale=new RegExp(/^[a-z]{2}(-[a-z]{2})?$/);if(locale.test(tokens[i-2])){ids.gameid=tokens[i-2]+"/"+ids.gameid;}
return ids;}}}
return null;}}
$.openVideoOverlay=function(player,videoid,gameid){var $EP=$('#mod-editorial-pod .carousel-wrap');if($EP.length==0){$EP=$('#mod-editorial-pod img');}
var position;if($EP&&$EP.length>0){$.facebox.settings.opacity=0;position=$EP.offset();position.width=$EP.width();position.height=$EP.height();$EP.parent().find(".carousel-pagination a.current").trigger("click");}
$.facebox.settings.loadingImage=EA.staticPath+"/ui/core/img/loading_bars.gif";$.facebox(function(){$("#facebox td").hide();$("#facebox .loading").hide();if(player=='youtube'){$.facebox('<iframe scrolling="no" marginwidth="0" width="'+position.width+'" height="'+position.height+'" frameborder="0" src="http://www.youtube.com/embed/'+videoid+'?autoplay=1" marginheight="0" allowfullscreen></iframe>');}
else{$.facebox('<iframe scrolling="no" marginwidth="0" width="656" height="369" frameborder="0" src="/'+gameid+'/ajax/videos/player/'+videoid+'" marginheight="0"></iframe>');}
$(document).bind("close.facebox",function(){$("#facebox td.body .content iframe").attr('src','');});if(position){$("#facebox").css("top",position.top);$("#facebox").css("left",position.left);$("#facebox td.body").css("background","#000");$("#facebox td.body").css("width",position.width);$("#facebox td.body").css("height",position.height);$("#facebox td.body").css("vertical-align","middle");$("#facebox td.body").css("text-align","center");$("#facebox td.body").show();$("#facebox td.body .footer").hide();}else{$("#facebox .body").css("padding-top","22px");$("#facebox .body").css("vertical-align","bottom");$("#facebox td").show();}});}})(jQuery);;(function($,window){var moduleCache={};$.openModuleOverlay=function(id,useSkinJS){if(typeof moduleCache[id]=="undefined"){$module=$(id);moduleCache[id]=$module.parent().html();$module.remove();}
$.facebox(moduleCache[id]);if(useSkinJS){$(document.body).append('<script type="text/javascript" src="'+EA.staticPath+EA.skinPath+'js/module/'+id.replace('#mod-','')+'.js"></script>');}else{$(document.body).append('<script type="text/javascript" src="'+EA.staticPath+'/ui/base/js/module/'+id.replace('#mod-','')+'.js"></script>');}}})(jQuery,this);(function($){$.fn.lazyload=function(){var $this=this;$(window).scroll(function(){$this.trigger('lazyload');});return $this.each(function(){var $elm=$(this);if($elm.attr('data-src')){$elm.bind('lazyload',checkViewPort);$elm.trigger('lazyload');}});};function checkViewPort(){var offset=$(this).offset();var windowTop=getScrollTop();var windowBottom=windowTop+getWindowHeight();if(offset.top>=windowTop&&offset.top<=windowBottom){$(this).attr('src',$(this).attr('data-src'));$(this).removeAttr('data-src');$(this).unbind('lazyload');}}
function getWindowHeight(){if(typeof window.innerHeight=='number'){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body&&document.body.clientHeight){return document.body.clientHeight;}}
function getScrollTop(){if(typeof window.pageYOffset=='number'){return window.pageYOffset;}else if(document.body&&document.body.scrollTop){return document.body.scrollTop;}else if(document.documentElement&&document.documentElement.scrollTop){return document.documentElement.scrollTop;}}})(jQuery);(function($){if(!document.defaultView||!document.defaultView.getComputedStyle){var oldCurCSS=$.curCSS;$.curCSS=function(elem,name,force){var curStyle=elem.currentStyle,ret;if(name==='font-size'){name='fontSize';}
if((name!=='clip'&&name!=='fontSize')||!curStyle){return oldCurCSS.apply(this,arguments);}
var style=elem.style;if(!force&&style){ret=style[name];}
if(name==='clip'){ret=ret||'rect('+(curStyle.clipTop||'auto')+' '+(curStyle.clipRight||'auto')+' '+(curStyle.clipBottom||'auto')+' '+(curStyle.clipLeft||'auto')+')';}else{ret=ret||curStyle.fontSize;if(!(/px/.test(ret))){var width=style.width,rsWidth=elem.runtimeStyle.width;elem.runtimeStyle.width=elem.currentStyle.width;style.width='100em';ret=style.pixelWidth/100+"px";style.width=width;elem.runtimeStyle.width=rsWidth;}}
return ret;};}})(jQuery);(function($){var calcClipAuto=[function(){return 0;},function(elem){return $(elem).outerWidth();},function(elem){return $(elem).outerHeight();},function(elem){return 0;}],calcNumClip=function(prop,elem){return((/em/.test(prop)))?(parseFloat($.curCSS(elem,'fontSize'),10)||1)*(parseFloat(prop,10)||0):(parseInt(prop,10)||0);};var calcClip=function(css,fx,isEnd){var ret=[];if(css==='auto'){css='rect(auto auto auto auto)';}
css=css.replace(/rect\(|\)/g,'').split(/,\s*|\s/);if(isEnd){fx.endClipStyle='rect('+css.join(' ')+')';}
for(var i=0;i<css.length;i++){ret[i]=(css[i]!=='auto')?calcNumClip(css[i],fx.elem):calcClipAuto[i](fx.elem);}
return ret;};jQuery.fx.step.clip=function(fx){if(!fx.clipInit){fx.start=calcClip($.curCSS(fx.elem,'clip'),fx);fx.end=calcClip(fx.end,fx,true);fx.elmStyle=fx.elem.style;fx.clipInit=true;}
fx.elmStyle.clip='rect('+(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0])+'px '+(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1])+'px '+(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2])+'px '+(fx.pos*(fx.end[3]-fx.start[3])+fx.start[3])+'px)';if(fx.pos===1&&fx.endClipStyle){fx.elmStyle.clip=fx.endClipStyle;}};})(jQuery);jQuery.getJSONP=function(url){return jQuery.ajax({url:url,dataType:'script',cache:true,global:false});};ShoppingCartService=function(){var l=false;var m={serverName:1,endpoint:1,url:1,fieldsToBeReturned:1};var n=(new Date()).getTime();var o={code:'0',message:''};var p={serverName:'store.digitalriver.com',endpoint:'/integration/job/request/ShoppingCartService/defaults/site/',siteID:'',fieldsToBeReturned:{baseFields:['displayName','productType'],attributes:['platform']}};var q=function(){if(!l){alert('ERROR: ShoppingCartService object not initialized.\nVerify call to ShoppingCartService.init(options).');return false}
else{return true}};var r=function(a,b,c){o.code='0';o.message='';var d=b;var e=d['ns1:'+a+'ShoppingCartResponse'];p.token=e.token;var f=e.shoppingCartLineItems||[];if(f.constructor!==Array){f=[f]}
ShoppingCartService.lineItems=f.length;d['ns1:'+a+'ShoppingCartResponse'].shoppingCartLineItems=f;o.code=e.errorCode;if(o.code==='0'){delete p.currencyCode;delete p.couponCode;delete p.programID}
else{o.message=e.errorMessage}
c(d)};return{lineItems:0,isEnabled:function(){return true},isInitialized:function(){return l},isEmpty:function(){return(this.lineItems===0)},getErrorCode:function(){return o.code},getErrorMessage:function(){return o.message},hasError:function(){return(o.code!=0)},setCurrencyCode:function(a){p.currencyCode=a},setCouponCode:function(a){p.couponCode=a},setProgramID:function(a){p.programID=a},init:function(a){if(!window.jQuery){return'The ShoppingCartService requires the jQuery library.'}
else
if(!a.siteID){return'siteID is required in the ShoppingCartService initialization options.'}
else{l=true;p=jQuery.extend(true,p,a);if(!p.url){p.url=location.protocol+'//'+p.serverName+p.endpoint}
return''}},getFieldsToBeReturned:function(){var a='';var b=false;var c=false;for(var d in p.fieldsToBeReturned){for(var j=0;j<p.fieldsToBeReturned[d].length;j++){if(d=='baseFields'&&!b){a+='%3CbaseFields%3E';b=true}
else
if(d=='attributes'&&!c){a+='%3Cattributes%3E';c=true}
a+='%3C'+p.fieldsToBeReturned[d][j]+'/%3E'}
if(d=='baseFields'&&b){a+='%3C/baseFields%3E'}
else
if(d=='attributes'&&c){a+='%3C/attributes%3E'}}
return a},get:function(b,c){if(q()){jQuery.ajax({url:b,dataType:'json',jsonp:'jsonp',cache:true,success:function(a){r('Get',a,c)}});return true}
else{return false}},post:function(b,c,d){if(q()){var e=((arguments.length<3)||(d.length===0))?'Get':'AddUpdate';var f='%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3C'+e;for(var g in p){if(!m[g]){f+='%20'+g+'%3D%22'+p[g]+'%22'}}
f+='%3E';if(e=='AddUpdate'){for(var i=0;i<d.length;i++){var h=(!isNaN(d[i].quantity))?d[i].quantity:1;f+='%3C'+d[i].action+'%20qty%3D%22'+h+'%22%20id%3D%22'+d[i].itemID+'%22';if(d[i].locale){f+='%20locale%3D%22'+d[i].locale+'%22'}
if(d[i].extendedAttributes&&d[i].extendedAttributes.length){var j=d[i].extendedAttributes;f+='%3E%3Cattr';for(var z=0;z<j.length;z++){f+='%20'+j[z].name+'%3D%22'+j[z].value+'%22'}
f+='/%3E%3C/'+d[i].action+'%3E'}
else{f+='/%3E'}}}
var k='jsonp'+n++;f+=this.getFieldsToBeReturned()+'%3C/'+e+'%3E%3C%21--jsonp=ShoppingCartService.'+k+'--%3E';this[k]=function(a){r(e,a,b);delete this[k]};jQuery.getJSONP(p.url+'?'+f);return true}
else{return false}}}}();(function($,window){var globals={reset:false,paginationLevel:0}
var methods={init:function(options){return this.each(function(){var env={$mediaList:[],$mediaListItems:[],$paginationContainer:[],page:[],pages:[],items:[],pageMenu:[],startIndex:[],endIndex:[]};var func={load:function(){env.$mediaListItems.slice(env.startIndex,env.endIndex).each(function(i){var $this=$(this);var $thisImg=$this.find('img');if($thisImg.attr('data-src')!=undefined){$thisImg.attr('src',$thisImg.attr('data-src')).removeAttr('data-src');}
$this.addClass('visible');});},update:function(direction){(direction=='next')?env.page=env.page+1:env.page=env.page-1;env.$paginationContainer.find('.idx').html(env.page);env.startIndex=((env.page*env.items)-env.items)<0?0:(env.page*env.items)-env.items;env.endIndex=(env.startIndex+env.items-1)>env.$mediaListItems.length-1?env.$mediaListItems.length:env.startIndex+env.items;env.$mediaListItems.removeClass('visible');env.$paginationContainer.find('.pagination-previous').removeClass('disabled');env.$paginationContainer.find('.pagination-next').removeClass('disabled');if(env.page==1){env.$paginationContainer.find('.pagination-previous').addClass('disabled');}
else if(env.page==env.pages){env.$paginationContainer.find('.pagination-next').addClass('disabled');}
func.load();}}
env.$mediaList=$(this);env.items=env.$mediaList.find('> li img[src]').length;env.page=1;env.pages=1;env.startIndex=0;env.$mediaListItems=env.$mediaList.find('> li');env.pages=Math.ceil(env.$mediaListItems.length/env.items);env.$paginationContainer=env.$mediaList.parent().find('.pagination-menu');if(globals.reset){env.$mediaListItems.removeClass('visible');env.items=globals.paginationLevel;env.pages=Math.ceil(env.$mediaListItems.length/env.items);env.$paginationContainer.find('.idx').html(env.startIndex+1);env.$paginationContainer.find('.count').html(env.pages);}
else{globals.paginationLevel=env.items;}
env.endIndex=env.items;func.load();if(env.$mediaListItems.length>env.items&&env.items!=-1){env.$paginationContainer.show();env.$paginationContainer.find('.pagination-previous').unbind('click').addClass('disabled').bind('click',function(e){if(env.startIndex>0){func.update('previous');}});env.$paginationContainer.find('.pagination-next').unbind('click').removeClass('disabled').bind('click',function(e){if(env.endIndex<env.$mediaListItems.length){func.update('next');}});}
else{env.$paginationContainer.hide();env.$mediaListItems.addClass('visible');}});},destroy:function(){globals.reset=true;return this.each(function(){$(window).unbind('.pagination');})}};$.fn.pagination=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}
else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}
else{$.error('Method '+method+' does not exist on jQuery.pagination');}};})(jQuery,this);;(function($,window,undefined){$(document.body).gridready(function(evt)
{$(this).removeClass('reordering');});})(jQuery,this);window.log=function()
{log.history=log.history||[];log.history.push(arguments);if(this.console)
{console.log(Array.prototype.slice.call(arguments));}};