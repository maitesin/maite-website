(function(window,undefined){var document=window.document,jQuery=(function(){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rdigit=/\d/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector)return this;if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this};if(selector==="body"&&!context&&document.body){this.context=document;this[0]=document.body;this.selector="body";this.length=1;return this};if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else selector=[doc.createElement(ret[1])]}else{ret=jQuery.buildFragment([match[1]],[doc]);selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes};return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1;this[0]=elem};this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else return this.constructor(context).find(selector)}else if(jQuery.isFunction(selector))return rootjQuery.ready(selector);if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context};return jQuery.makeArray(selector,this)},selector:"",jquery:"1.5.2",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num])},pushStack:function(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems)){push.apply(ret,elems)}else jQuery.merge(ret,elems);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else if(name)ret.selector=this.selector+"."+name+"("+selector+")";return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();readyList.done(fn);return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2};if(typeof target!=="object"&&!jQuery.isFunction(target))target={};if(length===i){target=this;--i};for(;i<length;i++)if((options=arguments[i])!=null)for(name in options){src=target[name];copy=options[name];if(target===copy)continue;if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else clone=src&&jQuery.isPlainObject(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined)target[name]=copy};return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep)window.jQuery=_jQuery;return jQuery},isReady:false,readyWait:1,ready:function(wait){if(wait===true)jQuery.readyWait--;if(!jQuery.readyWait||(wait!==true&&!jQuery.isReady)){if(!document.body)return setTimeout(jQuery.ready,1);jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger)jQuery(document).trigger("ready").unbind("ready")}},bindReady:function(){if(readyList)return;readyList=jQuery._Deferred();if(document.readyState==="complete")return setTimeout(jQuery.ready,1);if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){};if(document.documentElement.doScroll&&toplevel)doScrollCheck()}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj&&typeof obj==="object"&&"setInterval" in obj},isNaN:function(obj){return obj==null||!rdigit.test(obj)||isNaN(obj)},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj))return false;if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return false;var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj)return false;return true},error:function(msg){throw msg},parseJSON:function(data){if(typeof data!=="string"||!data)return null;data=jQuery.trim(data);if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return window.JSON&&window.JSON.parse?window.JSON.parse(data):(new Function("return "+data))()}else jQuery.error("Invalid JSON: "+data)},parseXML:function(data,xml,tmp){if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)};tmp=xml.documentElement;if(!tmp||!tmp.nodeName||tmp.nodeName==="parsererror")jQuery.error("Invalid XML: "+data);return xml},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");if(jQuery.support.scriptEval()){script.appendChild(document.createTextNode(data))}else script.text=data;head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object)if(callback.apply(object[name],args)===false)break}else for(;i<length;)if(callback.apply(object[i++],args)===false)break}else if(isObj){for(name in object)if(callback.call(object[name],name,object[name])===false)break}else for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]);return object},trim:trim?function(text){return text==null?"":trim.call(text)}:function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);if(array.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(array)){push.call(ret,array)}else jQuery.merge(ret,array)};return ret},inArray:function(elem,array){if(array.indexOf)return array.indexOf(elem);for(var i=0,length=array.length;i<length;i++)if(array[i]===elem)return i;return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++)first[i++]=second[j]}else while(second[j]!==undefined)first[i++]=second[j++];first.length=i;return first},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal)ret.push(elems[i])};return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null)ret[ret.length]=value};return ret.concat.apply([],ret)},guid:1,proxy:function(fn,proxy,thisObject){if(arguments.length===2)if(typeof proxy==="string"){thisObject=fn;fn=thisObject[proxy];proxy=undefined}else if(proxy&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined};if(!proxy&&fn)proxy=function(){return fn.apply(thisObject||this,arguments)};if(fn)proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy},access:function(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key)jQuery.access(elems,k,key[k],exec,fn,value);return elems};if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);return elems};return length?fn(elems[0],key):undefined},now:function(){return(new Date()).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySubclass(selector,context){return new jQuerySubclass.fn.init(selector,context)};jQuery.extend(true,jQuerySubclass,this);jQuerySubclass.superclass=this;jQuerySubclass.fn=jQuerySubclass.prototype=this();jQuerySubclass.fn.constructor=jQuerySubclass;jQuerySubclass.subclass=this.subclass;jQuerySubclass.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySubclass))context=jQuerySubclass(context);return jQuery.fn.init.call(this,selector,context,rootjQuerySubclass)};jQuerySubclass.fn.init.prototype=jQuerySubclass.fn;var rootjQuerySubclass=jQuerySubclass(document);return jQuerySubclass},browser:{}});jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version};if(jQuery.browser.webkit)jQuery.browser.safari=true;if(indexOf)jQuery.inArray=function(elem,array){return indexOf.call(array,elem)};if(rnotwhite.test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/};rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else if(document.attachEvent)DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}
function doScrollCheck(){if(jQuery.isReady)return;try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return};jQuery.ready()};return jQuery})(),promiseMethods="then done fail isResolved isRejected promise".split(" "),sliceDeferred=[].slice;jQuery.extend({_Deferred:function(){var callbacks=[],fired,firing,cancelled,deferred={done:function(){if(!cancelled){var args=arguments,i,length,elem,type,_fired;if(fired){_fired=fired;fired=0};for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type==="array"){deferred.done.apply(deferred,elem)}else if(type==="function")callbacks.push(elem)};if(_fired)deferred.resolveWith(_fired[0],_fired[1])};return this},resolveWith:function(context,args){if(!cancelled&&!fired&&!firing){args=args||[];firing=1;try{while(callbacks[0])callbacks.shift().apply(context,args)}finally{fired=[context,args];firing=0}};return this},resolve:function(){deferred.resolveWith(this,arguments);return this},isResolved:function(){return !!(firing||fired)},cancel:function(){cancelled=1;callbacks=[];return this}};return deferred},Deferred:function(func){var deferred=jQuery._Deferred(),failDeferred=jQuery._Deferred(),promise;jQuery.extend(deferred,{then:function(doneCallbacks,failCallbacks){deferred.done(doneCallbacks).fail(failCallbacks);return this},fail:failDeferred.done,rejectWith:failDeferred.resolveWith,reject:failDeferred.resolve,isRejected:failDeferred.isResolved,promise:function(obj){if(obj==null){if(promise)return promise;promise=obj={}};var i=promiseMethods.length;while(i--)obj[promiseMethods[i]]=deferred[promiseMethods[i]];return obj}});deferred.done(failDeferred.cancel).fail(deferred.cancel);delete deferred.cancel;if(func)func.call(deferred,deferred);return deferred},when:function(firstParam){var args=arguments,i=0,length=args.length,count=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred()
function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;if(!(--count))deferred.resolveWith(deferred,sliceDeferred.call(args,0))}};if(length>1){for(;i<length;i++)if(args[i]&&jQuery.isFunction(args[i].promise)){args[i].promise().then(resolveFunc(i),deferred.reject)}else --count;if(!count)deferred.resolveWith(deferred,args)}else if(deferred!==firstParam)deferred.resolveWith(deferred,length?[firstParam]:[]);return deferred.promise()}});(function(){jQuery.support={};var div=document.createElement("div");div.style.display="none";div.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0],select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0];if(!all||!all.length||!a)return;jQuery.support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55$/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:input.value==="on",optSelected:opt.selected,deleteExpando:true,optDisabled:false,checkClone:false,noCloneEvent:true,noCloneChecked:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true,reliableMarginRight:true};input.checked=true;jQuery.support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;jQuery.support.optDisabled=!opt.disabled;var _scriptEval=null;jQuery.support.scriptEval=function(){if(_scriptEval===null){var root=document.documentElement,script=document.createElement("script"),id="script"+jQuery.now();try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){};root.insertBefore(script,root.firstChild);if(window[id]){_scriptEval=true;delete window[id]}else _scriptEval=false;root.removeChild(script)};return _scriptEval};try{delete div.test}catch(e){jQuery.support.deleteExpando=false};if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")};div=document.createElement("div");div.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var fragment=document.createDocumentFragment();fragment.appendChild(div.firstChild);jQuery.support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;jQuery(function(){var div=document.createElement("div"),body=document.getElementsByTagName("body")[0];if(!body)return;div.style.width=div.style.paddingLeft="1px";body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;if("zoom" in div.style){div.style.display="inline";div.style.zoom=1;jQuery.support.inlineBlockNeedsLayout=div.offsetWidth===2;div.style.display="";div.innerHTML="<div style='width:4px;'></div>";jQuery.support.shrinkWrapBlocks=div.offsetWidth!==2};div.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var tds=div.getElementsByTagName("td");jQuery.support.reliableHiddenOffsets=tds[0].offsetHeight===0;tds[0].style.display="";tds[1].style.display="none";jQuery.support.reliableHiddenOffsets=jQuery.support.reliableHiddenOffsets&&tds[0].offsetHeight===0;div.innerHTML="";if(document.defaultView&&document.defaultView.getComputedStyle){div.style.width="1px";div.style.marginRight="0";jQuery.support.reliableMarginRight=(parseInt(document.defaultView.getComputedStyle(div,null).marginRight,10)||0)===0};body.removeChild(div).style.display="none";div=tds=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;if(!el.attachEvent)return true;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"};return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");div=all=a=null})();var rbrace=/^(?:\{.*\}|\[.*\])$/;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem))return;var internalKey=jQuery.expando,getByName=typeof name==="string",thisCache,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:elem[jQuery.expando]&&jQuery.expando;if((!id||(pvt&&id&&!cache[id][internalKey]))&&getByName&&data===undefined)return;if(!id)if(isNode){elem[jQuery.expando]=id=++jQuery.uuid}else id=jQuery.expando;if(!cache[id]){cache[id]={};if(!isNode)cache[id].toJSON=jQuery.noop};if(typeof name==="object"||typeof name==="function")if(pvt){cache[id][internalKey]=jQuery.extend(cache[id][internalKey],name)}else cache[id]=jQuery.extend(cache[id],name);thisCache=cache[id];if(pvt){if(!thisCache[internalKey])thisCache[internalKey]={};thisCache=thisCache[internalKey]};if(data!==undefined)thisCache[name]=data;if(name==="events"&&!thisCache[name])return thisCache[internalKey]&&thisCache[internalKey].events;return getByName?thisCache[name]:thisCache},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem))return;var internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id])return;if(name){var thisCache=pvt?cache[id][internalKey]:cache[id];if(thisCache){delete thisCache[name];if(!isEmptyDataObject(thisCache))return}};if(pvt){delete cache[id][internalKey];if(!isEmptyDataObject(cache[id]))return};var internalCache=cache[id][internalKey];if(jQuery.support.deleteExpando||cache!=window){delete cache[id]}else cache[id]=null;if(internalCache){cache[id]={};if(!isNode)cache[id].toJSON=jQuery.noop;cache[id][internalKey]=internalCache}else if(isNode)if(jQuery.support.deleteExpando){delete elem[jQuery.expando]}else if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}else elem[jQuery.expando]=null},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match)return !(match===true||elem.getAttribute("classid")!==match)};return true}});jQuery.fn.extend({data:function(key,value){var data=null;if(typeof key==="undefined"){if(this.length){data=jQuery.data(this[0]);if(this[0].nodeType===1){var attr=this[0].attributes,name;for(var i=0,l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf("data-")===0){name=name.substr(5);dataAttr(this[0],name,data[name])}}}};return data}else if(typeof key==="object")return this.each(function(){jQuery.data(this,key)});var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key);data=dataAttr(this[0],key,data)};return data===undefined&&parts[1]?this.data(parts[0]):data}else return this.each(function(){var $this=jQuery(this),args=[parts[0],value];$this.triggerHandler("setData"+parts[1]+"!",args);jQuery.data(this,key,value);$this.triggerHandler("changeData"+parts[1]+"!",args)})},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}})
function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){data=elem.getAttribute("data-"+key);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:!jQuery.isNaN(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){};jQuery.data(elem,key,data)}else data=undefined};return data}
function isEmptyDataObject(obj){for(var name in obj)if(name!=="toJSON")return false;return true};jQuery.extend({queue:function(elem,type,data){if(!elem)return;type=(type||"fx")+"queue";var q=jQuery._data(elem,type);if(!data)return q||[];if(!q||jQuery.isArray(data)){q=jQuery._data(elem,type,jQuery.makeArray(data))}else q.push(data);return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress")fn=queue.shift();if(fn){if(type==="fx")queue.unshift("inprogress");fn.call(elem,function(){jQuery.dequeue(elem,type)})};if(!queue.length)jQuery.removeData(elem,type+"queue",true)}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"};if(data===undefined)return jQuery.queue(this[0],type);return this.each(function(i){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress")jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});var rclass=/[\n\t\r]/g,rspaces=/\s+/,rreturn=/\r/g,rspecialurl=/^(?:href|src|style)$/,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rradiocheck=/^(?:radio|checkbox)$/i;jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,name,value,true,jQuery.attr)},removeAttr:function(name,fn){return this.each(function(){jQuery.attr(this,name,"");if(this.nodeType===1)this.removeAttribute(name)})},addClass:function(value){if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);self.addClass(value.call(this,i,self.attr("class")))});if(value&&typeof value==="string"){var classNames=(value||"").split(rspaces);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1)if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ",setClass=elem.className;for(var c=0,cl=classNames.length;c<cl;c++)if(className.indexOf(" "+classNames[c]+" ")<0)setClass+=" "+classNames[c];elem.className=jQuery.trim(setClass)}}};return this},removeClass:function(value){if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);self.removeClass(value.call(this,i,self.attr("class")))});if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(rspaces);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className)if(value){var className=(" "+elem.className+" ").replace(rclass," ");for(var c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");elem.className=jQuery.trim(className)}else elem.className=""}};return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);self.toggleClass(value.call(this,i,self.attr("class"),stateVal),stateVal)});return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspaces);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else if(type==="undefined"||type==="boolean"){if(this.className)jQuery._data(this,"__className__",this.className);this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++)if((" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1)return true;return false},val:function(value){if(!arguments.length){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text};if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0)return null;for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one)return value;values.push(value)}};if(one&&!values.length&&options.length)return jQuery(options[index]).val();return values};if(rradiocheck.test(elem.type)&&!jQuery.support.checkOn)return elem.getAttribute("value")===null?"on":elem.value;return(elem.value||"").replace(rreturn,"")};return undefined};var isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val=value;if(this.nodeType!==1)return;if(isFunction)val=value.call(this,i,self.val());if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val))val=jQuery.map(val,function(value){return value==null?"":value+""});if(jQuery.isArray(val)&&rradiocheck.test(this.type)){this.checked=jQuery.inArray(self.val(),val)>=0}else if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length)this.selectedIndex=-1}else this.value=val})}});jQuery.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){if(!elem||elem.nodeType===3||elem.nodeType===8||elem.nodeType===2)return undefined;if(pass&&name in jQuery.attrFn)return jQuery(elem)[name](value);var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=rspecialurl.test(name);if(name==="selected"&&!jQuery.support.optSelected){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode)parent.parentNode.selectedIndex}};if((name in elem||elem[name]!==undefined)&&notxml&&!special){if(set){if(name==="type"&&rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");if(value===null){if(elem.nodeType===1)elem.removeAttribute(name)}else elem[name]=value};if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name))return elem.getAttributeNode(name).nodeValue;if(name==="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined};return elem[name]};if(!jQuery.support.style&&notxml&&name==="style"){if(set)elem.style.cssText=""+value;return elem.style.cssText};if(set)elem.setAttribute(name,""+value);if(!elem.attributes[name]&&(elem.hasAttribute&&!elem.hasAttribute(name)))return undefined;var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr};if(set)elem[name]=value;return elem[name]}});var rnamespaces=/\.(.*)$/,rformElems=/^(?:textarea|input|select)$/i,rperiod=/\./g,rspace=/ /g,rescape=/[^\w\s.|`]/g,fcleanup=function(nm){return nm.replace(rescape,"\\$&")};jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8)return;try{if(jQuery.isWindow(elem)&&(elem!==window&&!elem.frameElement))elem=window}catch(e){};if(handler===false){handler=returnFalse}else if(!handler)return;var handleObjIn,handleObj;if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler};if(!handler.guid)handler.guid=jQuery.guid++;var elemData=jQuery._data(elem);if(!elemData)return;var events=elemData.events,eventHandle=elemData.handle;if(!events)elemData.events=events={};if(!eventHandle)elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.handle.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem;types=types.split(" ");var type,i=0,namespaces;while((type=types[i++])){handleObj=handleObjIn?jQuery.extend({},handleObjIn):{handler:handler,data:data};if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();handleObj.namespace=namespaces.slice(0).sort().join(".")}else{namespaces=[];handleObj.namespace=""};handleObj.type=type;if(!handleObj.guid)handleObj.guid=handler.guid;var handlers=events[type],special=jQuery.event.special[type]||{};if(!handlers){handlers=events[type]=[];if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false)if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else if(elem.attachEvent)elem.attachEvent("on"+type,eventHandle)};if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid)handleObj.handler.guid=handler.guid};handlers.push(handleObj);jQuery.event.global[type]=true};elem=null},global:{},remove:function(elem,types,handler,pos){if(elem.nodeType===3||elem.nodeType===8)return;if(handler===false)handler=returnFalse;var ret,type,fn,j,i=0,all,namespaces,namespace,special,eventType,handleObj,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem),events=elemData&&elemData.events;if(!elemData||!events)return;if(types&&types.type){handler=types.handler;types=types.type};if(!types||typeof types==="string"&&types.charAt(0)==="."){types=types||"";for(type in events)jQuery.event.remove(elem,type+types);return};types=types.split(" ");while((type=types[i++])){origType=type;handleObj=null;all=type.indexOf(".")<0;namespaces=[];if(!all){namespaces=type.split(".");type=namespaces.shift();namespace=new RegExp("(^|\\.)"+jQuery.map(namespaces.slice(0).sort(),fcleanup).join("\\.(?:.*\\.)?")+"(\\.|$)")};eventType=events[type];if(!eventType)continue;if(!handler){for(j=0;j<eventType.length;j++){handleObj=eventType[j];if(all||namespace.test(handleObj.namespace)){jQuery.event.remove(elem,origType,handleObj.handler,j);eventType.splice(j--,1)}};continue};special=jQuery.event.special[type]||{};for(j=pos||0;j<eventType.length;j++){handleObj=eventType[j];if(handler.guid===handleObj.guid){if(all||namespace.test(handleObj.namespace)){if(pos==null)eventType.splice(j--,1);if(special.remove)special.remove.call(elem,handleObj)};if(pos!=null)break}};if(eventType.length===0||pos!=null&&eventType.length===1){if(!special.teardown||special.teardown.call(elem,namespaces)===false)jQuery.removeEvent(elem,type,elemData.handle);ret=null;delete events[type]}};if(jQuery.isEmptyObject(events)){var handle=elemData.handle;if(handle)handle.elem=null;delete elemData.events;delete elemData.handle;if(jQuery.isEmptyObject(elemData))jQuery.removeData(elem,undefined,true)}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[jQuery.expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true};if(!elem){event.stopPropagation();if(jQuery.event.global[type])jQuery.each(jQuery.cache,function(){var internalKey=jQuery.expando,internalCache=this[internalKey];if(internalCache&&internalCache.events&&internalCache.events[type])jQuery.event.trigger(event,data,internalCache.handle.elem)})};if(!elem||elem.nodeType===3||elem.nodeType===8)return undefined;event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)};event.currentTarget=elem;var handle=jQuery._data(elem,"handle");if(handle)handle.apply(elem,data);var parent=elem.parentNode||elem.ownerDocument;try{if(!(elem&&elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]))if(elem["on"+type]&&elem["on"+type].apply(elem,data)===false){event.result=false;event.preventDefault()}}catch(inlineError){};if(!event.isPropagationStopped()&&parent){jQuery.event.trigger(event,data,parent,true)}else if(!event.isDefaultPrevented()){var old,target=event.target,targetType=type.replace(rnamespaces,""),isClick=jQuery.nodeName(target,"a")&&targetType==="click",special=jQuery.event.special[targetType]||{};if((!special._default||special._default.call(elem,event)===false)&&!isClick&&!(target&&target.nodeName&&jQuery.noData[target.nodeName.toLowerCase()])){try{if(target[targetType]){old=target["on"+targetType];if(old)target["on"+targetType]=null;jQuery.event.triggered=event.type;target[targetType]()}}catch(triggerError){};if(old)target["on"+targetType]=old;jQuery.event.triggered=undefined}}},handle:function(event){var all,handlers,namespaces,namespace_re,events,namespace_sort=[],args=jQuery.makeArray(arguments);event=args[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;all=event.type.indexOf(".")<0&&!event.exclusive;if(!all){namespaces=event.type.split(".");event.type=namespaces.shift();namespace_sort=namespaces.slice(0).sort();namespace_re=new RegExp("(^|\\.)"+namespace_sort.join("\\.(?:.*\\.)?")+"(\\.|$)")};event.namespace=event.namespace||namespace_sort.join(".");events=jQuery._data(this,"events");handlers=(events||{})[event.type];if(events&&handlers){handlers=handlers.slice(0);for(var j=0,l=handlers.length;j<l;j++){var handleObj=handlers[j];if(all||namespace_re.test(handleObj.namespace)){event.handler=handleObj.handler;event.data=handleObj.data;event.handleObj=handleObj;var ret=handleObj.handler.apply(this,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}};if(event.isImmediatePropagationStopped())break}}};return event.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[jQuery.expando])return event;var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]};if(!event.target)event.target=event.srcElement||document;if(event.target.nodeType===3)event.target=event.target.parentNode;if(!event.relatedTarget&&event.fromElement)event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)};if(event.which==null&&(event.charCode!=null||event.keyCode!=null))event.which=event.charCode!=null?event.charCode:event.keyCode;if(!event.metaKey&&event.ctrlKey)event.metaKey=event.ctrlKey;if(!event.which&&event.button!==undefined)event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)));return event},guid:1E8,proxy:jQuery.proxy,special:{ready:{setup:jQuery.bindReady,teardown:jQuery.noop},live:{add:function(handleObj){jQuery.event.add(this,liveConvert(handleObj.origType,handleObj.selector),jQuery.extend({},handleObj,{handler:liveHandler,guid:handleObj.handler.guid}))},remove:function(handleObj){jQuery.event.remove(this,liveConvert(handleObj.origType,handleObj.selector),handleObj)}},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this))this.onbeforeunload=eventHandle},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle)this.onbeforeunload=null}}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener)elem.removeEventListener(type,handle,false)}:function(elem,type,handle){if(elem.detachEvent)elem.detachEvent("on"+type,handle)};jQuery.Event=function(src){if(!this.preventDefault)return new jQuery.Event(src);if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else this.type=src;this.timeStamp=jQuery.now();this[jQuery.expando]=true}
function returnFalse(){return false}
function returnTrue(){return true};jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e)return;if(e.preventDefault){e.preventDefault()}else e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e)return;if(e.stopPropagation)e.stopPropagation();e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;try{if(parent&&parent!==document&&!parent.parentNode)return;while(parent&&parent!==this)parent=parent.parentNode;if(parent!==this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}}catch(e){}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={setup:function(data){jQuery.event.add(this,fix,data&&data.selector?delegate:withinElement,orig)},teardown:function(data){jQuery.event.remove(this,fix,data&&data.selector?delegate:withinElement)}}});if(!jQuery.support.submitBubbles)jQuery.event.special.submit={setup:function(data,namespaces){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length)trigger("submit",this,arguments)});jQuery.event.add(this,"keypress.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13)trigger("submit",this,arguments)})}else return false},teardown:function(namespaces){jQuery.event.remove(this,".specialSubmit")}};if(!jQuery.support.changeBubbles){var changeFilters,getVal=function(elem){var type=elem.type,val=elem.value;if(type==="radio"||type==="checkbox"){val=elem.checked}else if(type==="select-multiple"){val=elem.selectedIndex>-1?jQuery.map(elem.options,function(elem){return elem.selected}).join("-"):""}else if(elem.nodeName.toLowerCase()==="select")val=elem.selectedIndex;return val},testChange=function testChange(e){var elem=e.target,data,val;if(!rformElems.test(elem.nodeName)||elem.readOnly)return;data=jQuery._data(elem,"_change_data");val=getVal(elem);if(e.type!=="focusout"||elem.type!=="radio")jQuery._data(elem,"_change_data",val);if(data===undefined||val===data)return;if(data!=null||val){e.type="change";e.liveFired=undefined;jQuery.event.trigger(e,arguments[1],elem)}};jQuery.event.special.change={filters:{focusout:testChange,beforedeactivate:testChange,click:function(e){var elem=e.target,type=elem.type;if(type==="radio"||type==="checkbox"||elem.nodeName.toLowerCase()==="select")testChange.call(this,e)},keydown:function(e){var elem=e.target,type=elem.type;if((e.keyCode===13&&elem.nodeName.toLowerCase()!=="textarea")||(e.keyCode===32&&(type==="checkbox"||type==="radio"))||type==="select-multiple")testChange.call(this,e)},beforeactivate:function(e){var elem=e.target;jQuery._data(elem,"_change_data",getVal(elem))}},setup:function(data,namespaces){if(this.type==="file")return false;for(var type in changeFilters)jQuery.event.add(this,type+".specialChange",changeFilters[type]);return rformElems.test(this.nodeName)},teardown:function(namespaces){jQuery.event.remove(this,".specialChange");return rformElems.test(this.nodeName)}};changeFilters=jQuery.event.special.change.filters;changeFilters.focus=changeFilters.beforeactivate}
function trigger(type,elem,args){var event=jQuery.extend({},args[0]);event.type=type;event.originalEvent={};event.liveFired=undefined;jQuery.event.handle.call(elem,event);if(event.isDefaultPrevented())args[0].preventDefault()};if(document.addEventListener)jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0;jQuery.event.special[fix]={setup:function(){if(attaches++===0)document.addEventListener(orig,handler,true)},teardown:function(){if(--attaches===0)document.removeEventListener(orig,handler,true)}}
function handler(donor){var e=jQuery.event.fix(donor);e.type=fix;e.originalEvent={};jQuery.event.trigger(e,null,e.target);if(e.isDefaultPrevented())donor.preventDefault()}});jQuery.each(["bind","one"],function(i,name){jQuery.fn[name]=function(type,data,fn){if(typeof type==="object"){for(var key in type)this[name](key,data,type[key],fn);return this};if(jQuery.isFunction(data)||data===false){fn=data;data=undefined};var handler=name==="one"?jQuery.proxy(fn,function(event){jQuery(this).unbind(event,handler);return fn.apply(this,arguments)}):fn;if(type==="unload"&&name!=="one"){this.one(type,data,fn)}else for(var i=0,l=this.length;i<l;i++)jQuery.event.add(this[i],type,handler,data);return this}});jQuery.fn.extend({unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type)this.unbind(key,type[key])}else for(var i=0,l=this.length;i<l;i++)jQuery.event.remove(this[i],type,fn);return this},delegate:function(selector,types,data,fn){return this.live(types,data,fn,selector)},undelegate:function(selector,types,fn){if(arguments.length===0){return this.unbind("live")}else return this.die(types,null,fn,selector)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length)jQuery.proxy(fn,args[i++]);return this.click(jQuery.proxy(fn,function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});var liveMap={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};jQuery.each(["live","die"],function(i,name){jQuery.fn[name]=function(types,data,fn,origSelector){var type,i=0,match,namespaces,preType,selector=origSelector||this.selector,context=origSelector?this:jQuery(this.context);if(typeof types==="object"&&!types.preventDefault){for(var key in types)context[name](key,data,types[key],selector);return this};if(jQuery.isFunction(data)){fn=data;data=undefined};types=(types||"").split(" ");while((type=types[i++])!=null){match=rnamespaces.exec(type);namespaces="";if(match){namespaces=match[0];type=type.replace(rnamespaces,"")};if(type==="hover"){types.push("mouseenter"+namespaces,"mouseleave"+namespaces);continue};preType=type;if(type==="focus"||type==="blur"){types.push(liveMap[type]+namespaces);type=type+namespaces}else type=(liveMap[type]||type)+namespaces;if(name==="live"){for(var j=0,l=context.length;j<l;j++)jQuery.event.add(context[j],"live."+liveConvert(type,selector),{data:data,selector:selector,handler:fn,origType:type,origHandler:fn,preType:preType})}else context.unbind("live."+liveConvert(type,selector),fn)};return this}})
function liveHandler(event){var stop,maxLevel,related,match,handleObj,elem,j,i,l,data,close,namespace,ret,elems=[],selectors=[],events=jQuery._data(this,"events");if(event.liveFired===this||!events||!events.live||event.target.disabled||event.button&&event.type==="click")return;if(event.namespace)namespace=new RegExp("(^|\\.)"+event.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");event.liveFired=this;var live=events.live.slice(0);for(j=0;j<live.length;j++){handleObj=live[j];if(handleObj.origType.replace(rnamespaces,"")===event.type){selectors.push(handleObj.selector)}else live.splice(j--,1)};match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){close=match[i];for(j=0;j<live.length;j++){handleObj=live[j];if(close.selector===handleObj.selector&&(!namespace||namespace.test(handleObj.namespace))&&!close.elem.disabled){elem=close.elem;related=null;if(handleObj.preType==="mouseenter"||handleObj.preType==="mouseleave"){event.type=handleObj.preType;related=jQuery(event.relatedTarget).closest(handleObj.selector)[0]};if(!related||related!==elem)elems.push({elem:elem,handleObj:handleObj,level:close.level})}}};for(i=0,l=elems.length;i<l;i++){match=elems[i];if(maxLevel&&match.level>maxLevel)break;event.currentTarget=match.elem;event.data=match.handleObj.data;event.handleObj=match.handleObj;ret=match.handleObj.origHandler.apply(match.elem,arguments);if(ret===false||event.isPropagationStopped()){maxLevel=match.level;if(ret===false)stop=false;if(event.isImmediatePropagationStopped())break}};return stop}
function liveConvert(type,selector){return(type&&type!=="*"?type+".":"")+selector.replace(rperiod,"`").replace(rspace,"&")};jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null};return arguments.length>0?this.bind(name,data,fn):this.trigger(name)};if(jQuery.attrFn)jQuery.attrFn[name]=true});(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true,rBackslash=/\\/g,rNonWord=/\W/;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9)return[];if(!selector||typeof selector!=="string")return results;var m,set,checkSet,extra,ret,cur,pop,i,prune=true,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do{chunker.exec("");m=chunker.exec(soFar);if(m){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}}while(m);if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector])selector+=parts.shift();set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]};if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else prune=false;while(parts.length){cur=parts.pop();pop=cur;if(!Expr.relative[cur]){cur=""}else pop=parts.pop();if(pop==null)pop=context;Expr.relative[cur](checkSet,pop,contextXML)}}else checkSet=parts=[]};if(!checkSet)checkSet=set;if(!checkSet)Sizzle.error(cur||selector);if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else if(context&&context.nodeType===1){for(i=0;checkSet[i]!=null;i++)if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&Sizzle.contains(context,checkSet[i])))results.push(set[i])}else for(i=0;checkSet[i]!=null;i++)if(checkSet[i]&&checkSet[i].nodeType===1)results.push(set[i])}else makeArray(checkSet,results);if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)};return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate)for(var i=1;i<results.length;i++)if(results[i]===results[i-1])results.splice(i--,1)};return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0};Sizzle.find=function(expr,context,isXML){var set;if(!expr)return[];for(var i=0,l=Expr.order.length;i<l;i++){var match,type=Expr.order[i];if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(rBackslash,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}};if(!set)set=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName("*"):[];return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var match,anyFound,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter)if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){var found,item,filter=Expr.filter[type],left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\")continue;if(curLoop===result)result=[];if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else if(match===true)continue};if(match)for(var i=0;(item=curLoop[i])!=null;i++)if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else curLoop[i]=false}else if(pass){result.push(item);anyFound=true}};if(found!==undefined){if(!inplace)curLoop=result;expr=expr.replace(Expr.match[type],"");if(!anyFound)return[];break}};if(expr===old)if(anyFound==null){Sizzle.error(expr)}else break;old=expr};return curLoop};Sizzle.error=function(msg){throw "Syntax error, unrecognized expression: "+msg};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag)part=part.toLowerCase();for(var i=0,l=checkSet.length,elem;i<l;i++)if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1);checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part};if(isPartStrNotTag)Sizzle.filter(part,checkSet,true)},">":function(checkSet,part){var elem,isPartStr=typeof part==="string",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(;i<l;i++){elem=checkSet[i];if(elem)checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part};if(isPartStr)Sizzle.filter(part,checkSet,true)}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck};checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck};checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++)if(results[i].getAttribute("name")===match[1])ret.push(results[i]);return ret.length===0?null:ret}},TAG:function(match,context){if(typeof context.getElementsByTagName!=="undefined")return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(rBackslash,"")+" ";if(isXML)return match;for(var i=0,elem;(elem=curLoop[i])!=null;i++)if(elem)if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)){if(!inplace)result.push(elem)}else if(inplace)curLoop[i]=false;return false},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if(match[1]==="nth"){if(!match[2])Sizzle.error(match[0]);match[2]=match[2].replace(/^\+|\s*/g,'');var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}else if(match[2])Sizzle.error(match[0]);match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");if(!isXML&&Expr.attrMap[name])match[1]=Expr.attrMap[name];match[4]=(match[4]||match[5]||"").replace(rBackslash,"");if(match[2]==="~=")match[4]=" "+match[4]+" ";return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace)result.push.apply(result,ret);return false}}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0]))return true;return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){if(elem.parentNode)elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return(/h\d/i).test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return"text"===type&&(attr===type||attr===null)},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toLowerCase()==="button"},input:function(elem){return(/input|select|textarea|button/i).test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else if(name==="contains"){return(elem.textContent||elem.innerText||Sizzle.getText([elem])||"").indexOf(match[3])>=0}else if(name==="not"){var not=match[3];for(var j=0,l=not.length;j<l;j++)if(not[j]===elem)return false;return true}else Sizzle.error(name)},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling))if(node.nodeType===1)return false;if(type==="first")return true;node=elem;case"last":while((node=node.nextSibling))if(node.nodeType===1)return false;return true;case"nth":var first=match[2],last=match[3];if(first===1&&last===0)return true;var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling)if(node.nodeType===1)node.nodeIndex=++count;parent.sizcache=doneName};var diff=elem.nodeIndex-last;if(first===0){return diff===0}else return(diff%first===0&&diff/first>=0)}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter)return filter(elem,i,match,array)}}},origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+(/(?![^\[]*\])(?![^\(]*\))/.source));Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape))};var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results};return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else if(typeof array.length==="number"){for(var l=array.length;i<l;i++)ret.push(array[i])}else for(;array[i];i++)ret.push(array[i]);return ret}};var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0};if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}}else{sortOrder=function(a,b){var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(a===b){hasDuplicate=true;return 0}else if(aup===bup){return siblingCheck(a,b)}else if(!aup){return -1}else if(!bup)return 1;while(cur){ap.unshift(cur);cur=cur.parentNode};cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode};al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};siblingCheck=function(a,b,ret){if(a===b)return ret;var cur=a.nextSibling;while(cur){if(cur===b)return -1;cur=cur.nextSibling};return 1}};Sizzle.getText=function(elems){var ret="",elem;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue}else if(elem.nodeType!==8)ret+=Sizzle.getText(elem.childNodes)};return ret};(function(){var form=document.createElement("div"),id="script"+(new Date()).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>";root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}};root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0)Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++)if(results[i].nodeType===1)tmp.push(results[i]);results=tmp};return results};div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#")Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)};div=null})();if(document.querySelectorAll)(function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0)return;Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9))if(match[1]){return makeArray(context.getElementsByTagName(query),extra)}else if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName)return makeArray(context.getElementsByClassName(match[2]),extra);if(context.nodeType===9){if(query==="body"&&context.body){return makeArray([context.body],extra)}else if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3])return makeArray([elem],extra)}else return makeArray([],extra)};try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);if(!old){context.setAttribute("id",nid)}else nid=nid.replace(/'/g,"\\$&");if(relativeHierarchySelector&&hasParent)context=context.parentNode;try{if(!relativeHierarchySelector||hasParent)return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}catch(pseudoError){}finally{if(!old)oldContext.removeAttribute("id")}}};return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle)Sizzle[prop]=oldSizzle[prop];div=null})();(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=false;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=true};Sizzle.matchesSelector=function(node,expr){expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Sizzle.isXML(node))try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11)return ret}}catch(e){};return Sizzle(expr,null,null,[node]).length>0}}})();(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0)return;div.lastChild.className="e";if(div.getElementsByClassName("e").length===1)return;Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML)return context.getElementsByClassName(match[1])};div=null})()
function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break};if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i};if(elem.nodeName.toLowerCase()===cur){match=elem;break};elem=elem[dir]};checkSet[i]=match}}}
function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break};if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i};if(typeof cur!=="string"){if(elem===cur){match=true;break}}else if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}};elem=elem[dir]};checkSet[i]=match}}};if(document.documentElement.contains){Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true)}}else if(document.documentElement.compareDocumentPosition){Sizzle.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}}else Sizzle.contains=function(){return false};Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context){var match,tmpSet=[],later="",root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")};selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++)Sizzle(selector,root[i],tmpSet);return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0)for(var n=length;n<ret.length;n++)for(var r=0;r<length;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}};return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++)if(jQuery.contains(this,targets[i]))return true})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var match,selector,matches={},level=1;if(cur&&selectors.length){for(i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector])matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector};while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match))ret.push({selector:selector,elem:cur,level:level})};cur=cur.parentNode;level++}};return ret};var pos=POS.test(selectors)?jQuery(selectors,context||this.context):null;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur)if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}else{cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context)break}};ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem||typeof elem==="string")return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children());return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}})
function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11};jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until),args=slice.call(arguments);if(!runtil.test(name))selector=until;if(selector&&typeof selector==="string")ret=jQuery.filter(selector,ret);ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name))ret=ret.reverse();return this.pushStack(ret,name,args.join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not)expr=":not("+expr+")";return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1)matched.push(cur);cur=cur[dir]};return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir])if(cur.nodeType===1&&++num===result)break;return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling)if(n.nodeType===1&&n!==elem)r.push(n);return r}})
function winnow(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else qualifier=jQuery.filter(qualifier,filtered)};return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnocache=/<(?:script|object|embed|option|style)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize)wrapMap._default=[1,"div<div>","</div>"];jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text))return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))});if(typeof text!=="object"&&text!==undefined)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text));return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode)wrap.insertBefore(this[0]);wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1)elem=elem.firstChild;return elem}).append(this)};return this},wrapInner:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))});return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else self.append(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body"))jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1)this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1)this.insertBefore(elem,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++)if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])};if(elem.parentNode)elem.parentNode.removeChild(elem)};return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1)jQuery.cleanData(elem.getElementsByTagName("*"));while(elem.firstChild)elem.removeChild(elem.firstChild)};return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else if(typeof value==="string"&&!rnocache.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(var i=0,l=this.length;i<l;i++)if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}catch(e){this.empty().append(value)}}else if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()))})}else this.empty().append(value);return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))});if(typeof value!=="string")value=jQuery(value).detach();return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else jQuery(parent).append(value)})}else return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback,true)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)});if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else first=fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++)callback.call(table?root(this[i],first):this[i],results.cacheable||(l>1&&i<lastIndex)?jQuery.clone(fragment,true,true):fragment)};if(scripts.length)jQuery.each(scripts,evalScript)};return this}})
function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}
function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src))return;var internalKey=jQuery.expando,oldData=jQuery.data(src),curData=jQuery.data(dest,oldData);if((oldData=oldData[internalKey])){var events=oldData.events;curData=curData[internalKey]=jQuery.extend({},oldData);if(events){delete curData.handle;curData.events={};for(var type in events)for(var i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type+(events[type][i].namespace?".":"")+events[type][i].namespace,events[type][i],events[type][i].data)}}}
function cloneFixAttributes(src,dest){if(dest.nodeType!==1)return;var nodeName=dest.nodeName.toLowerCase();dest.clearAttributes();dest.mergeAttributes(src);if(nodeName==="object"){dest.outerHTML=src.outerHTML}else if(nodeName==="input"&&(src.type==="checkbox"||src.type==="radio")){if(src.checked)dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value)dest.value=src.value}else if(nodeName==="option"){dest.selected=src.defaultSelected}else if(nodeName==="input"||nodeName==="textarea")dest.defaultValue=src.defaultValue;dest.removeAttribute(jQuery.expando)};jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&doc===document&&args[0].charAt(0)==="<"&&!rnocache.test(args[0])&&(jQuery.support.checkClone||!rchecked.test(args[0]))){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults)if(cacheresults!==1)fragment=cacheresults};if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)};if(cacheable)jQuery.fragments[args[0]]=cacheresults?fragment:1;return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)};return this.pushStack(ret,name,insert.selector)}}})
function getAll(elem){if("getElementsByTagName" in elem){return elem.getElementsByTagName("*")}else if("querySelectorAll" in elem){return elem.querySelectorAll("*")}else return[]};jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var clone=elem.cloneNode(true),srcElements,destElements,i;if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i)cloneFixAttributes(srcElements[i],destElements[i])};if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i])}};return clone},clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined")context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;var ret=[];for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number")elem+="";if(!elem)continue;if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");div.innerHTML=wrap[1]+elem+wrap[2];while(depth--)div=div.lastChild;if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j)if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length)tbody[j].parentNode.removeChild(tbody[j])};if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem))div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);elem=div.childNodes};if(elem.nodeType){ret.push(elem)}else ret=jQuery.merge(ret,elem)};if(fragment)for(i=0;ret[i];i++)if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1)ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))));fragment.appendChild(ret[i])};return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,internalKey=jQuery.expando,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])continue;id=elem[jQuery.expando];if(id){data=cache[id]&&cache[id][internalKey];if(data&&data.events){for(var type in data.events)if(special[type]){jQuery.event.remove(elem,type)}else jQuery.removeEvent(elem,type,data.handle);if(data.handle)data.handle.elem=null};if(deleteExpando){delete elem[jQuery.expando]}else if(elem.removeAttribute)elem.removeAttribute(jQuery.expando);delete cache[id]}}}})
function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"");if(elem.parentNode)elem.parentNode.removeChild(elem)};var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],curCSS,getComputedStyle,currentStyle,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){if(arguments.length===2&&value===undefined)return this;return jQuery.access(this,name,value,true,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)})};jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity","opacity");return ret===""?"1":ret}else return elem.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style)return;var ret,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value!==undefined){if(typeof value==="number"&&isNaN(value)||value==null)return;if(typeof value==="number"&&!jQuery.cssNumber[origName])value+="px";if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value))!==undefined)try{style[name]=value}catch(e){}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined)return ret;return style[name]}},css:function(elem,name,extra){var ret,origName=jQuery.camelCase(name),hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(hooks&&"get" in hooks&&(ret=hooks.get(elem,true,extra))!==undefined){return ret}else if(curCSS)return curCSS(elem,name,origName)},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]};callback.call(elem);for(name in options)elem.style[name]=old[name]},camelCase:function(string){return string.replace(rdashAlpha,fcamelCase)}});jQuery.curCSS=jQuery.css;jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){var val;if(computed){if(elem.offsetWidth!==0){val=getWH(elem,name,extra)}else jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra)});if(val<=0){val=curCSS(elem,name,name);if(val==="0px"&&currentStyle)val=currentStyle(elem,name,name);if(val!=null)return val===""||val==="auto"?"0px":val};if(val<0||val==null){val=elem.style[name];return val===""||val==="auto"?"0px":val};return typeof val==="string"?val:val+"px"}},set:function(elem,value){if(rnumpx.test(value)){value=parseFloat(value);if(value>=0)return value+"px"}else return value}}});if(!jQuery.support.opacity)jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":computed?"1":""},set:function(elem,value){var style=elem.style;style.zoom=1;var opacity=jQuery.isNaN(value)?"":"alpha(opacity="+value*100+")",filter=style.filter||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):style.filter+' '+opacity}};jQuery(function(){if(!jQuery.support.reliableMarginRight)jQuery.cssHooks.marginRight={get:function(elem,computed){var ret;jQuery.swap(elem,{display:"inline-block"},function(){if(computed){ret=curCSS(elem,"margin-right","marginRight")}else ret=elem.style.marginRight});return ret}}});if(document.defaultView&&document.defaultView.getComputedStyle)getComputedStyle=function(elem,newName,name){var ret,defaultView,computedStyle;name=name.replace(rupper,"-$1").toLowerCase();if(!(defaultView=elem.ownerDocument.defaultView))return undefined;if((computedStyle=defaultView.getComputedStyle(elem,null))){ret=computedStyle.getPropertyValue(name);if(ret===""&&!jQuery.contains(elem.ownerDocument.documentElement,elem))ret=jQuery.style(elem,name)};return ret};if(document.documentElement.currentStyle)currentStyle=function(elem,name){var left,ret=elem.currentStyle&&elem.currentStyle[name],rsLeft=elem.runtimeStyle&&elem.runtimeStyle[name],style=elem.style;if(!rnumpx.test(ret)&&rnum.test(ret)){left=style.left;if(rsLeft)elem.runtimeStyle.left=elem.currentStyle.left;style.left=name==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;if(rsLeft)elem.runtimeStyle.left=rsLeft};return ret===""?"auto":ret};curCSS=getComputedStyle||currentStyle
function getWH(elem,name,extra){var which=name==="width"?cssWidth:cssHeight,val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border")return val;jQuery.each(which,function(){if(!extra)val-=parseFloat(jQuery.css(elem,"padding"+this))||0;if(extra==="margin"){val+=parseFloat(jQuery.css(elem,"margin"+this))||0}else val-=parseFloat(jQuery.css(elem,"border"+this+"Width"))||0});return val};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return(width===0&&height===0)||(!jQuery.support.reliableHiddenOffsets&&(elem.style.display||jQuery.css(elem,"display"))==="none")};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rinput=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rucHeaders=/(^|\-)([a-z])/g,rucHeadersFunc=function(_,$1,$2){return $1+$2.toUpperCase()},rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts;try{ajaxLocation=document.location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href};ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[]
function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"};if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore)dataType=dataType.substr(1)||"*";list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters),selection;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string")if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}};if((executeOnly||!selection)&&!inspected["*"])selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);return selection};jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}else if(!this.length)return this;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)};var type="GET";if(params)if(jQuery.isFunction(params)){callback=params;params=undefined}else if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"};var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText;if(jqXHR.isResolved()){jqXHR.done(function(r){responseText=r});self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)};if(callback)self.each(callback,[responseText,status,jqXHR])}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined};return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(!settings){settings=target;target=jQuery.extend(true,jQuery.ajaxSettings,settings)}else jQuery.extend(true,target,jQuery.ajaxSettings,settings);for(var field in {context:1,url:1})if(field in settings){target[field]=settings[field]}else if(field in jQuery.ajaxSettings)target[field]=jQuery.ajaxSettings[field];return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined};options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery._Deferred(),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state)requestHeaders[name.toLowerCase().replace(rucHeaders,rucHeadersFunc)]=value;return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString)))responseHeaders[match[1].toLowerCase()]=match[2]};match=responseHeaders[key.toLowerCase()]};return match===undefined?null:match},overrideMimeType:function(type){if(!state)s.mimeType=type;return this},abort:function(statusText){statusText=statusText||"abort";if(transport)transport.abort(statusText);done(0,statusText);return this}}
function done(status,statusText,responses,headers){if(state===2)return;state=2;if(timeoutTimer)clearTimeout(timeoutTimer);transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status?4:0;var isSuccess,success,error,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if((lastModified=jqXHR.getResponseHeader("Last-Modified")))jQuery.lastModified[ifModifiedKey]=lastModified;if((etag=jqXHR.getResponseHeader("Etag")))jQuery.etag[ifModifiedKey]=etag};if(status===304){statusText="notmodified";isSuccess=true}else try{success=ajaxConvert(s,response);statusText="success";isSuccess=true}catch(e){statusText="parsererror";error=e}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0)status=0}};jqXHR.status=status;jqXHR.statusText=statusText;if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals)globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);completeDeferred.resolveWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active))jQuery.event.trigger("ajaxStop")}};deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.done;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]]}else{tmp=map[jqXHR.status];jqXHR.then(tmp,tmp)}};return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))};if(s.data&&s.processData&&typeof s.data!=="string")s.data=jQuery.param(s.data,s.traditional);inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2)return false;fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0)jQuery.event.trigger("ajaxStart");if(!s.hasContent){if(s.data)s.url+=(rquery.test(s.url)?"&":"?")+s.data;ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}};if(s.data&&s.hasContent&&s.contentType!==false||options.contentType)requestHeaders["Content-Type"]=s.contentType;if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey])requestHeaders["If-Modified-Since"]=jQuery.lastModified[ifModifiedKey];if(jQuery.etag[ifModifiedKey])requestHeaders["If-None-Match"]=jQuery.etag[ifModifiedKey]};requestHeaders.Accept=s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", */*; q=0.01":""):s.accepts["*"];for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){jqXHR.abort();return false};for(i in {success:1,error:1,complete:1})jqXHR[i](s[i]);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals)globalEventContext.trigger("ajaxSend",[jqXHR,s]);if(s.async&&s.timeout>0)timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout);try{state=1;transport.send(requestHeaders,done)}catch(e){if(status<2){done(-1,e)}else jQuery.error(e)}};return jqXHR},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined)traditional=jQuery.ajaxSettings.traditional;if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else for(var prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")}})
function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)&&obj.length){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v,traditional,add)})}else if(!traditional&&obj!=null&&typeof obj==="object"){if(jQuery.isArray(obj)||jQuery.isEmptyObject(obj)){add(prefix,"")}else for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}else add(prefix,obj)};jQuery.extend({active:0,lastModified:{},etag:{}})
function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields)if(type in responses)jqXHR[responseFields[type]]=responses[type];while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined)ct=s.mimeType||jqXHR.getResponseHeader("content-type")};if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break};if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break};if(!firstDataType)firstDataType=type};finalDataType=finalDataType||firstDataType};if(finalDataType){if(finalDataType!==dataTypes[0])dataTypes.unshift(finalDataType);return responses[finalDataType]}}
function ajaxConvert(s,response){if(s.dataFilter)response=s.dataFilter(response,s.dataType);var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1)for(key in s.converters)if(typeof key==="string")converters[key.toLowerCase()]=s.converters[key];prev=current;current=dataTypes[i];if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conversion=prev+" "+current;conv=converters[conversion]||converters["* "+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(" ");if(tmp[0]===prev||tmp[0]==="*"){conv2=converters[tmp[1]+" "+current];if(conv2){conv1=converters[conv1];if(conv1===true){conv=conv2}else if(conv2===true)conv=conv1;break}}}};if(!(conv||conv2))jQuery.error("No conversion from "+conversion.replace(" "," to "));if(conv!==true)response=conv?conv(response):conv2(conv1(response))}};return response};var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+(jsc++)}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var dataIsString=(typeof s.data==="string");if(s.dataTypes[0]==="jsonp"||originalSettings.jsonpCallback||originalSettings.jsonp!=null||s.jsonp!==false&&(jsre.test(s.url)||dataIsString&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2",cleanUp=function(){window[jsonpCallback]=previous;if(responseContainer&&jQuery.isFunction(previous))window[jsonpCallback](responseContainer[0])};if(s.jsonp!==false){url=url.replace(jsre,replace);if(s.url===url){if(dataIsString)data=data.replace(jsre,replace);if(s.data===data)url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback}};s.url=url;s.data=data;window[jsonpCallback]=function(response){responseContainer=[response]};jqXHR.then(cleanUp,cleanUp);s.converters["script json"]=function(){if(!responseContainer)jQuery.error(jsonpCallback+" was not called");return responseContainer[0]};s.dataTypes[0]="json";return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined)s.cache=false;if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset)script.charset=s.scriptCharset;script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode)head.removeChild(script);script=undefined;if(!isAbort)callback(200,"success")}};head.insertBefore(script,head.firstChild)},abort:function(){if(script)script.onload(0,1)}}}});var xhrId=jQuery.now(),xhrCallbacks,testXHR
function xhrOnUnloadAbort(){jQuery(window).unload(function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)})}
function createStandardXHR(){try{return new window.XMLHttpRequest()}catch(e){}}
function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}};jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;testXHR=jQuery.ajaxSettings.xhr();jQuery.support.ajax=!!testXHR;jQuery.support.cors=testXHR&&("withCredentials" in testXHR);testXHR=undefined;if(jQuery.support.ajax)jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else xhr.open(s.type,s.url,s.async);if(s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];if(s.mimeType&&xhr.overrideMimeType)xhr.overrideMimeType(s.mimeType);if(!s.crossDomain&&!headers["X-Requested-With"])headers["X-Requested-With"]="XMLHttpRequest";try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){};xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;delete xhrCallbacks[handle]};if(isAbort){if(xhr.readyState!==4)xhr.abort()}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement)responses.xml=xml;responses.text=xhr.responseText;try{statusText=xhr.statusText}catch(e){statusText=""};if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else if(status===1223)status=204}}}catch(firefoxAccessException){if(!isAbort)complete(-1,firefoxAccessException)};if(responses)complete(status,statusText,responses,responseHeaders)};if(!s.async||xhr.readyState===4){callback()}else{if(!xhrCallbacks){xhrCallbacks={};xhrOnUnloadAbort()};handle=xhrId++;xhr.onreadystatechange=xhrCallbacks[handle]=callback}},abort:function(){if(callback)callback(0,1)}}}});var elemdisplay={},rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||speed===0){return this.animate(genFx("show",3),speed,easing,callback)}else{for(var i=0,j=this.length;i<j;i++){elem=this[i];display=elem.style.display;if(!jQuery._data(elem,"olddisplay")&&display==="none")display=elem.style.display="";if(display===""&&jQuery.css(elem,"display")==="none")jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))};for(i=0;i<j;i++){elem=this[i];display=elem.style.display;if(display===""||display==="none")elem.style.display=jQuery._data(elem,"olddisplay")||""};return this}},hide:function(speed,easing,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,easing,callback)}else{for(var i=0,j=this.length;i<j;i++){var display=jQuery.css(this[i],"display");if(display!=="none"&&!jQuery._data(this[i],"olddisplay"))jQuery._data(this[i],"olddisplay",display)};for(i=0;i<j;i++)this[i].style.display="none";return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else this.animate(genFx("toggle",3),fn,fn2,callback);return this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop))return this.each(optall.complete);return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=jQuery.camelCase(p);if(p!==name){prop[name]=prop[p];delete prop[p];p=name};if(prop[p]==="hide"&&hidden||prop[p]==="show"&&!hidden)return opt.complete.call(this);if(isElement&&(p==="height"||p==="width")){opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(jQuery.css(this,"display")==="inline"&&jQuery.css(this,"float")==="none")if(!jQuery.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{var display=defaultDisplay(this.nodeName);if(display==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}};if(jQuery.isArray(prop[p])){(opt.specialEasing=opt.specialEasing||{})[p]=prop[p][1];prop[p]=prop[p][0]}};if(opt.overflow!=null)this.style.overflow="hidden";opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(rfxtypes.test(val)){e[val==="toggle"?hidden?"show":"hide":val](prop)}else{var parts=rfxnum.exec(val),start=e.cur();if(parts){var end=parseFloat(parts[2]),unit=parts[3]||(jQuery.cssNumber[name]?"":"px");if(unit!=="px"){jQuery.style(self,name,(end||1)+unit);start=((end||1)/e.cur())*start;jQuery.style(self,name,start+unit)};if(parts[1])end=((parts[1]==="-="?-1:1)*end)+start;e.custom(start,end,unit)}else e.custom(start,val,"")}});return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue)this.queue([]);this.each(function(){for(var i=timers.length-1;i>=0;i--)if(timers[i].elem===this){if(gotoEnd)timers[i](true);timers.splice(i,1)}});if(!gotoEnd)this.dequeue();return this}})
function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj};jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false)jQuery(this).dequeue();if(jQuery.isFunction(opt.old))opt.old.call(this)};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig)options.orig={}}});jQuery.fx.prototype={update:function(){if(this.options.step)this.options.step.call(this.elem,this.now,this);(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r==="auto"?0:r:parsed},custom:function(from,to,unit){var self=this,fx=jQuery.fx;this.startTime=jQuery.now();this.start=from;this.end=to;this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0
function t(gotoEnd){return self.step(gotoEnd)};t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId)timerId=setInterval(fx.tick,fx.interval)},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=jQuery.now(),done=true;if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var i in this.options.curAnim)if(this.options.curAnim[i]!==true)done=false;if(done){if(this.options.overflow!=null&&!jQuery.support.shrinkWrapBlocks){var elem=this.elem,options=this.options;jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]})};if(this.options.hide)jQuery(this.elem).hide();if(this.options.hide||this.options.show)for(var p in this.options.curAnim)jQuery.style(this.elem,p,this.options.orig[p]);this.options.complete.call(this.elem)};return false}else{var n=t-this.startTime;this.state=n/this.options.duration;var specialEasing=this.options.specialEasing&&this.options.specialEasing[this.prop],defaultEasing=this.options.easing||(jQuery.easing.swing?"swing":"linear");this.pos=jQuery.easing[specialEasing||defaultEasing](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()};return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++)if(!timers[i]())timers.splice(i--,1);if(!timers.length)jQuery.fx.stop()},interval:13,stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=(fx.prop==="width"||fx.prop==="height"?Math.max(0,fx.now):fx.now)+fx.unit}else fx.elem[fx.prop]=fx.now}}});if(jQuery.expr&&jQuery.expr.filters)jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}
function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var elem=jQuery("<"+nodeName+">").appendTo("body"),display=elem.css("display");elem.remove();if(display==="none"||display==="")display="block";elemdisplay[nodeName]=display};return elemdisplay[nodeName]};var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0],box;if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);try{box=elem.getBoundingClientRect()}catch(e){};var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem))return box?{top:box.top,left:box.left}:{top:0,left:0};var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}}}else jQuery.fn.offset=function(options){var elem=this[0];if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);jQuery.offset.initialize();var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed")break;computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0};prevOffsetParent=offsetParent;offsetParent=elem.offsetParent};if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0};prevComputedStyle=computedStyle};if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft};if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)};return{top:top,left:left}};jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.css(body,"marginTop"))||0,html="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed";checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden";innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);jQuery.offset.initialize=jQuery.noop},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0};return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static")elem.style.position="relative";var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray('auto',[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition)curPosition=curElem.position();curTop=calculatePosition?curPosition.top:parseInt(curCSSTop,10)||0;curLeft=calculatePosition?curPosition.left:parseInt(curCSSLeft,10)||0;if(jQuery.isFunction(options))options=options.call(elem,i,curOffset);if(options.top!=null)props.top=(options.top-curOffset.top)+curTop;if(options.left!=null)props.left=(options.left-curOffset.left)+curLeft;if("using" in options){options.using.call(elem,props)}else curElem.css(props)}};jQuery.fn.extend({position:function(){if(!this[0])return null;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static"))offsetParent=offsetParent.offsetParent;return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem)return null;if(val!==undefined){return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else this[method]=val})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}})
function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false};jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?parseFloat(jQuery.css(this[0],type,"padding")):null};jQuery.fn["outer"+name]=function(margin){return this[0]?parseFloat(jQuery.css(this[0],type,margin?"margin":"border")):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem)return size==null?null:this;if(jQuery.isFunction(size))return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))});if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement["client"+name];return elem.document.compatMode==="CSS1Compat"&&docElemProp||elem.document.body["client"+name]||docElemProp}else if(elem.nodeType===9){return Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name])}else if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNaN(ret)?orig:ret}else return this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);(function($,undefined){$.ui=$.ui||{};if($.ui.version)return;$.extend($.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn)fn.call(elem)},delay)}):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;if(($.browser.msie&&(/(static|relative)/).test(this.css('position')))||(/absolute/).test(this.css('position'))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.curCSS(this,'position',1))&&(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1))}).eq(0)}else scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1))}).eq(0);return(/fixed/).test(this.css('position'))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0)return value};elem=elem.parent()}};return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight}
function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,true))||0;if(border)size-=parseFloat($.curCSS(elem,"border"+this+"Width",true))||0;if(margin)size-=parseFloat($.curCSS(elem,"margin"+this,true))||0});return size};$.fn["inner"+name]=function(size){if(size===undefined)return orig["inner"+name].call(this);return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number")return orig["outer"+name].call(this,size);return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}})
function visible(element){return !$(element).parents().andSelf().filter(function(){return $.curCSS(this,"visibility")==="hidden"||$.expr.filters.hidden(this)}).length};$.extend($.expr[":"],{data:function(elem,i,match){return !!$.data(elem,match[3])},focusable:function(element){var nodeName=element.nodeName.toLowerCase(),tabIndex=$.attr(element,"tabindex");if("area"===nodeName){var map=element.parentNode,mapName=map.name,img;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map")return false;img=$("img[usemap=#"+mapName+"]")[0];return !!img&&visible(img)};return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName?element.href||!isNaN(tabIndex):!isNaN(tabIndex))&&visible(element)},tabbable:function(element){var tabIndex=$.attr(element,"tabindex");return(isNaN(tabIndex)||tabIndex>=0)&&$(element).is(":focusable")}});$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});$.support.minHeight=div.offsetHeight===100;$.support.selectstart="onselectstart" in div;body.removeChild(div).style.display="none"});$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args){var set=instance.plugins[name];if(!set||!instance.element[0].parentNode)return;for(var i=0;i<set.length;i++)if(instance.options[set[i][0]])set[i][1].apply(instance.element,args)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(el,a){if($(el).css("overflow")==="hidden")return false;var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0)return true;el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has},isOverAxis:function(x,reference,size){return(x>reference)&&(x<(reference+size))},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}})})(jQuery);(function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++)$(elem).triggerHandler("remove");_cleanData(elems)}}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){if(!keepData)if(!selector||$.filter(selector,[this]).length)$("*",this).add([this]).each(function(){$(this).triggerHandler("remove")});return _remove.call($(this),selector,keepData)})}};$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget};$.expr[":"][fullName]=function(elem){return !!$.data(elem,name)};$[namespace]=$[namespace]||{};$[namespace][name]=function(options,element){if(arguments.length)this._createWidget(options,element)};var basePrototype=new base();basePrototype.options=$.extend(true,{},basePrototype.options);$[namespace][name].prototype=$.extend(true,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype);$.widget.bridge(name,$[namespace][name])};$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.charAt(0)==="_")return returnValue;if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false}})}else this.each(function(){var instance=$.data(this,name);if(instance){instance.option(options||{})._init()}else $.data(this,name,new object(options,this))});return returnValue}};$.Widget=function(options,element){if(arguments.length)this._createWidget(options,element)};$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(options,element){$.data(element,this.widgetName,this);this.element=$(element);this.options=$.extend(true,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(key,value){var options=key;if(arguments.length===0)return $.extend({},this.options);if(typeof key==="string"){if(value===undefined)return this.options[key];options={};options[key]=value};this._setOptions(options);return this},_setOptions:function(options){var self=this;$.each(options,function(key,value){self._setOption(key,value)});return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled")this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",value);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(type,event,data){var callback=this.options[type];event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();data=data||{};if(event.originalEvent)for(var i=$.event.props.length,prop;i;){prop=$.event.props[--i];event[prop]=event.originalEvent[prop]};this.element.trigger(event,data);return !($.isFunction(callback)&&callback.call(this.element[0],event,data)===false||event.isDefaultPrevented())}}})(jQuery);jQuery.effects||(function($,undefined){$.effects={};$.each(['backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','borderColor','color','outlineColor'],function(i,attr){$.fx.step[attr]=function(fx){if(!fx.colorInit){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);fx.colorInit=true};fx.elem.style[attr]='rgb('+Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0],10),255),0)+','+Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1],10),255),0)+','+Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2],10),255),0)+')'}})
function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3)return color;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))return[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)];if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)];if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)];if(result=/rgba\(0, 0, 0, 0\)/.exec(color))return colors.transparent;return colors[$.trim(color).toLowerCase()]}
function getColor(elem,attr){var color;do{color=$.curCSS(elem,attr);if(color!=''&&color!='transparent'||$.nodeName(elem,"body"))break;attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)};var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},classAnimationActions=['add','remove','toggle'],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1}
function getElementStyles(){var style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,camelCase;if(style&&style.length&&style[0]&&style[style[0]]){var len=style.length;while(len--){key=style[len];if(typeof style[key]=='string'){camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});newStyle[camelCase]=style[key]}}}else for(key in style)if(typeof style[key]==='string')newStyle[key]=style[key];return newStyle}
function filterStyles(styles){var name,value;for(name in styles){value=styles[name];if(value==null||$.isFunction(value)||name in shorthandStyles||(/scrollbar/).test(name)||(!(/color/i).test(name)&&isNaN(parseFloat(value))))delete styles[name]};return styles}
function styleDifference(oldStyle,newStyle){var diff={_:0},name;for(name in newStyle)if(oldStyle[name]!=newStyle[name])diff[name]=newStyle[name];return diff};$.effects.animateClass=function(value,duration,easing,callback){if($.isFunction(easing)){callback=easing;easing=null};return this.queue('fx',function(){var that=$(this),originalStyleAttr=that.attr('style')||' ',originalStyle=filterStyles(getElementStyles.call(this)),newStyle,className=that.attr('className');$.each(classAnimationActions,function(i,action){if(value[action])that[action+'Class'](value[action])});newStyle=filterStyles(getElementStyles.call(this));that.attr('className',className);that.animate(styleDifference(originalStyle,newStyle),duration,easing,function(){$.each(classAnimationActions,function(i,action){if(value[action])that[action+'Class'](value[action])});if(typeof that.attr('style')=='object'){that.attr('style').cssText='';that.attr('style').cssText=originalStyleAttr}else that.attr('style',originalStyleAttr);if(callback)callback.apply(this,arguments)});var queue=$.queue(this),anim=queue.splice(queue.length-1,1)[0];queue.splice(1,0,anim);$.dequeue(this)})};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force=="boolean"||force===undefined){if(!speed){return this._toggleClass(classNames,force)}else return $.effects.animateClass.apply(this,[(force?{add:classNames}:{remove:classNames}),speed,easing,callback])}else return $.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing])},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])}});$.extend($.effects,{version:"1.8.11",save:function(element,set){for(var i=0;i<set.length;i++)if(set[i]!==null)element.data("ec.storage."+set[i],element[0].style[set[i]])},restore:function(element,set){for(var i=0;i<set.length;i++)if(set[i]!==null)element.css(set[i],element.data("ec.storage."+set[i]))},setMode:function(el,mode){if(mode=='toggle')mode=el.is(':hidden')?'show':'hide';return mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case'top':y=0;break;case'middle':y=0.5;break;case'bottom':y=1;break;default:y=origin[0]/original.height};switch(origin[1]){case'left':x=0;break;case'center':x=0.5;break;case'right':x=1;break;default:x=origin[1]/original.width};return{x:x,y:y}},createWrapper:function(element){if(element.parent().is('.ui-effects-wrapper'))return element.parent();var props={width:element.outerWidth(true),height:element.outerHeight(true),'float':element.css('float')},wrapper=$('<div></div>').addClass('ui-effects-wrapper').css({fontSize:'100%',background:'transparent',border:'none',margin:0,padding:0});element.wrap(wrapper);wrapper=element.parent();if(element.css('position')=='static'){wrapper.css({position:'relative'});element.css({position:'relative'})}else{$.extend(props,{position:element.css('position'),zIndex:element.css('z-index')});$.each(['top','left','bottom','right'],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10)))props[pos]='auto'});element.css({position:'relative',top:0,left:0,right:'auto',bottom:'auto'})};return wrapper.css(props).show()},removeWrapper:function(element){if(element.parent().is('.ui-effects-wrapper'))return element.parent().replaceWith(element);return element},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){unit=element.cssUnit(x);if(unit[0]>0)value[x]=unit[0]*factor+unit[1]});return value}})
function _normalizeArguments(effect,options,speed,callback){if(typeof effect=='object'){callback=options;speed=null;options=effect;effect=options.effect};if($.isFunction(options)){callback=options;speed=null;options={}};if(typeof options=='number'||$.fx.speeds[options]){callback=speed;speed=options;options={}};if($.isFunction(speed)){callback=speed;speed=null};options=options||{};speed=speed||options.duration;speed=$.fx.off?0:typeof speed=='number'?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;callback=callback||options.complete;return[effect,options,speed,callback]}
function standardSpeed(speed){if(!speed||typeof speed==="number"||$.fx.speeds[speed])return true;if(typeof speed==="string"&&!$.effects[speed])return true;return false};$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];if($.fx.off||!effectMethod)if(mode){return this[mode](args2.duration,args2.callback)}else return this.each(function(){if(args2.callback)args2.callback.call(this)});return effectMethod.call(this,args2)},_show:$.fn.show,show:function(speed){if(standardSpeed(speed)){return this._show.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='show';return this.effect.apply(this,args)}},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed)){return this._hide.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='hide';return this.effect.apply(this,args)}},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||typeof speed==="boolean"||$.isFunction(speed)){return this.__toggle.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='toggle';return this.effect.apply(this,args)}},cssUnit:function(key){var style=this.css(key),val=[];$.each(['em','px','%','pt'],function(i,unit){if(style.indexOf(unit)>0)val=[parseFloat(style),unit]});return val}});$.easing.jswing=$.easing.swing;$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return -c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return -c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return -c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return -c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return -c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return -c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return -c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return -(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return -.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}})})(jQuery);(function($,undefined){$.effects.pulsate=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'show');times=((o.options.times||5)*2)-1;duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(':visible'),animateTo=0;if(!isVisible){elem.css('opacity',0).show();animateTo=1};if((mode=='hide'&&isVisible)||(mode=='show'&&!isVisible))times--;for(var i=0;i<times;i++){elem.animate({opacity:animateTo},duration,o.options.easing);animateTo=(animateTo+1)%2};elem.animate({opacity:animateTo},duration,o.options.easing,function(){if(animateTo==0)elem.hide();(o.callback&&o.callback.apply(this,arguments))});elem.queue('fx',function(){elem.dequeue()}).dequeue()})}})(jQuery);(function($,undefined){$.effects.bounce=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'],mode=$.effects.setMode(el,o.options.mode||'effect'),direction=o.options.direction||'up',distance=o.options.distance||20,times=o.options.times||5,speed=o.duration||250;if(/show|hide/.test(mode))props.push('opacity');$.effects.save(el,props);el.show();$.effects.createWrapper(el);var ref=(direction=='up'||direction=='down')?'top':'left',motion=(direction=='up'||direction=='left')?'pos':'neg',distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true})/3:el.outerWidth({margin:true})/3);if(mode=='show')el.css('opacity',0).css(ref,motion=='pos'?-distance:distance);if(mode=='hide')distance=distance/(times*2);if(mode!='hide')times--;if(mode=='show'){var animation={opacity:1};animation[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation,speed/2,o.options.easing);distance=distance/2;times--};for(var i=0;i<times;i++){var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing);distance=(mode=='hide')?distance*2:distance/2};if(mode=='hide'){var animation={opacity:0};animation[ref]=(motion=='pos'?'-=':'+=')+distance;el.animate(animation,speed/2,o.options.easing,function(){el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments)})}else{var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,function(){$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments)})};el.queue('fx',function(){el.dequeue()});el.dequeue()})}})(jQuery);(function($,undefined){$.effects.fade=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'hide');elem.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){(o.callback&&o.callback.apply(this,arguments));elem.dequeue()}})})}})(jQuery);(function($,undefined){$.widget("ui.mouse",{options:{cancel:':input,option',distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind('mousedown.'+this.widgetName,function(event){return self._mouseDown(event)}).bind('click.'+this.widgetName,function(event){if(true===$.data(event.target,self.widgetName+'.preventClickEvent')){$.removeData(event.target,self.widgetName+'.preventClickEvent');event.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName)},_mouseDown:function(event){event.originalEvent=event.originalEvent||{};if(event.originalEvent.mouseHandled)return;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var self=this,btnIsLeft=(event.which==1),elIsCancel=(typeof this.options.cancel=="string"?$(event.target).parents().add(event.target).filter(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true}};if(true===$.data(event.target,this.widgetName+'.preventClickEvent'))$.removeData(event.target,this.widgetName+'.preventClickEvent');this._mouseMoveDelegate=function(event){return self._mouseMove(event)};this._mouseUpDelegate=function(event){return self._mouseUp(event)};$(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate);event.preventDefault();event.originalEvent.mouseHandled=true;return true},_mouseMove:function(event){if($.browser.msie&&!(document.documentMode>=9)&&!event.button)return this._mouseUp(event);if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()};if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event))};return !this._mouseStarted},_mouseUp:function(event){$(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target==this._mouseDownEvent.target)$.data(event.target,this.widgetName+'.preventClickEvent',true);this._mouseStop(event)};return false},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance)},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return true}})})(jQuery);(function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,verticalPositions=/top|center|bottom/,center="center",_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var target=$(options.of),targetElem=target[0],collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0],targetWidth,targetHeight,basePosition;if(targetElem.nodeType===9){targetWidth=target.width();targetHeight=target.height();basePosition={top:0,left:0}}else if(targetElem.setTimeout){targetWidth=target.width();targetHeight=target.height();basePosition={top:target.scrollTop(),left:target.scrollLeft()}}else if(targetElem.preventDefault){options.at="left top";targetWidth=targetHeight=0;basePosition={top:options.of.pageY,left:options.of.pageX}}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();basePosition=target.offset()};$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");if(pos.length===1)pos=horizontalPositions.test(pos[0])?pos.concat([center]):verticalPositions.test(pos[0])?[center].concat(pos):[center,center];pos[0]=horizontalPositions.test(pos[0])?pos[0]:center;pos[1]=verticalPositions.test(pos[1])?pos[1]:center;options[this]=pos});if(collision.length===1)collision[1]=collision[0];offset[0]=parseInt(offset[0],10)||0;if(offset.length===1)offset[1]=offset[0];offset[1]=parseInt(offset[1],10)||0;if(options.at[0]==="right"){basePosition.left+=targetWidth}else if(options.at[0]===center)basePosition.left+=targetWidth/2;if(options.at[1]==="bottom"){basePosition.top+=targetHeight}else if(options.at[1]===center)basePosition.top+=targetHeight/2;basePosition.left+=offset[0];basePosition.top+=offset[1];return this.each(function(){var elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseInt($.curCSS(this,"marginLeft",true))||0,marginTop=parseInt($.curCSS(this,"marginTop",true))||0,collisionWidth=elemWidth+marginLeft+(parseInt($.curCSS(this,"marginRight",true))||0),collisionHeight=elemHeight+marginTop+(parseInt($.curCSS(this,"marginBottom",true))||0),position=$.extend({},basePosition),collisionPosition;if(options.my[0]==="right"){position.left-=elemWidth}else if(options.my[0]===center)position.left-=elemWidth/2;if(options.my[1]==="bottom"){position.top-=elemHeight}else if(options.my[1]===center)position.top-=elemHeight/2;position.left=Math.round(position.left);position.top=Math.round(position.top);collisionPosition={left:position.left-marginLeft,top:position.top-marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]])$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:offset,my:options.my,at:options.at})});if($.fn.bgiframe)elem.bgiframe();elem.offset($.extend(position,{using:options.using}))})};$.ui.position={fit:{left:function(position,data){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(position.left-data.collisionPosition.left,position.left)},top:function(position,data){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(position.top-data.collisionPosition.top,position.top)}},flip:{left:function(position,data){if(data.at[0]===center)return;var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft(),myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:-data.targetWidth,offset=-2*data.offset[0];position.left+=data.collisionPosition.left<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0},top:function(position,data){if(data.at[1]===center)return;var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop(),myOffset=data.my[1]==="top"?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=data.collisionPosition.top<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0}}};if(!$.offset.setOffset){$.offset.setOffset=function(elem,options){if(/static/.test($.curCSS(elem,"position")))elem.style.position="relative";var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",true),10)||0,curLeft=parseInt($.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if('using' in options){options.using.call(elem,props)}else curElem.css(props)};$.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument)return null;if(options)return this.each(function(){$.offset.setOffset(this,options)});return _offset.call(this)}}}(jQuery));(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=='original'&&!(/^(?:r|a|f)/).test(this.element.css("position")))this.element[0].style.position='relative';(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data('draggable'))return;this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).is('.ui-resizable-handle'))return false;this.handle=this._getHandle(event);if(!this.handle)return false;return true},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._cacheHelperProportions();if($.ui.ddmanager)$.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));if(o.containment)this._setContainment();if(this._trigger("start",event)===false){this._clear();return false};this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(this,event);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(event,true);return true},_mouseDrag:function(event,noPropagation){this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger('drag',event,ui)===false){this._mouseUp({});return false};this.position=ui.position};if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+'px';if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+'px';if($.ui.ddmanager)$.ui.ddmanager.drag(this,event);return false},_mouseStop:function(event){var dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour)dropped=$.ui.ddmanager.drop(this,event);if(this.dropped){dropped=this.dropped;this.dropped=false};if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if((this.options.revert=="invalid"&&!dropped)||(this.options.revert=="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(self._trigger("stop",event)!==false)self._clear()})}else if(this._trigger("stop",event)!==false)this._clear();return false},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else this._clear();return this},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length?true:false;$(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==event.target)handle=true});return handle},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper=='clone'?this.element.clone():this.element);if(!helper.parents('body').length)helper.appendTo((o.appendTo=='parent'?this.element[0].parentNode:o.appendTo));if(helper[0]!=this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position")))helper.css("position","absolute");return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj=='string')obj=obj.split(' ');if($.isArray(obj))obj={left:+obj[0],top:+obj[1]||0};if('left' in obj)this.offset.click.left=obj.left+this.margins.left;if('right' in obj)this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;if('top' in obj)this.offset.click.top=obj.top+this.margins.top;if('bottom' in obj)this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition=='absolute'&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()};if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=='html'&&$.browser.msie))po={top:0,left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if(o.containment=='parent')o.containment=this.helper[0].parentNode;if(o.containment=='document'||o.containment=='window')this.containment=[(o.containment=='document'?0:$(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(o.containment=='document'?0:$(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(o.containment=='document'?0:$(window).scrollLeft())+$(o.containment=='document'?document:window).width()-this.helperProportions.width-this.margins.left,(o.containment=='document'?0:$(window).scrollTop())+($(o.containment=='document'?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!(/^(document|window|parent)$/).test(o.containment)&&o.containment.constructor!=Array){var ce=$(o.containment)[0];if(!ce)return;var co=$(o.containment).offset(),over=($(ce).css("overflow")!='hidden');this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0),co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0),co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}else if(o.containment.constructor==Array)this.containment=o.containment},_convertPositionTo:function(d,pos){if(!pos)pos=this.position;var mod=d=="absolute"?1:-1,o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))}},_generatePosition:function(event){var o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName),pageX=event.pageX,pageY=event.pageY;if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0])pageX=this.containment[0]+this.offset.click.left;if(event.pageY-this.offset.click.top<this.containment[1])pageY=this.containment[1]+this.offset.click.top;if(event.pageX-this.offset.click.left>this.containment[2])pageX=this.containment[2]+this.offset.click.left;if(event.pageY-this.offset.click.top>this.containment[3])pageY=this.containment[3]+this.offset.click.top};if(o.grid){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?(!(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top:(!(top-this.offset.click.top<this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?(!(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left:(!(left-this.offset.click.left<this.containment[0])?left-o.grid[0]:left+o.grid[0])):left}};return{top:(pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type=="drag")this.positionAbs=this._convertPositionTo("absolute");return $.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});$.extend($.ui.draggable,{version:"1.8.11"});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,'sortable');if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable)}})},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper=='original')this.instance.currentItem.css({top:'auto',left:'auto'})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable)}})},drag:function(event,ui){var inst=$(this).data("draggable"),self=this,checkPos=function(o){var dyClick=this.offset.click.top,dxClick=this.offset.click.left,helperTop=this.positionAbs.top,helperLeft=this.positionAbs.left,itemHeight=o.height,itemWidth=o.width,itemTop=o.top,itemLeft=o.left;return $.ui.isOver(helperTop+dyClick,helperLeft+dxClick,itemTop,itemLeft,itemHeight,itemWidth)};$.each(inst.sortables,function(i){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(self).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0]};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst};if(this.instance.currentItem)this.instance._mouseDrag(event)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger('out',event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder)this.instance.placeholder.remove();inst._trigger("fromSortable",event);inst.dropped=false}})}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$('body'),o=$(this).data('draggable').options;if(t.css("cursor"))o._cursor=t.css("cursor");t.css("cursor",o.cursor)},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._cursor)$('body').css("cursor",o._cursor)}});$.ui.plugin.add("draggable","iframeFix",{start:function(event,ui){var o=$(this).data('draggable').options;$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body")})},stop:function(event,ui){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data('draggable').options;if(t.css("opacity"))o._opacity=t.css("opacity");t.css('opacity',o.opacity)},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._opacity)$(ui.helper).css('opacity',o._opacity)}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML')i.overflowOffset=i.scrollParent.offset()},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML'){if(!o.axis||o.axis!='x')if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity)i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;if(!o.axis||o.axis!='y')if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity)i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed}else{if(!o.axis||o.axis!='x')if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed)}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);if(!o.axis||o.axis!='y')if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed)}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)};if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(i,event)}});$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!=String?(o.snap.items||':data(draggable)'):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!=i.element[0])i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(var i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(!((l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d)||(l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d)||(l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d)||(l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d))){if(inst.snapElements[i].snapping)(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=false;continue};if(o.snapMode!='inner'){var ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left};var first=(ts||bs||ls||rs);if(o.snapMode!='outer'){var ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left};if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first))(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=(ts||bs||ls||rs||first)}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(!group.length)return;var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i});this[0].style.zIndex=min+group.length}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;if(t.css("zIndex"))o._zIndex=t.css("zIndex");t.css('zIndex',o.zIndex)},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._zIndex)$(ui.helper).css('zIndex',o._zIndex)}})})(jQuery);(function($,undefined){var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(event){$(":ui-button",event.target.form).each(function(){var inst=$(this).data("button");setTimeout(function(){inst.refresh()},1)})},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name)if(form){radios=$(form).find("[name='"+name+"']")}else radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return !this.form});return radios};$.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler);if(typeof this.options.disabled!=="boolean")this.options.disabled=this.element.attr("disabled");this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",hoverClass="ui-state-hover"+(!toggleButton?" ui-state-active":""),focusClass="ui-state-focus";if(options.label===null)options.label=this.buttonElement.html();if(this.element.is(":disabled"))options.disabled=true;this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",function(){if(options.disabled)return;$(this).addClass("ui-state-hover");if(this===lastActive)$(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(options.disabled)return;$(this).removeClass(hoverClass)}).bind("focus.button",function(){$(this).addClass(focusClass)}).bind("blur.button",function(){$(this).removeClass(focusClass)});if(toggleButton)this.element.bind("change.button",function(){self.refresh()});if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(options.disabled)return false;$(this).toggleClass("ui-state-active");self.buttonElement.attr("aria-pressed",self.element[0].checked)})}else if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(options.disabled)return false;$(this).addClass("ui-state-active");self.buttonElement.attr("aria-pressed",true);var radio=self.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)})}else{this.buttonElement.bind("mousedown.button",function(){if(options.disabled)return false;$(this).addClass("ui-state-active");lastActive=this;$(document).one("mouseup",function(){lastActive=null})}).bind("mouseup.button",function(){if(options.disabled)return false;$(this).removeClass("ui-state-active")}).bind("keydown.button",function(event){if(options.disabled)return false;if(event.keyCode==$.ui.keyCode.SPACE||event.keyCode==$.ui.keyCode.ENTER)$(this).addClass("ui-state-active")}).bind("keyup.button",function(){$(this).removeClass("ui-state-active")});if(this.buttonElement.is("a"))this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE)$(this).click()})};this._setOption("disabled",options.disabled)},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox"}else if(this.element.is(":radio")){this.type="radio"}else if(this.element.is("input")){this.type="input"}else this.type="button";if(this.type==="checkbox"||this.type==="radio"){var ancestor=this.element.parents().filter(":last"),labelSelector="label[for="+this.element.attr("id")+"]";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length)this.buttonElement=ancestor.find(labelSelector)};this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");if(checked)this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",checked)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle)this.buttonElement.removeAttr("title");$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="disabled")if(value){this.element.attr("disabled",true)}else this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var isDisabled=this.element.is(":disabled");if(isDisabled!==this.options.disabled)this._setOption("disabled",isDisabled);if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true)}else $(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)})}else if(this.type==="checkbox")if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true)}else this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input"){if(this.options.label)this.element.val(this.options.label);return};var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text)buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));if(icons.primary)buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");if(icons.secondary)buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle)buttonElement.attr("title",buttonText)}}else buttonClasses.push("ui-button-text-only");buttonElement.addClass(buttonClasses.join(" "))}});$.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){if(key==="disabled")this.buttons.button("option",key,value);$.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");$.Widget.prototype.destroy.call(this)}})}(jQuery));(function($,undefined){$.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();$.Widget.prototype.destroy.apply(this,arguments)},value:function(newValue){if(newValue===undefined)return this._value();this._setOption("value",newValue);return this},_setOption:function(key,value){if(key==="value"){this.options.value=value;this._refreshValue();if(this._value()===this.options.max)this._trigger("complete")};$.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var val=this.options.value;if(typeof val!=="number")val=0;return Math.min(this.options.max,Math.max(this.min,val))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var value=this.value(),percentage=this._percentage();if(this.oldValue!==value){this.oldValue=value;this._trigger("change")};this.valueDiv.toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.attr("aria-valuenow",value)}});$.extend($.ui.progressbar,{version:"1.8.11"})})(jQuery);(function($){$.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:true,typeAhead:"sequential",style:'dropdown',positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:""},_create:function(){var self=this,o=this.options,selectmenuId=this.element.attr('id')||'ui-selectmenu-'+Math.random().toString(16).slice(2,10);this.ids=[selectmenuId+'-button',selectmenuId+'-menu'];this._safemouseup=true;if($.browser.msie)o.typeAhead="";this.newelement=$('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" tabindex="0" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);this.newelement.wrap(o.wrapperElement);var tabindex=this.element.attr('tabindex');if(tabindex)this.newelement.attr('tabindex',tabindex);this.newelement.data('selectelement',this.element);this.selectmenuIcon=$('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement);this.newelement.prepend('<span class="'+self.widgetBaseClass+'-status" />');$('label[for="'+this.element.attr('id')+'"]').attr('for',this.ids[0]).bind('click.selectmenu',function(){self.newelement[0].focus();return false});this.newelement.bind('mousedown.selectmenu',function(event){self._toggle(event,true);if(o.style=="popup"){self._safemouseup=false;setTimeout(function(){self._safemouseup=true},300)};return false}).bind('click.selectmenu',function(){return false}).bind("keydown.selectmenu",function(event){var ret=false;switch(event.keyCode){case $.ui.keyCode.ENTER:ret=true;break;case $.ui.keyCode.SPACE:self._toggle(event);break;case $.ui.keyCode.UP:if(event.altKey){self.open(event)}else self._moveSelection(-1);break;case $.ui.keyCode.DOWN:if(event.altKey){self.open(event)}else self._moveSelection(1);break;case $.ui.keyCode.LEFT:self._moveSelection(-1);break;case $.ui.keyCode.RIGHT:self._moveSelection(1);break;case $.ui.keyCode.TAB:ret=true;break;default:ret=true;self._typeAhead(event.keyCode,'mouseup');break};return ret}).bind('mouseover.selectmenu',function(){if(!o.disabled)$(this).addClass('ui-state-hover')}).bind('mouseout.selectmenu',function(){if(!o.disabled)$(this).removeClass('ui-state-hover')}).bind('focus.selectmenu',function(){if(!o.disabled)$(this).addClass(self.widgetBaseClass+'-focus')}).bind('blur.selectmenu',function(){if(!o.disabled)$(this).removeClass(self.widgetBaseClass+'-focus')});$(document).bind("mousedown.selectmenu",function(event){self.close(event)});this.element.bind("click.selectmenu",function(){self._refreshValue()}).bind("focus.selectmenu",function(){if(self.newelement)self.newelement[0].focus()});var selectWidth=this.element.width();this.newelement.width(o.width?o.width:selectWidth);this.element.hide();this.list=$('<ul class="'+self.widgetBaseClass+'-menu ui-widget ui-widget-content" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo('body');this.list.wrap(o.wrapperElement);this.list.bind("keydown.selectmenu",function(event){var ret=false;switch(event.keyCode){case $.ui.keyCode.UP:if(event.altKey){self.close(event,true)}else self._moveFocus(-1);break;case $.ui.keyCode.DOWN:if(event.altKey){self.close(event,true)}else self._moveFocus(1);break;case $.ui.keyCode.LEFT:self._moveFocus(-1);break;case $.ui.keyCode.RIGHT:self._moveFocus(1);break;case $.ui.keyCode.HOME:self._moveFocus(':first');break;case $.ui.keyCode.PAGE_UP:self._scrollPage('up');break;case $.ui.keyCode.PAGE_DOWN:self._scrollPage('down');break;case $.ui.keyCode.END:self._moveFocus(':last');break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:self.close(event,true);$(event.target).parents('li:eq(0)').trigger('mouseup');break;case $.ui.keyCode.TAB:ret=true;self.close(event,true);break;case $.ui.keyCode.ESCAPE:self.close(event,true);break;default:ret=true;self._typeAhead(event.keyCode,'focus');break};return ret});$(window).bind("resize.selectmenu",$.proxy(self._refreshPosition,this));if($.isFunction(this.options.create))this.options.create.call(this)},_init:function(){var self=this,o=this.options,selectOptionData=[];this.element.find('option').each(function(){selectOptionData.push({value:$(this).attr('value'),text:self._formatText($(this).text()),selected:$(this).attr('selected'),disabled:$(this).attr('disabled'),classes:$(this).attr('class'),typeahead:$(this).attr('typeahead'),parentOptGroup:$(this).parent('optgroup'),bgImage:o.bgImage.call($(this))})});var activeClass=(self.options.style=="popup")?" ui-state-active":"";this.list.html("");for(var i=0;i<selectOptionData.length;i++){var thisLi=$('<li role="presentation"'+(selectOptionData[i].disabled?' class="'+this.namespace+'-state-disabled"':'')+'><a href="#" tabindex="-1" role="option"'+(selectOptionData[i].disabled?' aria-disabled="true"':'')+' aria-selected="false"'+(selectOptionData[i].typeahead?' typeahead="'+selectOptionData[i].typeahead+'"':'')+'>'+selectOptionData[i].text+'</a></li>').data('index',i).addClass(selectOptionData[i].classes).data('optionClasses',selectOptionData[i].classes||'').bind("mouseup.selectmenu",function(event){if(self._safemouseup&&!self._disabled(event.currentTarget)&&!self._disabled($(event.currentTarget).parents("ul>li."+self.widgetBaseClass+"-group "))){var changed=$(this).data('index')!=self._selectedIndex();self.index($(this).data('index'));self.select(event);if(changed)self.change(event);self.close(event,true)};return false}).bind("click.selectmenu",function(){return false}).bind('mouseover.selectmenu focus.selectmenu',function(){self._selectedOptionLi().addClass(activeClass);self._focusedOptionLi().removeClass(self.widgetBaseClass+'-item-focus ui-state-hover');$(this).removeClass('ui-state-active').addClass(self.widgetBaseClass+'-item-focus ui-state-hover')}).bind('mouseout.selectmenu blur.selectmenu',function(){if($(this).is(self._selectedOptionLi().selector))$(this).addClass(activeClass);$(this).removeClass(self.widgetBaseClass+'-item-focus ui-state-hover')});if(selectOptionData[i].parentOptGroup.length){var optGroupName=self.widgetBaseClass+'-group-'+this.element.find('optgroup').index(selectOptionData[i].parentOptGroup);if(this.list.find('li.'+optGroupName).length){this.list.find('li.'+optGroupName+':last ul').append(thisLi)}else $(' <li role="presentation" class="'+self.widgetBaseClass+'-group '+optGroupName+(selectOptionData[i].parentOptGroup.attr("disabled")?' '+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+self.widgetBaseClass+'-group-label">'+selectOptionData[i].parentOptGroup.attr('label')+'</span><ul></ul></li> ').appendTo(this.list).find('ul').append(thisLi)}else thisLi.appendTo(this.list);this.list.bind('mousedown.selectmenu mouseup.selectmenu',function(){return false});if(o.icons)for(var j in o.icons)if(thisLi.is(o.icons[j].find)){thisLi.data('optionClasses',selectOptionData[i].classes+' '+self.widgetBaseClass+'-hasIcon').addClass(self.widgetBaseClass+'-hasIcon');var iconClass=o.icons[j].icon||"";thisLi.find('a:eq(0)').prepend('<span class="'+self.widgetBaseClass+'-item-icon ui-icon '+iconClass+'"></span>');if(selectOptionData[i].bgImage)thisLi.find('span').css('background-image',selectOptionData[i].bgImage)}};var isDropDown=(o.style=='dropdown');this.newelement.toggleClass(self.widgetBaseClass+"-dropdown",isDropDown).toggleClass(self.widgetBaseClass+"-popup",!isDropDown);this.list.toggleClass(self.widgetBaseClass+"-menu-dropdown ui-corner-bottom",isDropDown).toggleClass(self.widgetBaseClass+"-menu-popup ui-corner-all",!isDropDown).find('li:first').toggleClass("ui-corner-top",!isDropDown).end().find('li:last').addClass("ui-corner-bottom");this.selectmenuIcon.toggleClass('ui-icon-triangle-1-s',isDropDown).toggleClass('ui-icon-triangle-2-n-s',!isDropDown);if(o.transferClasses){var transferClasses=this.element.attr('class')||'';this.newelement.add(this.list).addClass(transferClasses)};var selectWidth=this.element.width();if(o.style=='dropdown'){this.list.width(o.menuWidth?o.menuWidth:(o.width?o.width:selectWidth))}else this.list.width(o.menuWidth?o.menuWidth:(o.width?o.width-o.handleWidth:selectWidth-o.handleWidth));if(o.maxHeight){if(o.maxHeight<this.list.height())this.list.height(o.maxHeight)}else if(!o.format&&($(window).height()/3)<this.list.height()){o.maxHeight=$(window).height()/3;this.list.height(o.maxHeight)};this._optionLis=this.list.find('li:not(.'+self.widgetBaseClass+'-group)');if(this.element.attr('disabled')===true)this.disable();this.index(this._selectedIndex());window.setTimeout(function(){self._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+'-disabled '+this.namespace+'-state-disabled').removeAttr('aria-disabled').unbind(".selectmenu");$(window).unbind(".selectmenu");$(document).unbind(".selectmenu");$('label[for='+this.newelement.attr('id')+']').attr('for',this.element.attr('id')).unbind('.selectmenu');if(this.options.wrapperElement){this.newelement.find(this.options.wrapperElement).remove();this.list.find(this.options.wrapperElement).remove()}else{this.newelement.remove();this.list.remove()};this.element.show();$.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(code,eventType){var self=this,focusFound=false,C=String.fromCharCode(code);c=C.toLowerCase();if(self.options.typeAhead=='sequential'){window.clearTimeout('ui.selectmenu-'+self.selectmenuId);var find=typeof (self._prevChar)=='undefined'?'':self._prevChar.join('');function focusOptSeq(elem,ind,c){focusFound=true;$(elem).trigger(eventType);typeof (self._prevChar)=='undefined'?self._prevChar=[c]:self._prevChar[self._prevChar.length]=c};this.list.find('li a').each(function(i){if(!focusFound){var thisText=$(this).attr('typeahead')||$(this).text();if(thisText.indexOf(find+C)==0){focusOptSeq(this,i,C)}else if(thisText.indexOf(find+c)==0)focusOptSeq(this,i,c)}});if(!focusFound);window.setTimeout(function(el){el._prevChar=undefined},1000,self)}else{if(!self._prevChar)self._prevChar=['',0];var focusFound=false;function focusOpt(elem,ind){focusFound=true;$(elem).trigger(eventType);self._prevChar[1]=ind};this.list.find('li a').each(function(i){if(!focusFound){var thisText=$(this).text();if(thisText.indexOf(C)==0||thisText.indexOf(c)==0)if(self._prevChar[0]==C){if(self._prevChar[1]<i)focusOpt(this,i)}else focusOpt(this,i)}});this._prevChar[0]=C}},_uiHash:function(){var index=this.index();return{index:index,option:$("option",this.element).get(index),value:this.element[0].value}},open:function(event){var self=this;if(this.newelement.attr("aria-disabled")!='true'){this._closeOthers(event);this.newelement.addClass('ui-state-active');if(self.options.wrapperElement){this.list.parent().appendTo('body')}else this.list.appendTo('body');this.list.addClass(self.widgetBaseClass+'-open').attr('aria-hidden',false).find('li:not(.'+self.widgetBaseClass+'-group):eq('+this._selectedIndex()+') a')[0].focus();if(this.options.style=="dropdown")this.newelement.removeClass('ui-corner-all').addClass('ui-corner-top');this._refreshPosition();this._trigger("open",event,this._uiHash())}},close:function(event,retainFocus){if(this.newelement.is('.ui-state-active')){this.newelement.removeClass('ui-state-active');this.list.attr('aria-hidden',true).removeClass(this.widgetBaseClass+'-open');if(this.options.style=="dropdown")this.newelement.removeClass('ui-corner-top').addClass('ui-corner-all');if(retainFocus)this.newelement.focus();this._trigger("close",event,this._uiHash())}},change:function(event){this.element.trigger("change");if($.trim(this.element.val()).length===0){this.newelement.removeClass('ui-selectmenu-selected')}else this.newelement.addClass('ui-selectmenu-selected');this._trigger("change",event,this._uiHash())},select:function(event){this._trigger("select",event,this._uiHash())},_closeOthers:function(event){$('.'+this.widgetBaseClass+'.ui-state-active').not(this.newelement).each(function(){$(this).data('selectelement').selectmenu('close',event)});$('.'+this.widgetBaseClass+'.ui-state-hover').trigger('mouseout')},_toggle:function(event,retainFocus){if(this.list.is('.'+this.widgetBaseClass+'-open')){this.close(event,retainFocus)}else this.open(event)},_formatText:function(text){return(this.options.format?this.options.format(text):text)},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find('.'+this.widgetBaseClass+'-item-focus')},_moveSelection:function(amt){var currIndex=parseInt(this._selectedOptionLi().data('index'),10),newIndex=currIndex+amt;return this._optionLis.eq(newIndex).trigger('mouseup')},_moveFocus:function(amt){if(!isNaN(amt)){var currIndex=parseInt(this._focusedOptionLi().data('index')||0,10),newIndex=currIndex+amt}else var newIndex=parseInt(this._optionLis.filter(amt).data('index'),10);if(newIndex<0)newIndex=0;if(newIndex>this._optionLis.size()-1)newIndex=this._optionLis.size()-1;if(newIndex===recIndex)return false;var activeID=this.widgetBaseClass+'-item-'+Math.round(Math.random()*1000);this._focusedOptionLi().find('a:eq(0)').attr('id','');if(this._optionLis.eq(newIndex).hasClass(this.namespace+'-state-disabled')){(amt>0)?amt++:amt--;this._moveFocus(amt,newIndex)}else this._optionLis.eq(newIndex).find('a:eq(0)').attr('id',activeID).focus();this.list.attr('aria-activedescendant',activeID)},_scrollPage:function(direction){var numPerPage=Math.floor(this.list.outerHeight()/this.list.find('li:first').outerHeight());numPerPage=(direction=='up'?-numPerPage:numPerPage);this._moveFocus(numPerPage)},_setOption:function(key,value){this.options[key]=value;if(key=='disabled'){this.close();this.element.add(this.newelement).add(this.list)[value?'addClass':'removeClass'](this.widgetBaseClass+'-disabled '+this.namespace+'-state-disabled').attr("aria-disabled",value)}},disable:function(index,type){if(!index){this._setOption('disabled',true)}else if(type=="optgroup"){this._disableOptgroup(index)}else this._disableOption(index)},enable:function(index,type){if(!index){this._setOption('disabled',false)}else if(type=="optgroup"){this._enableOptgroup(index)}else this._enableOption(index)},_disabled:function(elem){return $(elem).hasClass(this.namespace+'-state-disabled')},_disableOption:function(index){var optionElem=this._optionLis.eq(index);if(optionElem){optionElem.addClass(this.namespace+'-state-disabled').find("a").attr("aria-disabled",true);this.element.find("option").eq(index).attr("disabled","disabled")}},_enableOption:function(index){var optionElem=this._optionLis.eq(index);if(optionElem){optionElem.removeClass(this.namespace+'-state-disabled').find("a").attr("aria-disabled",false);this.element.find("option").eq(index).removeAttr("disabled")}},_disableOptgroup:function(index){var optGroupElem=this.list.find('li.'+this.widgetBaseClass+'-group-'+index);if(optGroupElem){optGroupElem.addClass(this.namespace+'-state-disabled').attr("aria-disabled",true);this.element.find("optgroup").eq(index).attr("disabled","disabled")}},_enableOptgroup:function(index){var optGroupElem=this.list.find('li.'+this.widgetBaseClass+'-group-'+index);if(optGroupElem){optGroupElem.removeClass(this.namespace+'-state-disabled').attr("aria-disabled",false);this.element.find("optgroup").eq(index).removeAttr("disabled")}},index:function(newValue){if(arguments.length){if(!this._disabled($(this._optionLis[newValue]))){this.element[0].selectedIndex=newValue;this._refreshValue()}else return false}else return this._selectedIndex()},value:function(newValue){if(arguments.length){this.element[0].value=newValue;this._refreshValue()}else return this.element[0].value},_refreshValue:function(){var activeClass=(this.options.style=="popup")?" ui-state-active":"",activeID=this.widgetBaseClass+'-item-'+Math.round(Math.random()*1000);this.list.find('.'+this.widgetBaseClass+'-item-selected').removeClass(this.widgetBaseClass+"-item-selected"+activeClass).find('a').attr('aria-selected','false').attr('id','');this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+activeClass).find('a').attr('aria-selected','true').attr('id',activeID);var currentOptionClasses=(this.newelement.data('optionClasses')?this.newelement.data('optionClasses'):""),newOptionClasses=(this._selectedOptionLi().data('optionClasses')?this._selectedOptionLi().data('optionClasses'):"");this.newelement.removeClass(currentOptionClasses).data('optionClasses',newOptionClasses).addClass(newOptionClasses).find('.'+this.widgetBaseClass+'-status').html(this._selectedOptionLi().find('a:eq(0)').html());this.list.attr('aria-activedescendant',activeID)},_refreshPosition:function(){var o=this.options;if(o.style=="popup"&&!o.positionOptions.offset){var selected=this._selectedOptionLi(),_offset="0 -"+(selected.outerHeight()+selected.offset().top-this.list.offset().top)};this.list.css({zIndex:this.element.zIndex()}).position({of:o.positionOptions.of||this.newelement,my:o.positionOptions.my,at:o.positionOptions.at,offset:o.positionOptions.offset||_offset})}})})(jQuery);(function($,undefined){var uiDialogClasses='ui-dialog ui-widget ui-widget-content ui-corner-all ',sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:'close',dialogClass:'',draggable:true,hide:null,height:'auto',maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:'center',at:'center',collision:'fit',using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0)$(this).css('top',pos.top-topOffset)}},resizable:true,show:null,stack:true,title:'',width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr('title');if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var self=this,options=self.options,title=options.title||'&#160;',titleId=$.ui.dialog.getTitleId(self.element),uiDialog=(self.uiDialog=$('<div></div>')).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr('tabIndex',-1).css('outline',0).keydown(function(event){if(options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){self.close(event);event.preventDefault()}}).attr({role:'dialog','aria-labelledby':titleId}).mousedown(function(event){self.moveToTop(false,event)}),uiDialogContent=self.element.show().removeAttr('title').addClass('ui-dialog-content ui-widget-content').appendTo(uiDialog),uiDialogTitlebar=(self.uiDialogTitlebar=$('<div></div>')).addClass('ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix').prependTo(uiDialog),uiDialogTitlebarClose=$('<a href="#"></a>').addClass('ui-dialog-titlebar-close ui-corner-all').attr('role','button').hover(function(){uiDialogTitlebarClose.addClass('ui-state-hover')},function(){uiDialogTitlebarClose.removeClass('ui-state-hover')}).focus(function(){uiDialogTitlebarClose.addClass('ui-state-focus')}).blur(function(){uiDialogTitlebarClose.removeClass('ui-state-focus')}).click(function(event){self.close(event);return false}).appendTo(uiDialogTitlebar),uiDialogTitlebarCloseText=(self.uiDialogTitlebarCloseText=$('<span></span>')).addClass('ui-icon ui-icon-closethick').text(options.closeText).appendTo(uiDialogTitlebarClose),uiDialogTitle=$('<span></span>').addClass('ui-dialog-title').attr('id',titleId).html(title).prependTo(uiDialogTitlebar);if($.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose))options.beforeClose=options.beforeclose;uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection();if(options.draggable&&$.fn.draggable)self._makeDraggable();if(options.resizable&&$.fn.resizable)self._makeResizable();self._createButtons(options.buttons);self._isOpen=false;if($.fn.bgiframe)uiDialog.bgiframe()},_init:function(){if(this.options.autoOpen)this.open()},destroy:function(){var self=this;if(self.overlay)self.overlay.destroy();self.uiDialog.hide();self.element.unbind('.dialog').removeData('dialog').removeClass('ui-dialog-content ui-widget-content').hide().appendTo('body');self.uiDialog.remove();if(self.originalTitle)self.element.attr('title',self.originalTitle);return self},widget:function(){return this.uiDialog},close:function(event){var self=this,maxZ,thisZ;if(false===self._trigger('beforeClose',event))return;if(self.overlay)self.overlay.destroy();self.uiDialog.unbind('keypress.ui-dialog');self._isOpen=false;if(self.options.hide){self.uiDialog.hide(self.options.hide,function(){self._trigger('close',event)})}else{self.uiDialog.hide();self._trigger('close',event)};$.ui.dialog.overlay.resize();if(self.options.modal){maxZ=0;$('.ui-dialog').each(function(){if(this!==self.uiDialog[0]){thisZ=$(this).css('z-index');if(!isNaN(thisZ))maxZ=Math.max(maxZ,thisZ)}});$.ui.dialog.maxZ=maxZ};return self},isOpen:function(){return this._isOpen},moveToTop:function(force,event){var self=this,options=self.options,saveScroll;if((options.modal&&!force)||(!options.stack&&!options.modal))return self._trigger('focus',event);if(options.zIndex>$.ui.dialog.maxZ)$.ui.dialog.maxZ=options.zIndex;if(self.overlay){$.ui.dialog.maxZ+=1;self.overlay.$el.css('z-index',$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ)};saveScroll={scrollTop:self.element.attr('scrollTop'),scrollLeft:self.element.attr('scrollLeft')};$.ui.dialog.maxZ+=1;self.uiDialog.css('z-index',$.ui.dialog.maxZ);self.element.attr(saveScroll);self._trigger('focus',event);return self},open:function(){if(this._isOpen)return;var self=this,options=self.options,uiDialog=self.uiDialog;self.overlay=options.modal?new $.ui.dialog.overlay(self):null;self._size();self._position(options.position);uiDialog.show(options.show);self.moveToTop(true);if(options.modal)uiDialog.bind('keypress.ui-dialog',function(event){if(event.keyCode!==$.ui.keyCode.TAB)return;var tabbables=$(':tabbable',this),first=tabbables.filter(':first'),last=tabbables.filter(':last');if(event.target===last[0]&&!event.shiftKey){first.focus(1);return false}else if(event.target===first[0]&&event.shiftKey){last.focus(1);return false}});$(self.element.find(':tabbable').get().concat(uiDialog.find('.ui-dialog-buttonpane :tabbable').get().concat(uiDialog.get()))).eq(0).focus();self._isOpen=true;self._trigger('open');return self},_createButtons:function(buttons){var self=this,hasButtons=false,uiDialogButtonPane=$('<div></div>').addClass('ui-dialog-buttonpane ui-widget-content ui-helper-clearfix'),uiButtonSet=$("<div></div>").addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);self.uiDialog.find('.ui-dialog-buttonpane').remove();if(typeof buttons==='object'&&buttons!==null)$.each(buttons,function(){return !(hasButtons=true)});if(hasButtons){$.each(buttons,function(name,props){props=$.isFunction(props)?{click:props,text:name}:props;var button=$('<button type="button"></button>').attr(props,true).unbind('click').click(function(){props.click.apply(self.element[0],arguments)}).appendTo(uiButtonSet);if($.fn.button)button.button()});uiDialogButtonPane.appendTo(self.uiDialog)}},_makeDraggable:function(){var self=this,options=self.options,doc=$(document),heightBeforeDrag
function filteredUi(ui){return{position:ui.position,offset:ui.offset}};self.uiDialog.draggable({cancel:'.ui-dialog-content, .ui-dialog-titlebar-close',handle:'.ui-dialog-titlebar',containment:'document',start:function(event,ui){heightBeforeDrag=options.height==="auto"?"auto":$(this).height();$(this).height($(this).height()).addClass("ui-dialog-dragging");self._trigger('dragStart',event,filteredUi(ui))},drag:function(event,ui){self._trigger('drag',event,filteredUi(ui))},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()];$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag);self._trigger('dragStop',event,filteredUi(ui));$.ui.dialog.overlay.resize()}})},_makeResizable:function(handles){handles=(handles===undefined?this.options.resizable:handles);var self=this,options=self.options,position=self.uiDialog.css('position'),resizeHandles=(typeof handles==='string'?handles:'n,e,s,w,se,sw,ne,nw')
function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}};self.uiDialog.resizable({cancel:'.ui-dialog-content',containment:'document',alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");self._trigger('resizeStart',event,filteredUi(ui))},resize:function(event,ui){self._trigger('resize',event,filteredUi(ui))},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing");options.height=$(this).height();options.width=$(this).width();self._trigger('resizeStop',event,filteredUi(ui));$.ui.dialog.overlay.resize()}}).css('position',position).find('.ui-resizable-se').addClass('ui-icon ui-icon-grip-diagonal-se')},_minHeight:function(){var options=this.options;if(options.height==='auto'){return options.minHeight}else return Math.min(options.minHeight,options.height)},_position:function(position){var myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==='string'||(typeof position==='object'&&'0' in position)){myAt=position.split?position.split(' '):[position[0],position[1]];if(myAt.length===1)myAt[1]=myAt[0];$.each(['left','top'],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition}});position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")}};position=$.extend({},$.ui.dialog.prototype.options.position,position)}else position=$.ui.dialog.prototype.options.position;isVisible=this.uiDialog.is(':visible');if(!isVisible)this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position($.extend({of:window},position));if(!isVisible)this.uiDialog.hide()},_setOptions:function(options){var self=this,resizableOptions={},resize=false;$.each(options,function(key,value){self._setOption(key,value);if(key in sizeRelatedOptions)resize=true;if(key in resizableRelatedOptions)resizableOptions[key]=value});if(resize)this._size();if(this.uiDialog.is(":data(resizable)"))this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":if(value){uiDialog.addClass('ui-dialog-disabled')}else uiDialog.removeClass('ui-dialog-disabled');break;case"draggable":var isDraggable=uiDialog.is(":data(draggable)");if(isDraggable&&!value)uiDialog.draggable("destroy");if(!isDraggable&&value)self._makeDraggable();break;case"position":self._position(value);break;case"resizable":var isResizable=uiDialog.is(":data(resizable)");if(isResizable&&!value)uiDialog.resizable('destroy');if(isResizable&&typeof value==='string')uiDialog.resizable('option','handles',value);if(!isResizable&&value!==false)self._makeResizable(value);break;case"title":$(".ui-dialog-title",self.uiDialogTitlebar).html(""+(value||'&#160;'));break};$.Widget.prototype._setOption.apply(self,arguments)},_size:function(){var options=this.options,nonContentHeight,minContentHeight,isVisible=this.uiDialog.is(":visible");this.element.show().css({width:'auto',minHeight:0,height:0});if(options.minWidth>options.width)options.width=options.minWidth;nonContentHeight=this.uiDialog.css({height:'auto',width:options.width}).height();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);if(options.height==="auto"){if($.support.minHeight){this.element.css({minHeight:minContentHeight,height:"auto"})}else{this.uiDialog.show();var autoHeight=this.element.css("height","auto").height();if(!isVisible)this.uiDialog.hide();this.element.height(Math.max(autoHeight,minContentHeight))}}else this.element.height(Math.max(options.height-nonContentHeight,0));if(this.uiDialog.is(':data(resizable)'))this.uiDialog.resizable('option','minHeight',this._minHeight())}});$.extend($.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr('id');if(!id){this.uuid+=1;id=this.uuid};return'ui-dialog-title-'+id},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog)}});$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map('focus,mousedown,mouseup,keydown,keypress,click'.split(','),function(event){return event+'.dialog-overlay'}).join(' '),create:function(dialog){if(this.instances.length===0){setTimeout(function(){if($.ui.dialog.overlay.instances.length)$(document).bind($.ui.dialog.overlay.events,function(event){if($(event.target).zIndex()<$.ui.dialog.overlay.maxZ)return false})},1);$(document).bind('keydown.dialog-overlay',function(event){if(dialog.options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){dialog.close(event);event.preventDefault()}});$(window).bind('resize.dialog-overlay',$.ui.dialog.overlay.resize)};var $el=(this.oldInstances.pop()||$('<div></div>').addClass('ui-widget-overlay')).appendTo(document.body).css({width:this.width(),height:this.height()});if($.fn.bgiframe)$el.bgiframe();this.instances.push($el);return $el},destroy:function($el){var indexOf=$.inArray($el,this.instances);if(indexOf!=-1)this.oldInstances.push(this.instances.splice(indexOf,1)[0]);if(this.instances.length===0)$([document,window]).unbind('.dialog-overlay');$el.remove();var maxZ=0;$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css('z-index'))});this.maxZ=maxZ},height:function(){var scrollHeight,offsetHeight;if($.browser.msie&&$.browser.version<7){scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(scrollHeight<offsetHeight){return $(window).height()+'px'}else return scrollHeight+'px'}else return $(document).height()+'px'},width:function(){var scrollWidth,offsetWidth;if($.browser.msie&&$.browser.version<7){scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(scrollWidth<offsetWidth){return $(window).width()+'px'}else return scrollWidth+'px'}else return $(document).width()+'px'},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this)});$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}});$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function($,window,undefined){var increments=0;$.widget("ui.tooltip",{options:{items:"[title]",content:function(){return $(this).attr("title")},position:{my:"left center",at:"right center",offset:"15 0"},type:'hover'},_create:function(){var openEvt,closeEvt;switch(this.options.type){case ('focus'):{openEvt='focus.tooltip';closeEvt='blur.tooltip';break};case ('hover'):{openEvt='focus.tooltip mouseover.tooltip';closeEvt='blur.tooltip mouseout.tooltip';break};default:{openEvt=closeEvt='';break}};var self=this;this.tooltip=$("<div></div>").attr("id","ui-tooltip-"+ increments++).attr("role","tooltip").attr("aria-hidden","true").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content").appendTo(this.options.appendTo||document.body).hide();this.tooltipContent=$("<div></div>").addClass("ui-tooltip-content").appendTo(this.tooltip).after('<span class="hk-1"></span><span class="hk-2"></span>');this.opacity=this.tooltip.css("opacity");this.element.bind(openEvt,function(event){self.open(event)}).bind(closeEvt,function(event){self.close(event)})},enable:function(){this.options.disabled=false},disable:function(){this.options.disabled=true},_destroy:function(){this.tooltip.remove()},widget:function(){return this.element.pushStack(this.tooltip.get())},open:function(event){var target=$(event&&event.target||this.element).closest(this.options.items);if(!target.length)return;if(this.current&&this.current[0]==target[0])return;var self=this;this.current=target;this.currentTitle=target.attr("title");var content=this.options.content.call(target[0],function(response){setTimeout(function(){if(self.current==target)self._open(event,target,response)},13)});if(content)self._open(event,target,content)},_open:function(event,target,content){if(!content)return;target.attr("title","");if(this.options.disabled)return;this.tooltipContent.html(content);this.tooltip.css({top:0,left:0}).show().position($.extend({of:target},this.options.position)).hide();this.tooltip.attr("aria-hidden","false");target.attr("aria-describedby",this.tooltip.attr("id"));this.tooltip.stop(false,true).fadeIn(200);this._trigger("open",event)},close:function(event){if(!this.current)return;var current=this.current;this.current=null;current.attr("title",this.currentTitle);if(this.options.disabled)return;current.removeAttr("aria-describedby");this.tooltip.attr("aria-hidden","true");this.tooltip.stop(false,true).fadeOut(100);this._trigger("close",event)}});$.ui.tooltip.version="@VERSION"})(jQuery,this);(function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var self=this,doc=this.element[0].ownerDocument,suppressKeyPress;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(event){if(self.options.disabled||self.element.attr("readonly"))return;suppressKeyPress=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:self._move("previousPage",event);break;case keyCode.PAGE_DOWN:self._move("nextPage",event);break;case keyCode.UP:self._move("previous",event);event.preventDefault();break;case keyCode.DOWN:self._move("next",event);event.preventDefault();break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(self.menu.active){suppressKeyPress=true;event.preventDefault()};case keyCode.TAB:if(!self.menu.active)return;self.menu.select(event);break;case keyCode.ESCAPE:self.element.val(self.term);self.close(event);break;default:clearTimeout(self.searching);self.searching=setTimeout(function(){if(self.term!=self.element.val()){self.selectedItem=null;self.search(null,event)}},self.options.delay);break}}).bind("keypress.autocomplete",function(event){if(suppressKeyPress){suppressKeyPress=false;event.preventDefault()}}).bind("focus.autocomplete",function(){if(self.options.disabled)return;self.selectedItem=null;self.previous=self.element.val()}).bind("blur.autocomplete",function(event){if(self.options.disabled)return;clearTimeout(self.searching);self.closing=setTimeout(function(){self.close(event);self._change(event)},150)});this._initSource();this.response=function(){return self._response.apply(self,arguments)};this.menu=$("<ul></ul>").addClass("ui-autocomplete").appendTo($(this.options.appendTo||"body",doc)[0]).mousedown(function(event){var menuElement=self.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length)setTimeout(function(){$(document).one('mousedown',function(event){if(event.target!==self.element[0]&&event.target!==menuElement&&!$.ui.contains(menuElement,event.target))self.close()})},1);setTimeout(function(){clearTimeout(self.closing)},13)}).menu({focus:function(event,ui){var item=ui.item.data("item.autocomplete");if(false!==self._trigger("focus",event,{item:item}))if(/^key/.test(event.originalEvent.type))self.element.val(item.value)},selected:function(event,ui){var item=ui.item.data("item.autocomplete"),previous=self.previous;if(self.element[0]!==doc.activeElement){self.element.focus();self.previous=previous;setTimeout(function(){self.previous=previous;self.selectedItem=item},1)};if(false!==self._trigger("select",event,{item:item}))self.element.val(item.value);self.term=self.element.val();self.close(event);self.selectedItem=item},blur:function(event,ui){if(self.menu.element.is(":visible")&&(self.element.val()!==self.term))self.element.val(self.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if($.fn.bgiframe)this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="source")this._initSource();if(key==="appendTo")this.menu.element.appendTo($(value||"body",this.element[0].ownerDocument)[0]);if(key==="disabled"&&value&&this.xhr)this.xhr.abort()},_initSource:function(){var self=this,array,url;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(self.xhr)self.xhr.abort();self.xhr=$.ajax({url:url,data:request,dataType:"json",autocompleteRequest:++requestIndex,success:function(data,status){if(this.autocompleteRequest===requestIndex)response(data)},error:function(){if(this.autocompleteRequest===requestIndex)response([])}})}}else this.source=this.options.source},search:function(value,event){value=value!=null?value:this.element.val();this.term=this.element.val();if(value.length<this.options.minLength)return this.close(event);clearTimeout(this.closing);if(this._trigger("search",event)===false)return;return this._search(value)},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:value},this.response)},_response:function(content){if(!this.options.disabled&&content&&content.length){content=this._normalize(content);this._suggest(content);this._trigger("open")}else this.close();this.pending--;if(!this.pending)this.element.removeClass("ui-autocomplete-loading")},close:function(event){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",event)}},_change:function(event){if(this.previous!==this.element.val())this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){if(items.length&&items[0].label&&items[0].value)return items;return $.map(items,function(item){if(typeof item==="string")return{label:item,value:item};return $.extend({label:item.label||item.value,value:item.value||item.label},item)})},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(ul,items);this.menu.deactivate();this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus)this.menu.next(new $.Event("mouseover"))},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(ul,items){var self=this;$.each(items,function(index,item){self._renderItem(ul,item)})},_renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append($("<a></a>").text(item.label)).appendTo(ul)},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return};if(this.menu.first()&&/^previous/.test(direction)||this.menu.last()&&/^next/.test(direction)){this.element.val(this.term);this.menu.deactivate();return};this.menu[direction](event)},widget:function(){return this.menu.element}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}})}(jQuery));(function($){$.widget("ui.menu",{_create:function(){var self=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(event){if(!$(event.target).closest(".ui-menu-item a").length)return;event.preventDefault();self.select(event)});this.refresh()},refresh:function(){var self=this,items=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");items.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(event){self.activate(event,$(this).parent())}).mouseleave(function(){self.deactivate()})},activate:function(event,item){this.deactivate();if(this.hasScroll()){var offset=item.offset().top-this.element.offset().top,scroll=this.element.attr("scrollTop"),elementHeight=this.element.height();if(offset<0){this.element.attr("scrollTop",scroll+offset)}else if(offset>=elementHeight)this.element.attr("scrollTop",scroll+offset-elementHeight+item.height())};this.active=item.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",event,{item:item})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(event){this.move("next",".ui-menu-item:first",event)},previous:function(event){this.move("prev",".ui-menu-item:last",event)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(direction,edge,event){if(!this.active){this.activate(event,this.element.children(edge));return};var next=this.active[direction+"All"](".ui-menu-item").eq(0);if(next.length){this.activate(event,next)}else this.activate(event,this.element.children(edge))},nextPage:function(event){if(this.hasScroll()){if(!this.active||this.last()){this.activate(event,this.element.children(".ui-menu-item:first"));return};var base=this.active.offset().top,height=this.element.height(),result=this.element.children(".ui-menu-item").filter(function(){var close=$(this).offset().top-base-height+$(this).height();return close<10&&close>-10});if(!result.length)result=this.element.children(".ui-menu-item:last");this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(event){if(this.hasScroll()){if(!this.active||this.first()){this.activate(event,this.element.children(".ui-menu-item:last"));return};var base=this.active.offset().top,height=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var close=$(this).offset().top-base+height-$(this).height();return close<10&&close>-10});if(!result.length)result=this.element.children(".ui-menu-item:first");this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(event){this._trigger("selected",event,{item:this.active})}})}(jQuery));(function($,undefined){$.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var self=this,options=self.options;self.running=0;self.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");self.headers=self.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(options.disabled)return;$(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(options.disabled)return;$(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(options.disabled)return;$(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(options.disabled)return;$(this).removeClass("ui-state-focus")});self.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(options.navigation){var current=self.element.find("a").filter(options.navigationFilter).eq(0);if(current.length){var header=current.closest(".ui-accordion-header");if(header.length){self.active=header}else self.active=current.closest(".ui-accordion-content").prev()}};self.active=self._findActive(self.active||options.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");self.active.next().addClass("ui-accordion-content-active");self._createIcons();self.resize();self.element.attr("role","tablist");self.headers.attr("role","tab").bind("keydown.accordion",function(event){return self._keydown(event)}).next().attr("role","tabpanel");self.headers.not(self.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();if(!self.active.length){self.headers.eq(0).attr("tabIndex",0)}else self.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0});if(!$.browser.safari)self.headers.find("a").attr("tabIndex",-1);if(options.event)self.headers.bind(options.event.split(" ").join(".accordion ")+".accordion",function(event){self._clickHandler.call(self,event,this);event.preventDefault()})},_createIcons:function(){var options=this.options;if(options.icons){$("<span></span>").addClass("ui-icon "+options.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(options.icons.header).toggleClass(options.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var options=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var contents=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(options.autoHeight||options.fillHeight)contents.css("height","");return $.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key=="active")this.activate(value);if(key=="icons"){this._destroyIcons();if(value)this._createIcons()};if(key=="disabled")this.headers.add(this.headers.next())[value?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(event){if(this.options.disabled||event.altKey||event.ctrlKey)return;var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._clickHandler({target:event.target},event.target);event.preventDefault()};if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();return false};return true},resize:function(){var options=this.options,maxHeight;if(options.fillSpace){if($.browser.msie){var defOverflow=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")};maxHeight=this.element.parent().height();if($.browser.msie)this.element.parent().css("overflow",defOverflow);this.headers.each(function(){maxHeight-=$(this).outerHeight(true)});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else if(options.autoHeight){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight)};return this},activate:function(index){this.options.active=index;var active=this._findActive(index)[0];this._clickHandler({target:active},active);return this},_findActive:function(selector){return selector?typeof selector==="number"?this.headers.filter(":eq("+selector+")"):this.headers.not(this.headers.not(selector)):selector===false?$([]):this.headers.filter(":eq(0)")},_clickHandler:function(event,target){var options=this.options;if(options.disabled)return;if(!event.target){if(!options.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header);this.active.next().addClass("ui-accordion-content-active");var toHide=this.active.next(),data={options:options,newHeader:$([]),oldHeader:options.active,newContent:$([]),oldContent:toHide},toShow=(this.active=$([]));this._toggle(toShow,toHide,data);return};var clicked=$(event.currentTarget||target),clickedIsActive=clicked[0]===this.active[0];options.active=options.collapsible&&clickedIsActive?false:this.headers.index(clicked);if(this.running||(!options.collapsible&&clickedIsActive))return;var active=this.active,toShow=clicked.next(),toHide=this.active.next(),data={options:options,newHeader:clickedIsActive&&options.collapsible?$([]):clicked,oldHeader:this.active,newContent:clickedIsActive&&options.collapsible?$([]):toShow,oldContent:toHide},down=this.headers.index(this.active[0])>this.headers.index(clicked[0]);this.active=clickedIsActive?$([]):clicked;this._toggle(toShow,toHide,data,clickedIsActive,down);active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header);if(!clickedIsActive){clicked.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(options.icons.header).addClass(options.icons.headerSelected);clicked.next().addClass("ui-accordion-content-active")};return},_toggle:function(toShow,toHide,data,clickedIsActive,down){var self=this,options=self.options;self.toShow=toShow;self.toHide=toHide;self.data=data;var complete=function(){if(!self)return;return self._completed.apply(self,arguments)};self._trigger("changestart",null,self.data);self.running=toHide.size()===0?toShow.size():toHide.size();if(options.animated){var animOptions={};if(options.collapsible&&clickedIsActive){animOptions={toShow:$([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace}}else animOptions={toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace};if(!options.proxied)options.proxied=options.animated;if(!options.proxiedDuration)options.proxiedDuration=options.duration;options.animated=$.isFunction(options.proxied)?options.proxied(animOptions):options.proxied;options.duration=$.isFunction(options.proxiedDuration)?options.proxiedDuration(animOptions):options.proxiedDuration;var animations=$.ui.accordion.animations,duration=options.duration,easing=options.animated;if(easing&&!animations[easing]&&!$.easing[easing])easing="slide";if(!animations[easing])animations[easing]=function(options){this.slide(options,{easing:easing,duration:duration||700})};animations[easing](animOptions)}else{if(options.collapsible&&clickedIsActive){toShow.toggle()}else{toHide.hide();toShow.show()};complete(true)};toHide.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();toShow.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(cancel){this.running=cancel?0:--this.running;if(this.running)return;if(this.options.clearStyle)this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length)this.toHide.parent()[0].className=this.toHide.parent()[0].className;this._trigger("change",null,this.data)}});$.extend($.ui.accordion,{version:"1.8.11",animations:{slide:function(options,additions){options=$.extend({easing:"swing",duration:300},options,additions);if(!options.toHide.size()){options.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},options);return};if(!options.toShow.size()){options.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},options);return};var overflow=options.toShow.css("overflow"),percentDone=0,showProps={},hideProps={},fxAttrs=["height","paddingTop","paddingBottom"],originalWidth,s=options.toShow;originalWidth=s[0].style.width;s.width(parseInt(s.parent().width(),10)-parseInt(s.css("paddingLeft"),10)-parseInt(s.css("paddingRight"),10)-(parseInt(s.css("borderLeftWidth"),10)||0)-(parseInt(s.css("borderRightWidth"),10)||0));$.each(fxAttrs,function(i,prop){hideProps[prop]="hide";var parts=(""+$.css(options.toShow[0],prop)).match(/^([\d+-.]+)(.*)$/);showProps[prop]={value:parts[1],unit:parts[2]||"px"}});options.toShow.css({height:0,overflow:"hidden"}).show();options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate(hideProps,{step:function(now,settings){if(settings.prop=="height")percentDone=(settings.end-settings.start===0)?0:(settings.now-settings.start)/(settings.end-settings.start);options.toShow[0].style[settings.prop]=(percentDone*showProps[settings.prop].value)+showProps[settings.prop].unit},duration:options.duration,easing:options.easing,complete:function(){if(!options.autoHeight)options.toShow.css("height","");options.toShow.css({width:originalWidth,overflow:overflow});options.complete()}})},bounceslide:function(options){this.slide(options,{easing:options.down?"easeOutBounce":"swing",duration:options.down?1000:200})}}})})(jQuery);(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var self=this,o=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");if(o.disabled)this.element.addClass("ui-slider-disabled ui-disabled");this.range=$([]);if(o.range){if(o.range===true){this.range=$("<div></div>");if(!o.values)o.values=[this._valueMin(),this._valueMin()];if(o.values.length&&o.values.length!==2)o.values=[o.values[0],o.values[0]]}else this.range=$("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(o.range==="min"||o.range==="max")this.range.addClass("ui-slider-range-"+o.range);this.range.addClass("ui-widget-header")};if($(".ui-slider-handle",this.element).length===0)$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(o.values&&o.values.length)while($(".ui-slider-handle",this.element).length<o.values.length)$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=$(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(event){event.preventDefault()}).hover(function(){if(!o.disabled)$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){if(!o.disabled){$(".ui-slider .ui-state-focus").removeClass("ui-state-focus");$(this).addClass("ui-state-focus")}else $(this).blur()}).blur(function(){$(this).removeClass("ui-state-focus")});this.handles.each(function(i){$(this).data("index.ui-slider-handle",i)});this.handles.keydown(function(event){var ret=true,index=$(this).data("index.ui-slider-handle"),allowed,curVal,newVal,step;if(self.options.disabled)return;switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:ret=false;if(!self._keySliding){self._keySliding=true;$(this).addClass("ui-state-active");allowed=self._start(event,index);if(allowed===false)return};break};step=self.options.step;if(self.options.values&&self.options.values.length){curVal=newVal=self.values(index)}else curVal=newVal=self.value();switch(event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax())return;newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin())return;newVal=self._trimAlignValue(curVal-step);break};self._slide(event,index,newVal);return ret}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");if(self._keySliding){self._keySliding=false;self._stop(event,index);self._change(event,index);$(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(event){var o=this.options,position,normValue,distance,closestHandle,self,index,allowed,offset,mouseOverHandle;if(o.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;self=this;this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));if(distance>thisDistance){distance=thisDistance;closestHandle=$(this);index=i}});if(o.range===true&&this.values(1)===o.min){index+=1;closestHandle=$(this.handles[index])};allowed=this._start(event,index);if(allowed===false)return false;this._mouseSliding=true;self._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-(closestHandle.height()/2)-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover"))this._slide(event,index,normValue);this._animateOff=true;return true},_mouseStart:function(event){return true},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)};percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1)percentMouse=1;if(percentMouse<0)percentMouse=0;if(this.orientation==="vertical")percentMouse=1-percentMouse;valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()};return this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal)))newVal=otherVal;if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false)this.values(index,newVal,true)}}else if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false)this.value(newVal)}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()};this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()};this._trigger("change",event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0)};return this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index)};if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i)};this._refreshValue()}else if(this.options.values&&this.options.values.length){return this._values(index)}else return this.value()}else return this._values()},_setOption:function(key,value){var i,valsLength=0;if($.isArray(this.options.values))valsLength=this.options.values.length;$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"disabled":if(value){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")};break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=false;break}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val}else{vals=this.options.values.slice();for(i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals}},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step;alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step)alignValue+=(valModStep>0)?step:(-step);return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var oRange=this.options.range,o=this.options,self=this,animate=(!this._animateOff)?o.animate:false,valPercent,_set={},lastValPercent,value,valueMin,valueMax;if(this.options.values&&this.options.values.length){this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(self.options.range===true)if(self.orientation==="horizontal"){if(i===0)self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);if(i===1)self.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate})}else{if(i===0)self.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);if(i===1)self.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate})};lastValPercent=valPercent})}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);if(oRange==="max"&&this.orientation==="horizontal")this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});if(oRange==="min"&&this.orientation==="vertical")this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);if(oRange==="max"&&this.orientation==="vertical")this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate})}}});$.extend($.ui.slider,{version:"1.8.11"})}(jQuery));(function($,undefined){var tabId=0,listId=0
function getNextTabId(){return ++tabId}
function getNextListId(){return ++listId};$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(key,value){if(key=="selected"){if(this.options.collapsible&&value==this.options.selected)return;this.select(value)}else{this.options[key]=value;this._tabify()}},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+getNextTabId()},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:")},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)))},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs")})},_tabify:function(init){var self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=$(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return $("a",this)[0]});this.panels=$([]);this.anchors.each(function(i,a){var href=$(a).attr("href"),hrefBase=href.split("#")[0],baseEl;if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)){href=a.hash;a.href=href};if(fragmentId.test(href)){self.panels=self.panels.add(self.element.find(self._sanitizeSelector(href)))}else if(href&&href!=="#"){$.data(a,"href.tabs",href);$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=self.element.find("#"+id);if(!$panel.length){$panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list);$panel.data("destroy.tabs",true)};self.panels=self.panels.add($panel)}else o.disabled.push(i)});if(init){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(o.selected===undefined){if(location.hash)this.anchors.each(function(i,a){if(a.hash==location.hash){o.selected=i;return false}});if(typeof o.selected!=="number"&&o.cookie)o.selected=parseInt(self._cookie(),10);if(typeof o.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length)o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));o.selected=o.selected||(this.lis.length?0:-1)}else if(o.selected===null)o.selected=-1;o.selected=((o.selected>=0&&this.anchors[o.selected])||o.selected<0)?o.selected:0;o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n)}))).sort();if($.inArray(o.selected,o.disabled)!=-1)o.disabled.splice($.inArray(o.selected,o.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(o.selected>=0&&this.anchors.length){self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active");self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash))[0]))});this.load(o.selected)};$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs");self.lis=self.anchors=self.panels=null})}else o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(o.cookie)this._cookie(o.selected,o.cookie);for(var i=0,li;(li=this.lis[i]);i++)$(li)[$.inArray(i,o.disabled)!=-1&&!$(li).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");if(o.cache===false)this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(o.event!=="mouseover"){var addState=function(state,el){if(el.is(":not(.ui-state-disabled)"))el.addClass("ui-state-"+state)},removeState=function(state,el){el.removeClass("ui-state-"+state)};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this))});this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this))});this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"))});this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"))})};var hideFx,showFx;if(o.fx)if($.isArray(o.fx)){hideFx=o.fx[0];showFx=o.fx[1]}else hideFx=showFx=o.fx
function resetStyle($el,fx){$el.css("display","");if(!$.support.opacity&&fx.opacity)$el[0].style.removeAttribute("filter")};var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx);self._trigger("show",null,self._ui(clicked,$show[0]))})}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.removeClass("ui-tabs-hide");self._trigger("show",null,self._ui(clicked,$show[0]))},hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");resetStyle($hide,hideFx);self.element.dequeue("tabs")})}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");self.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=self.element.find(self._sanitizeSelector(el.hash));if(($li.hasClass("ui-tabs-selected")&&!o.collapsible)||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||self._trigger("select",null,self._ui(this,$show[0]))===false){this.blur();return false};o.selected=self.anchors.index(this);self.abort();if(o.collapsible)if($li.hasClass("ui-tabs-selected")){o.selected=-1;if(o.cookie)self._cookie(o.selected,o.cookie);self.element.queue("tabs",function(){hideTab(el,$hide)}).dequeue("tabs");this.blur();return false}else if(!$hide.length){if(o.cookie)self._cookie(o.selected,o.cookie);self.element.queue("tabs",function(){showTab(el,$show)});self.load(self.anchors.index(this));this.blur();return false};if(o.cookie)self._cookie(o.selected,o.cookie);if($show.length){if($hide.length)self.element.queue("tabs",function(){hideTab(el,$hide)});self.element.queue("tabs",function(){showTab(el,$show)});self.load(self.anchors.index(this))}else throw "jQuery UI Tabs: Mismatching fragment identifier.";if($.browser.msie)this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(index){if(typeof index=="string")index=this.anchors.index(this.anchors.filter("[href$="+index+"]"));return index},destroy:function(){var o=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var href=$.data(this,"href.tabs");if(href)this.href=href;var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if($.data(this,"destroy.tabs")){$(this).remove()}else $(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))});if(o.cookie)this._cookie(null,o.cookie);return this},add:function(url,label,index){if(index===undefined)index=this.anchors.length;var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=!url.indexOf("#")?url.replace("#",""):this._tabId($("a",$li)[0]);$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var $panel=self.element.find("#"+id);if(!$panel.length)$panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",true);$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(index>=this.lis.length){$li.appendTo(this.list);$panel.appendTo(this.list[0].parentNode)}else{$li.insertBefore(this.lis[index]);$panel.insertBefore(this.panels[index])};o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n});this._tabify();if(this.anchors.length==1){o.selected=0;$li.addClass("ui-tabs-selected ui-state-active");$panel.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]))});this.load(0)};this._trigger("add",null,this._ui(this.anchors[index],this.panels[index]));return this},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();if($li.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(index+(index+1<this.anchors.length?1:-1));o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index}),function(n,i){return n>=index?--n:n});this._tabify();this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0]));return this},enable:function(index){index=this._getIndex(index);var o=this.options;if($.inArray(index,o.disabled)==-1)return;this.lis.eq(index).removeClass("ui-state-disabled");o.disabled=$.grep(o.disabled,function(n,i){return n!=index});this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index]));return this},disable:function(index){index=this._getIndex(index);var self=this,o=this.options;if(index!=o.selected){this.lis.eq(index).addClass("ui-state-disabled");o.disabled.push(index);o.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))};return this},select:function(index){index=this._getIndex(index);if(index==-1)if(this.options.collapsible&&this.options.selected!=-1){index=this.options.selected}else return this;this.anchors.eq(index).trigger(this.options.event+".tabs");return this},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");this.abort();if(!url||this.element.queue("tabs").length!==0&&$.data(a,"cache.tabs")){this.element.dequeue("tabs");return};this.lis.eq(index).addClass("ui-state-processing");if(o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner)};this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){self.element.find(self._sanitizeSelector(a.hash)).html(r);self._cleanup();if(o.cache)$.data(a,"cache.tabs",true);self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s)}catch(e){}},error:function(xhr,s,e){self._cleanup();self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a)}catch(e){}}}));self.element.dequeue("tabs");return this},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr};this._cleanup();return this},url:function(index,url){this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url);return this},length:function(){return this.anchors.length}});$.extend($.ui.tabs,{version:"1.8.11"});$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options,rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation);self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0)},ms);if(e)e.stopPropagation()}),stop=self._unrotate||(self._unrotate=!continuing?function(e){if(e.clientX)self.rotate(null)}:function(e){t=o.selected;rotate()});if(ms){this.element.bind("tabsshow",rotate);this.anchors.bind(o.event+".tabs",stop);rotate()}else{clearTimeout(self.rotation);this.element.unbind("tabsshow",rotate);this.anchors.unbind(o.event+".tabs",stop);delete this._rotate;delete this._unrotate};return this}})})(jQuery);(function($){})(jQuery);(function($){$.toJSON=function(o){if(typeof (JSON)=='object'&&JSON.stringify)return JSON.stringify(o);var type=typeof (o);if(o===null)return"null";if(type=="undefined")return undefined;if(type=="number"||type=="boolean")return o+"";if(type=="string")return $.quoteString(o);if(type=='object'){if(typeof o.toJSON=="function")return $.toJSON(o.toJSON());if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10)month='0'+month;var day=o.getUTCDate();if(day<10)day='0'+day;var year=o.getUTCFullYear(),hours=o.getUTCHours();if(hours<10)hours='0'+hours;var minutes=o.getUTCMinutes();if(minutes<10)minutes='0'+minutes;var seconds=o.getUTCSeconds();if(seconds<10)seconds='0'+seconds;var milli=o.getUTCMilliseconds();if(milli<100)milli='0'+milli;if(milli<10)milli='0'+milli;return'"'+year+'-'+month+'-'+day+'T'+hours+':'+minutes+':'+seconds+'.'+milli+'Z"'};if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++)ret.push($.toJSON(o[i])||"null");return"["+ret.join(",")+"]"};var pairs=[];for(var k in o){var name,type=typeof k;if(type=="number"){name='"'+k+'"'}else if(type=="string"){name=$.quoteString(k)}else continue;if(typeof o[k]=="function")continue;var val=$.toJSON(o[k]);pairs.push(name+":"+val)};return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof (JSON)=='object'&&JSON.parse)return JSON.parse(src);return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof (JSON)=='object'&&JSON.parse)return JSON.parse(src);var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,'@');filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(string){if(string.match(_escapeable))return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==='string')return c;c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"';return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'}})(jQuery);window.Observable=function(instance){instance._listeners={};instance.attach=function(type,handler){Observable.attach.call(instance,type,handler)};instance.detach=function(type,handler){Observable.detach.call(instance,type,handler)};instance.notify=function(evt,data){Observable.notify.call(instance,evt,data)}};Observable.attach=function(type,handler){if(typeof (handler)!=='function')return;if(!this._listeners[type])this._listeners[type]=[];this._listeners[type].push(handler)};Observable.detach=function(type,handler){if(!this._listeners[type]){for(var _type in this._listeners)this.detach(_type);return};if(typeof (handler)!=='function'){delete this._listeners[type]}else for(var idx=(this._listeners[type].length-1),handler;idx>=0;idx--)if(this._listeners[type][idx]===handler)this._listeners[type].splice(idx,1)};Observable.notify=function(evt,data){if(typeof (evt)==='string')evt={type:evt};if(!evt||!evt.type){window.log('Observable.notify:: ERROR: Invalid event');return};if(!this._listeners[evt.type]){window.log('Observable.notify:: NOTICE: No listeners for '+evt.type);return};for(var idx=0,len=this._listeners[evt.type].length,handler;idx<len;idx++)this._listeners[evt.type][idx](evt,data)};(function($){$.fn.ellipsis=function(enableUpdating){var s=document.documentElement.style;if(!('textOverflow' in s||'OTextOverflow' in s)){return this.each(function(){var el=$(this);if(el.css("overflow")=="hidden"){var originalText=el.html(),w=el.width(),t=$(this.cloneNode(true)).hide().css({position:'absolute',width:'auto',overflow:'visible','max-width':'inherit'});el.after(t);var text=originalText;while(text.length>0&&t.width()>el.width()){text=text.substr(0,text.length-1);t.html(text+"...")};el.html(t.html());t.remove();if(enableUpdating==true){var oldW=el.width();setInterval(function(){if(el.width()!=oldW){oldW=el.width();el.html(originalText);el.ellipsis()}},200)}}})}else return this}})(jQuery);(function($,window,undefined){$.fn.replaceClass=function(pattern,className){var re=new RegExp('(\\s'+pattern+'|'+pattern+'\\s|'+pattern+')','g');return this.each(function(idx){var $this=$(this);$this[0].className=$this[0].className.replace(re,'');$this.addClass(className)})}})(jQuery,this);(function($){if(!document.defaultView||!document.defaultView.getComputedStyle){var oldCurCSS=$.curCSS;$.curCSS=function(elem,name,force){var curStyle=elem.currentStyle,ret;if(name==='font-size')name='fontSize';if((name!=='clip'&&name!=='fontSize')||!curStyle)return oldCurCSS.apply(this,arguments);var style=elem.style;if(!force&&style)ret=style[name];if(name==='clip'){ret=ret||'rect('+(curStyle.clipTop||'auto')+' '+(curStyle.clipRight||'auto')+' '+(curStyle.clipBottom||'auto')+' '+(curStyle.clipLeft||'auto')+')'}else{ret=ret||curStyle.fontSize;if(!(/px/.test(ret))){var width=style.width,rsWidth=elem.runtimeStyle.width;elem.runtimeStyle.width=elem.currentStyle.width;style.width='100em';ret=style.pixelWidth/100+"px";style.width=width;elem.runtimeStyle.width=rsWidth}};return ret}}})(jQuery);(function($){var calcClipAuto=[function(){return 0},function(elem){return $(elem).outerWidth()},function(elem){return $(elem).outerHeight()},function(elem){return 0}],calcNumClip=function(prop,elem){return((/em/.test(prop)))?(parseFloat($.curCSS(elem,'fontSize'),10)||1)*(parseFloat(prop,10)||0):(parseInt(prop,10)||0)},calcClip=function(css,fx,isEnd){var ret=[];if(css==='auto')css='rect(auto auto auto auto)';css=css.replace(/rect\(|\)/g,'').split(/,\s*|\s/);if(isEnd)fx.endClipStyle='rect('+css.join(' ')+')';for(var i=0;i<css.length;i++)ret[i]=(css[i]!=='auto')?calcNumClip(css[i],fx.elem):calcClipAuto[i](fx.elem);return ret};jQuery.fx.step.clip=function(fx){if(!fx.clipInit){fx.start=calcClip($.curCSS(fx.elem,'clip'),fx);fx.end=calcClip(fx.end,fx,true);fx.elmStyle=fx.elem.style;fx.clipInit=true};fx.elmStyle.clip='rect('+(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0])+'px '+(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1])+'px '+(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2])+'px '+(fx.pos*(fx.end[3]-fx.start[3])+fx.start[3])+'px)';if(fx.pos===1&&fx.endClipStyle)fx.elmStyle.clip=fx.endClipStyle}})(jQuery);(function($,window,undefined){'$:nomunge';var elems=$([]),jq_resize=$.resize=$.extend($.resize,{}),timeout_id,str_setTimeout='setTimeout',str_resize='resize',str_data=str_resize+'-special-event',str_delay='delay',str_throttle='throttleWindow';jq_resize[str_delay]=250;jq_resize[str_throttle]=true;$.event.special[str_resize]={setup:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return false;var elem=$(this);elems=elems.add(elem);$.data(this,str_data,{w:elem.width(),h:elem.height()});if(elems.length===1)loopy()},teardown:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return false;var elem=$(this);elems=elems.not(elem);elem.removeData(str_data);if(!elems.length)clearTimeout(timeout_id)},add:function(handleObj){if(!jq_resize[str_throttle]&&this[str_setTimeout])return false;var old_handler
function new_handler(e,w,h){var elem=$(this),data=$.data(this,str_data);data.w=w!==undefined?w:elem.width();data.h=h!==undefined?h:elem.height();old_handler.apply(this,arguments)};if($.isFunction(handleObj)){old_handler=handleObj;return new_handler}else{old_handler=handleObj.handler;handleObj.handler=new_handler}}}
function loopy(){timeout_id=window[str_setTimeout](function(){elems.each(function(){var elem=$(this),width=elem.width(),height=elem.height(),data=$.data(this,str_data);if(width!==data.w||height!==data.h)elem.trigger(str_resize,[data.w=width,data.h=height])});loopy()},jq_resize[str_delay])}})(jQuery,this);jQuery.cookie=function(key,value,options){if(arguments.length>1&&(value===null||typeof value!=="object")){options=jQuery.extend({},options);if(value===null)options.expires=-1;if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)};return(document.cookie=[encodeURIComponent(key),'=',options.raw?String(value):encodeURIComponent(String(value)),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''))};options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null};(function($,window,undefined){$.fn.textWidth=function(){var sensor=$('<span style="display:block;float:none;clear:both;"></span>').css({margin:0,padding:0});$(this).append(sensor);var width=sensor.width();sensor.remove();return width}})(jQuery,this);(function($,window,undefined){if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){var css={position:'absolute',display:'block',zoom:1,'z-index':0,overflow:'hidden','background-color':'#000000'},positions={relative:1,absolute:1,fixed:1},colorToHex=function(color){if(color.substr(0,1)==='#')return{color:color,alpha:1};var digits=/^rgba?\((\d+),\s?(\d+),\s?(\d+),?\s?(0?\.?\d+)?\)$/.exec(color);if(!digits||digits.length<3){window.log('colorToHex:: unable to convert color to hex: '+color);return{color:'#000000',alpha:1}};var red=parseInt(digits[1]),green=parseInt(digits[2]),blue=parseInt(digits[3]),alpha=(digits.length===5)?Number(digits[4]):1,rgb=(red<<16)|(green<<8)|blue;return{color:('#'+rgb.toString(16)),alpha:alpha}};$.fn.boxshadow=function(){return this.each(function(idx){var $this=$(this),color,shadow=$.trim($this[0].currentStyle['box-shadow']||'');if(shadow.length===0){window.log('$.boxshadow:: no shadow css');return true};var shadows=shadow.split(' #');if(shadows.length===2){color='#'+shadows[1]}else{shadows=shadow.split(' rgb(');if(shadows.length===2){color='rgb('+shadows[1]}else{shadows=shadow.split(' rgba(');if(shadows.length===2){color='rgba('+shadows[1]}else{window.log('$.boxshadow:: cannot parse shadow (color): '+shadow);return true}}};color=colorToHex(color);var hex=color.color,alpha=color.alpha,px=shadows[0].split(' ');if(px.length!==3){window.log('$.boxshadow:: cannot parse shadow (px)');return true};var offsetX=parseInt(px[0].replace(/\D/g,'')||0),offsetY=parseInt(px[1].replace(/\D/g,'')||0),strength=parseInt(px[2].replace(/\D/g,'')||0);if(!positions[$this.css('position').toLowerCase()])$this.css('position','relative');var zIndex=$this.css('z-index');if(isNaN(zIndex)||zIndex<1)$this.css('z-index',1);var pos=$this.position(),left=(pos.left-strength+offsetX),top=(pos.top-strength+offsetY),width=($this.outerWidth()+strength+offsetX),height=($this.outerHeight()+(strength/2)+offsetY),_css=$.extend({left:(left+'px'),top:(top+'px'),width:(width+'px'),height:(height+'px'),filter:'progid:DXImageTransform.Microsoft.Blur(PixelRadius=\''+(strength/2)+'\',MakeShadow=\'true\',ShadowOpacity=\''+alpha+'\',Enabled=\'true\')','background-color':hex},css);$this.before('<i class="hk-shadow"></i>').siblings('.hk-shadow').css(_css)})}}else $.fn.boxshadow=function(){return this}})(jQuery,this);(function($,window,undefined){if($.browser.msie)window.onbeforeunload=function(){window.log('Flash IE __flash__removeCallback bug fix');window.__flash__removeCallback=function(instance,name){if(instance)instance[name]=null}};$.flashProxy={getSWF:function(swfName){var swf=null;if(document[swfName]){swf=document[swfName]||null}else if(window[swfName]){swf=window[swfName]||null}else if(document.embeds)swf=document.embeds[swfName]||null;return swf},removeSWF:function(swfId){var swf=$.flashProxy.getSWF(swfId);for(var name in {_callbacks:1,_events:1,_data:1})if($.flashProxy[name][swfId])delete $.flashProxy[name][swfId];if(window.CollectGarbage)CollectGarbage();if(!swf)return;if($.browser.msie&&swf.nodeName.toLowerCase()==='object'&&swf.readyState!==4){window.log('$.flashProxy.removeSWF:: IE - begin removing swf');swf.style.display='none';(function(){if(swf.readyState==4){swf.parentNode.removeChild(swf);if(window.CollectGarbage)CollectGarbage();window.log('$.flashProxy.removeSWF:: IE - swf removed removing swf')}else{setTimeout(arguments.callee,10);return}})()}else{swf.parentNode.removeChild(swf);if(window.CollectGarbage)CollectGarbage();window.log('$.flashProxy.removeSWF:: swf removed')}},_callbacks:{},onload:function(swfId,callback){$.flashProxy._callbacks[swfId]=callback},_events:{},bind:function(swfId,type,handler){if(!swfId||!type||typeof (handler)!=='function')return;var events=$.flashProxy._events[swfId];if(!events)events=$.flashProxy._events[swfId]={};var types=events[type];if(!types)types=events[type]=[];types[types.length]=handler},_data:{},data:function(swfId,key){var data=$.flashProxy._data[swfId];if(!data)data=$.flashProxy._data[swfId]={};if(arguments.length>2){data[key]=arguments[2]}else return data[key]},load:function(swfId){var swf=$.flashProxy.getSWF(swfId);if(!swf){window.setTimeout(function(){$.flashProxy.load(swfId)},100);return};var callback=$.flashProxy._callbacks[swfId];$.flashProxy._callbacks[swfId]={};delete $.flashProxy._callbacks[swfId];if(swf&&$.isFunction(callback))callback.call(swf)},trigger:function(swfId,evt){var swf=$.flashProxy.getSWF(swfId);if(!swf)return;var events=$.flashProxy._events[swfId];if(!events)return;var types=events[evt.type];if(!types)return;for(var idx=0,len=types.length;idx<len;idx++)try{types[idx].call(swf,evt)}catch(ex){}},callFlash:function(swfId,method){if(typeof (method)!=='string'||method.length===0)return this;var swf=$.flashProxy.getSWF(swfId);if(!swf||typeof (swf.jsProxy)!=='function')return;var args=$.makeArray(arguments).slice(2);try{return swf.jsProxy(method,args)}catch(ex){window.log('$.flashProxy.callFlash("'+swfId+'", "'+method+'") ERROR:: '+ex.message)}}}
function hasFlashVersion(ver){var currentVer='0,0,0';if(window.ActiveXObject){try{new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6').AllowScriptAccess='always'}catch(ex){currentVer='6,0,0'};if(currentVer==='0,0,0')try{currentVer=new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1]}catch(ex){}}else try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)currentVer=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(ex){};ver=ver.toString().split('.');while(ver.length<3)ver[ver.length]='0';var pv=currentVer.match(/\d+/g),rv=String([ver[0],ver[1],ver[2]]).match(/\d+/g);for(var idx=0;idx<3;idx++){pv[idx]=parseInt(pv[idx]||0);rv[idx]=parseInt(rv[idx]||0);if(pv[idx]<rv[idx])return false;if(pv[idx]>rv[idx])return true};return true};$.getFlash=function(src,w,h,ver,expressPath,flashvars,params,attributes){if(!ver)ver='10.1.0';flashvars=$.extend({},flashvars);flashvars.toString=function(){var s=[];for(var key in this){if(typeof (this[key])==='function')continue;s[s.length]=key+'='+encodeURIComponent(this[key])};return s.join('&amp;')};params=$.extend({allowscriptaccess:'always',allowfullscreen:true,wmode:'transparent',bgcolor:'#000000',quality:'best'},params);var html=[];if($.browser.msie){html[html.length]='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';html[html.length]=' id="';html[html.length]=attributes.id;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" data="';html[html.length]=src;html[html.length]='"';html[html.length]='" type="application/x-shockwave-flash"';html[html.length]='" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab">';html[html.length]='<param name="movie" value="';html[html.length]=src;html[html.length]='" />';html[html.length]='<param name="flashvars" value="';html[html.length]=flashvars.toString();html[html.length]='" />';for(var prop in params){html[html.length]='<param name="';html[html.length]=prop;html[html.length]='" value="';html[html.length]=params[prop];html[html.length]='" />'};html[html.length]='</object>'}else{html[html.length]='<embed';html[html.length]=' id="';html[html.length]=attributes.id;html[html.length]='" name="';html[html.length]=attributes.id;html[html.length]='" src="';html[html.length]=src;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" flashvars="';html[html.length]=flashvars.toString();html[html.length]='"';for(var prop in params){html[html.length]=' ';html[html.length]=prop;html[html.length]='="';html[html.length]=params[prop];html[html.length]='"'};html[html.length]=' swliveconnect="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">';html[html.length]='</embed>'};return html.join('')};$.fn.flash=function(src,w,h,ver,expressPath,flashvars,params,attributes,callbacks,flashEvents,append){if(!ver)ver='10.1.0';flashvars=$.extend({},flashvars);flashvars.toString=function(){var s=[];for(var key in this){if(typeof (this[key])==='function')continue;s[s.length]=key+'='+encodeURIComponent(this[key])};return s.join('&amp;')};params=$.extend({allowscriptaccess:'always',allowfullscreen:true,wmode:'transparent',bgcolor:'#000000',quality:'best'},params);callbacks=$.extend({update:function(){var $this=$(this);$this.html('<p>This content requires the Flash Player '+ver+'  or above. <a href="http://www.adobe.com/go/getflashplayer" target="_blank">Download Flash Player</a></p><div class="alt">'+$this.html()+'</div>').parent().addClass('flash-update')},load:function(){}},callbacks);flashEvents=$.extend({},flashEvents);return this.each(function(idx){var _attributes=$.extend({id:(this.id+'-obj')},attributes),_callbacks=$.extend({replace:function(){var html=[];if($.browser.msie){html[html.length]='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';html[html.length]=' id="';html[html.length]=_attributes.id;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" data="';html[html.length]=src;html[html.length]='"';html[html.length]='" type="application/x-shockwave-flash"';html[html.length]='" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab">';html[html.length]='<param name="movie" value="';html[html.length]=src;html[html.length]='" />';html[html.length]='<param name="flashvars" value="';html[html.length]=flashvars.toString();html[html.length]='" />';for(var prop in params){html[html.length]='<param name="';html[html.length]=prop;html[html.length]='" value="';html[html.length]=params[prop];html[html.length]='" />'};html[html.length]='</object>'}else{html[html.length]='<embed';html[html.length]=' id="';html[html.length]=_attributes.id;html[html.length]='" name="';html[html.length]=_attributes.id;html[html.length]='" src="';html[html.length]=src;html[html.length]='" width="';html[html.length]=w;html[html.length]='" height="';html[html.length]=h;html[html.length]='" flashvars="';html[html.length]=flashvars.toString();html[html.length]='"';for(var prop in params){html[html.length]=' ';html[html.length]=prop;html[html.length]='="';html[html.length]=params[prop];html[html.length]='"'};html[html.length]=' swliveconnect="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">';html[html.length]='</embed>'};var method=(append===true)?'prepend':'html';$(this)[method](html.join('')).addClass('flash-replaced')}},callbacks);if(hasFlashVersion(ver)){$.flashProxy.onload(_attributes.id,function(){for(var prop in flashEvents)$.flashProxy.bind(this.id,prop,flashEvents[prop]);_callbacks.load.call(this)});_callbacks.replace.call(this)}else _callbacks.update.call(this)})}})(jQuery,this);(function($,window,undefined){$.fn.placeholder=function(){if(!('placeholder' in document.createElement('input'))){function onElmFocus(evt){var $elm=$(this);if($.trim($elm.val())===$.trim($elm.attr('placeholder'))){$elm.val('');$elm.removeClass('default-text')};if($elm.attr('type')==='password')$elm.siblings('.default-password').hide()};function onElmBlur(evt){var $elm=$(this);if($.trim($elm.val()).length===0){$elm.addClass('default-text').val($.trim($elm.attr('placeholder')));if($elm.attr('type')==='password')$elm.siblings('.default-password').show()}};function onLabelClick(evt){$(this).data('elm').focus()};function onFormSubmit(evt){$(this).find('input:text[placeholder],input:password[placeholder],textarea[placeholder]').each(function(idx){var $elm=$(this),placeholder=$.trim($elm.attr('placeholder'));if(placeholder.length===0)return true;if($.trim($elm.val())===placeholder)$elm.val('')})};return this.each(function(idx){$(this).find('input:text[placeholder],input:password[placeholder],textarea[placeholder]').each(function(_idx){var $elm=$(this),placeholder=$.trim($elm.attr('placeholder'));if(placeholder.length===0)return true;if($elm.attr('type')==='password')$elm.after($('<label class="default-password">Password</label>').data('elm',$elm).click(onLabelClick));$elm.focus(onElmFocus).blur(onElmBlur);var val=$.trim($elm.val());if(val.length===0)$elm.val((val=placeholder));if(placeholder===val)$elm.addClass('default-text');var $form=$(this.form);if(!$form.data('handlerSet'))$form.submit(onFormSubmit).data('handlerSet',true)})})}else return this};$(document.body).placeholder()})(jQuery,this);(function($,undefined){$('.input-text input').live('focus',function(e){$(this).parent().parent().addClass('focus')});$('.input-text input').live('blur',function(e){$(this).parent().parent().removeClass('focus')})})(jQuery);(function($,window,undefined){function restrict($container,$elm,max){var placeholder=$.trim($elm.attr('placeholder'));$container.text((placeholder.length>0&&$elm.val()===placeholder)?max:(max-$elm.val().length))};$.fn.charCounter=function(max,settings){settings=$.extend({container:'<span></span>',classname:'charcounter',delay:0},settings);max=max||100;var timeout
function count(elm,$container){var $elm=$(elm),val=$elm.val();if(val.length>max)$elm.val(val.substring(0,max));if(settings.delay>0){if(timeout)window.clearTimeout(timeout);timeout=window.setTimeout(function(){restrict($container,$elm,max)},settings.delay)}else restrict($container,$elm,max)};return this.each(function(idx){var $container;if(!settings.container.match(/^<.+>$/)){$container=$(settings.container)}else{$(this).next('.'+settings.classname).remove();$container=$(settings.container).insertAfter(this).addClass(settings.classname)};var countMe=function(){count(this,$container)};$(this).unbind('.charCounter').bind('keydown.charCounter',countMe).bind('keypress.charCounter',countMe).bind('keyup.charCounter',countMe).bind('focus.charCounter',countMe).bind('mouseover.charCounter',countMe).bind('mouseout.charCounter',countMe).bind('paste.charCounter',$.proxy(function(){window.setTimeout($.proxy(countMe,this),10)},this));if(this.addEventListener)this.addEventListener('input',countMe,false);$.proxy(countMe,this)()})}})(jQuery,this);jQuery.fn.loading=function(isLoading,settings){settings=jQuery.extend({opacity:0.3},settings);var $elm=jQuery(this);if(isLoading){jQuery('<span class="loading"></span>').appendTo($elm).css({opacity:settings.opacity,height:$elm.outerHeight()+'px'});jQuery('<span class="loading-indicator"></span>').appendTo($elm).css({height:$elm.outerHeight()+'px'})}else $elm.find('.loading, .loading-indicator').remove();return $elm};(function($,window,undefined){function Scrollable($container,$scrollbar,settings){Scrollable.init();this.$container=$container;this.$content=this.$container.find('.scroll-content:first');this.$containerIn=this.$container.find('.scroll-container-in:first');if(this.$containerIn.length===0)this.$containerIn=this.$content.wrap('<div class="scroll-container-in"></div>').parents('.scroll-container-in:first');this.$scrollbar=$scrollbar;this.$scrollbarTrack=this.$scrollbar.find('> .scroll-bar-track:first');this.$scrollbarHandle=this.$scrollbarTrack.find('> .scroll-bar-handle:first');this.$scrollbarHandleTop=this.$scrollbarHandle.find('> .scroll-bar-handle-top:first');this.$scrollbarHandleMid=this.$scrollbarHandle.find('> .scroll-bar-handle-mid:first');this.$scrollbarHandleBottom=this.$scrollbarHandle.find('> .scroll-bar-handle-bottom:first');this.$scrollbarButtonUp=this.$scrollbar.find('> .scroll-bar-up:first');this.$scrollbarButtonDown=this.$scrollbar.find('> .scroll-bar-down:first');this._scrollTimer=null;this._direction=null;this._isButtonPressed=false;this._isBeingDragged=false;this._isTrackMouseDown=false;this._trackClickY=null;this._trackPressIncrementDelay=settings.trackPressIncrementDelay;this._scrollHandleMinHeight=settings.scrollHandleMinHeight;this._scrollbarIsInternal=settings.scrollbarIsInternal;this._debug=Boolean(settings.debug);var w=this.$container.outerWidth(),h=this.$container.outerHeight();this.$container.css('overflow','hidden');if(!$.browser.webkit)this.$containerIn.css({'padding-right':(Scrollable.scrollbarW+'px')});this._lastContainerW=w;this._lastContainerH=h;this._lastContentH=this.$content.outerHeight();var evtData={scope:this};this.$containerIn.bind('scroll',evtData,this.onContentScroll);this.$scrollbar.bind('mousedown,mouseup,click',this.stopProp).find('> .scroll-bar-up,> .scroll-bar-down').bind('mousedown',evtData,this.onScrollButtonMouseDown).bind('mouseup',evtData,this.onScrollButtonMouseUp).bind('mouseleave',evtData,this.onScrollButtonMouseUp).bind('click',evtData,this.onScrollButtonClick);this.$scrollbar.css('display','block');var h=this.$scrollbarButtonUp.css('height');if(!h)this.$scrollbarTrack.css({top:(this.$scrollbarButtonUp.outerHeight()+'px'),bottom:(this.$scrollbarButtonDown.outerHeight()+'px')});this.$scrollbar.css('display','none');this.$scrollbarTrack.bind('mousedown',evtData,this.onTrackMouseDown).bind('mouseup',evtData,this.onTrackMouseUp).bind('mouseleave',evtData,this.onTrackMouseLeave);this.$scrollbarHandle.draggable({axis:'y',containment:this.$scrollbarTrack[0],addClasses:false,scroll:false,cursor:'n-resize',start:$.proxy(this.onHandleDragStart,this),drag:$.proxy(this.onHandleDrag,this),stop:$.proxy(this.onHandleDragStop,this)}).bind('mousedown,mouseup,click',this.stopProp);this.$content.bind('resize',evtData,this.onContentResize);this.$container.bind('resize',evtData,this.onContainerResize)};Scrollable.initialized=false;Scrollable.scrollbarW=0;Scrollable.scrollbarHTML='<a href="#" class="scroll-bar-btn scroll-bar-up"><span></span></a><span class="scroll-bar-track"><span class="scroll-bar-handle"><span class="scroll-bar-handle-top"></span><span class="scroll-bar-handle-mid"></span><span class="scroll-bar-handle-bottom"></span><span class="scroll-bar-handle-cover"></span></span></span><a class="scroll-bar-btn scroll-bar-down"><span></span></a>';Scrollable.init=function(){if(Scrollable.initialized)return;var $testContainer=$('<div style="position:absolute;left:-200px;top:0;width:200px;height:150px;overflow:hidden;"><p style="width:100%;height:200px;"></p></div>').appendTo(document.body),$testContent=$testContainer.find('p:first'),w1=$testContent[0].offsetWidth;$testContainer.css('overflow','scroll');var w2=$testContent[0].offsetWidth;if(w1===w2)w2=$testContainer[0].clientWidth;$testContainer.remove();Scrollable.scrollbarW=(w1-w2);Scrollable.initialized=true};Scrollable.prototype.stopProp=function(evt){evt.stopPropagation()};Scrollable.prototype.syncPositionHandleToContent=function(){var scrollTop=this.$containerIn.scrollTop(),contentH=this.$content.outerHeight(),scrollbarH=this.$scrollbar.outerHeight(),trackH=this.$scrollbarTrack.innerHeight(),scrollHandleH=this.$scrollbarHandle.outerHeight(),handlePixelRange=(trackH-scrollHandleH),maxScrollTop=(contentH-scrollbarH),ratio=(scrollTop/maxScrollTop),handleY=Math.round(ratio*handlePixelRange);if(handleY<0){handleY=0}else if(handleY>=(trackH-scrollHandleH))handleY=(trackH-scrollHandleH);this.$scrollbarHandle.css('top',(handleY+'px'))};Scrollable.prototype.syncPositionContentToHandle=function(){var contentH=this.$content.outerHeight(),scrollbarH=this.$scrollbar.outerHeight(),trackH=this.$scrollbarTrack.innerHeight(),scrollHandleH=this.$scrollbarHandle.outerHeight(),handleY=this.$scrollbarHandle.position().top,handlePixelRange=(trackH-scrollHandleH),maxScrollTop=(contentH-scrollbarH),ratio=(handleY/handlePixelRange),scrollTop=Math.round(maxScrollTop*ratio);if(scrollTop<0){scrollTop=0}else if(scrollTop>=maxScrollTop)scrollTop=maxScrollTop;this.$containerIn.scrollTop(scrollTop)};Scrollable.prototype._clearTimer=function(){if(this._scrollTimer!==null){clearTimeout(this._scrollTimer);this._scrollTimer=null}};Scrollable.prototype._reset=function(){this._direction=null;this._isTrackMouseDown=false;this._trackClickY=null;this._isButtonPressed=false};Scrollable.prototype.scrollSmoothly=function(){var scrollInc=5,currentScrollTop=this.$containerIn.scrollTop(),scrollTop=(currentScrollTop-scrollInc),contentH=this.$content.outerHeight(),scrollbarH=this.$scrollbar.outerHeight(),maxScrollTop=(contentH-scrollbarH),scrollTop;switch(this._direction){case ('up'):{if(currentScrollTop===0)return;scrollTop=(currentScrollTop-scrollInc);if(scrollTop<0)scrollTop=0;this._scrollSmoothlyTo(scrollTop);break};case ('down'):{if(currentScrollTop===maxScrollTop)return;scrollTop=(currentScrollTop+scrollInc);if(scrollTop>maxScrollTop)scrollTop=maxScrollTop;this._scrollSmoothlyTo(scrollTop);break};default:{this._reset();break}}};Scrollable.prototype._scrollSmoothlyTo=function(scrollTop){this.$containerIn.scrollTop(scrollTop);this._scrollTimer=setTimeout($.proxy(this.scrollSmoothly,this),10)};Scrollable.prototype.scrollJump=function(){var scrollHandleY=this.$scrollbarHandle.position().top,clickY=this._trackClickY;if(clickY>scrollHandleY&&clickY<(scrollHandleY+this.$scrollbarHandle.outerHeight())){this._clearTimer();this._reset();return};var scrollByInc=5,contentH=this.$content.outerHeight(),scrollFromY=this.$containerIn.scrollTop(),scrollBy=this.$containerIn.innerHeight(),scrollToY;switch(this._direction){case ('up'):{scrollToY=(scrollFromY-scrollBy);if((scrollToY-scrollByInc)<=0)scrollToY=0;this._scrollJump(scrollToY);break};case ('down'):{scrollToY=(scrollFromY+scrollBy);if((scrollToY+scrollByInc)>=contentH)scrollToY=contentH;this._scrollJump(scrollToY);break};default:{this._reset();break}}};Scrollable.prototype._scrollJump=function(scrollTop){this.$containerIn.scrollTop(scrollTop);this._scrollTimer=setTimeout($.proxy(this.scrollJump,this),this._trackPressIncrementDelay)};Scrollable.prototype._isResizeValid=function(elm,w,h){var $elm=$(elm);if(h===undefined||h!==$elm.height())return false;if($elm.hasClass('scroll-container')){if(w===this._lastContainerW&&h===this._lastContainerH)return false;this._lastContainerW=w;this._lastContainerH=h;return true}else if($elm.hasClass('scroll-content')){if(h===this._lastContentH)return false;this._lastContentH=h;return true}else return false};Scrollable.prototype.handleContentScroll=function(){if(this._isBeingDragged)return;this.syncPositionHandleToContent()};Scrollable.prototype.onContentScroll=function(evt){evt.data.scope.handleContentScroll()};Scrollable.prototype.handleResize=function(){var containerH=this.$containerIn.innerHeight(),contentH=this.$content.outerHeight();if(containerH>=contentH){this.$scrollbar.css('display','none');if(this._scrollbarIsInternal)this.$content.css('width',this.$container.innerWidth()+'px')}else{this.$scrollbar.css('display','block');if(this._scrollbarIsInternal)this.$content.css('width',((this.$container.innerWidth()-this.$scrollbar.outerWidth())+'px'));var percentInView=(containerH/contentH),scrollHandleMaxHeight=this.$scrollbarTrack.innerHeight()-(this.$scrollbarHandleTop.outerHeight()+this.$scrollbarHandleBottom.outerHeight()),handleH=Math.max(Math.min((percentInView*scrollHandleMaxHeight),scrollHandleMaxHeight),this._scrollHandleMinHeight);this.$scrollbarHandleMid.css('height',(handleH+'px'));this.syncPositionHandleToContent()}};Scrollable.prototype.onContainerResize=function(evt,w,h,isInit){if(!isInit&&!evt.data.scope._isResizeValid(this,w,h))return;evt.data.scope.debug('onContainerResize:: '+this.id+', H: '+h);evt.data.scope.handleResize()};Scrollable.prototype.onContentResize=function(evt,w,h){if(!evt.data.scope._isResizeValid(this,w,h))return;evt.data.scope.debug('onContentResize:: '+this.parentNode.parentNode.id+', H: '+h);evt.data.scope.handleResize()};Scrollable.prototype.delayedScrollButtonMouseDown=function(){this._isButtonPressed=true;this.scrollSmoothly()};Scrollable.prototype.handleScrollButtonMouseDown=function(buttonType){this._clearTimer();this._direction=buttonType;this._scrollTimer=setTimeout($.proxy(this.delayedScrollButtonMouseDown,this),this._trackPressIncrementDelay)};Scrollable.prototype.debug=function(msg){if(window.console&&this._debug)window.console.log(msg||'')};Scrollable.prototype.onScrollButtonMouseDown=function(evt){evt.data.scope.debug('scroll button mouse down');var $btn=$(this),buttonType=($btn.hasClass('scroll-bar-up'))?'up':($btn.hasClass('scroll-bar-down'))?'down':null;if(!buttonType)return;$btn.addClass('scroll-bar-btn-pressed');evt.data.scope.handleScrollButtonMouseDown(buttonType)};Scrollable.prototype.handleScrollButtonMouseUp=function(){this._clearTimer()};Scrollable.prototype.onScrollButtonMouseUp=function(evt){evt.data.scope.debug('scroll button mouse up');$(this).removeClass('scroll-bar-btn-pressed');evt.data.scope.handleScrollButtonMouseUp()};Scrollable.prototype.handleScrollButtonClick=function(){this._clearTimer();if(!this._isButtonPressed){this.debug('scroll button click');this._trackClickY=this.$scrollbarTrack.innerHeight();this.scrollJump()};this._reset()};Scrollable.prototype.onScrollButtonClick=function(evt){evt.preventDefault();evt.data.scope.handleScrollButtonClick()};Scrollable.prototype.delayedTrackMouseDown=function(){this._isTrackMouseDown=true;this.scrollJump()};Scrollable.prototype.handleTrackMouseDown=function(clickY){this._clearTimer();var scrollHandleY=this.$scrollbarHandle.position().top;if(clickY>scrollHandleY&&clickY<(scrollHandleY+this.$scrollbarHandle.outerHeight())){this._clearTimer();this._reset();return};this._trackClickY=clickY;this._direction=(clickY<scrollHandleY)?'up':'down';this.scrollJump()};Scrollable.prototype.onTrackMouseDown=function(evt){if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className)return;evt.data.scope.debug('track mouse down');evt.data.scope.handleTrackMouseDown((evt.offsetY||evt.layerY))};Scrollable.prototype.handleTrackMouseUp=function(){this._clearTimer();this._reset()};Scrollable.prototype.onTrackMouseUp=function(evt){if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className)return;evt.data.scope.debug('track mouse up');evt.data.scope.handleTrackMouseUp()};Scrollable.prototype.onTrackMouseLeave=function(evt){if(evt.target.className!==evt.data.scope.$scrollbarTrack[0].className)return;evt.data.scope.debug('track mouse leave');evt.data.scope.handleTrackMouseUp()};Scrollable.prototype.onHandleDragStart=function(evt,ui){this._isBeingDragged=true;this.debug('drag start')};Scrollable.prototype.onHandleDrag=function(evt,ui){this.syncPositionContentToHandle()};Scrollable.prototype.onHandleDragStop=function(evt,ui){this._isBeingDragged=false;this.debug('drag stop')};$.fn.scrollify=function(settings){settings=$.extend({$scrollbar:null,scrollHandleMinHeight:5,trackPressIncrementDelay:500,debug:false,scrollbarIsInternal:true},settings);if(settings.$scrollbar)settings.scrollbarIsInternal=false;return this.each(function(idx){var $container=$(this);if(!settings.$scrollbar){$scrollbar=$('<div class="scroll-bar">'+Scrollable.scrollbarHTML+'</div>').appendTo($container)}else{$scrollbar=settings.$scrollbar;$scrollbar.html(Scrollable.scrollbarHTML)};new Scrollable($container,$scrollbar,settings)})}})(jQuery,this);(function($,window,undefined){$.validation={rules:{minmax:function($elm,params){var result={success:true,elm:$elm};if(!params)params={};params=$.extend({min:0,max:0},params);var val=$.trim($elm.val());if((params.min>0&&val.length<params.min)||(params.max>0&&val.length>params.max))result.success=false;return result},date:function($elm,params){var result={success:false,elm:$elm};try{if(params&&params.selectors){result.elm=$(params.selectors.month+','+params.selectors.day+','+params.selectors.year);var $month=$(params.selectors.month),$day=$(params.selectors.day),$year=$(params.selectors.year),month=parseInt($month.val().replace(/\D/g,'').replace(/^0*/,'')||0),day=parseInt($day.val().replace(/\D/g,'').replace(/^0*/,'')||0),year=parseInt($year.val().replace(/\D/g,'').replace(/^0*/,'')||0),date=new Date(year+'/'+month+'/'+day);result.success=((date.getMonth()+1)===month&&date.getDate()===day&&date.getFullYear()===year)}else{var dateString=$.trim($elm.val()),date=new Date(dateString);result.success=true}}catch(ex){result.success=false};return result}},error:function($elm,message){switch($elm[0].type){case ('checkbox'):{$elm.parents('.checkbox:first').addClass('checkbox-error');break};case ('radio'):{$elm.parents('.radio:first').addClass('radio-error');break};default:$elm.parents('.field:first').addClass('field-error')};if(!$.isArray(message)){message=[(typeof (message)==='string'&&message.length>0)?message:'Error']}else if(message.length===0)message[0]='Error';message=message.join('</li><li>');var errorHTML='<ul class="errors"><li>'+message+'</li></ul>';$elm.tooltip({type:'focus',content:function(){return errorHTML},position:{my:'center bottom',at:'center top',offset:'5 -2'}})},before:function($elm){switch($elm[0].type){case ('checkbox'):{$elm.parents('checkbox-error:first').removeClass('checkbox-error');break};case ('radio'):{$elm.parents('.radio-error:first').removeClass('radio-error');break};default:$elm.parents('.field-error:first').removeClass('field-error')};$elm.tooltip('_destroy')},defaults:{elm:{},trigger:{}}}
function VaidationGroup(containerElm,settings){this.settings=settings;this.$container=$(containerElm);this.$container.data('validationGroup',this);this.$form=this.$container;if(this.$form[0].tagName.toLowerCase()!=='form'){this.$form=this.$container.find('form:first');if(this.$form.length===0){this.$form=this.$container.parents('form:first');if(this.$form.length===0){window.log('ValidationGroup Error - no form element detected');return}}};this.$form.data('validationGroup',this).submit(function(evt){var group=$(this).data('validationGroup');if(!group.validate()){window.log('Validation Fail');evt.preventDefault();if($.isFunction(group.settings.error))group.settings.error(group);return false}else if($.isFunction(group.settings.success)){window.log('Validation Success (custom)');evt.preventDefault();group.settings.success(group);return false};window.log('Validation Success (default form submit)')});if(settings.trigger)$(settings.trigger.query).data('validationGroup',this).bind(settings.trigger.evt,function(evt){evt.preventDefault();var $elm=$(this),_continue=true;if($.isFunction(settings.trigger.before)){_continue=settings.trigger.before($elm)}else if($.isFunction($.validation.defaults.trigger.before))_continue=$.validation.defaults.trigger.before($elm);if(_continue){$elm.data('validationGroup').$form.submit();if($.isFunction(settings.trigger.after)){settings.trigger.after($elm)}else if($.isFunction($.validation.defaults.trigger.after))$.validation.defaults.trigger.after($elm)}})};VaidationGroup.prototype.initElm=function($elm){$elm.data('validationRules',this.parseRules($elm))};VaidationGroup.prototype.parseRules=function($elm){try{return eval($.trim($elm.attr('data-validation'))||'[]')}catch(ex){console.warn('ERROR attempting to parse validation rule from element ('+$elm[0].id+'): '+ex.message);return[]}};VaidationGroup.prototype.validate=function(){var requiredElms=[],errors=[];if($.isFunction(this.settings.before))this.settings.before(this.$container);var $elms=this.$container.find('input,textarea,select');for(var idx=0,len=$elms.length,_errors;idx<len;idx++){var elm=$elms[idx],$elm=$(elm),rules=$elm.data('validationRules');if(!rules){this.initElm($elm);rules=$elm.data('validationRules')};if($.isFunction(this.settings.elm.before)){this.settings.elm.before(elm)}else if($.isFunction($.validation.defaults.elm.before))$.validation.defaults.elm.before(elm);var val=$.trim($elm.val()),placeholder=$.trim($elm.attr('placeholder')),hasPlaceholder=(placeholder.length>0);if(val.length===0||(hasPlaceholder&&val===placeholder)){if($elm.attr('required').toString()==='true'){if($.isFunction(this.settings.elm.required)){this.settings.elm.required(elm)}else if($.isFunction($.validation.defaults.elm.required))$.validation.defaults.elm.required(elm);requiredElms[requiredElms.length]=elm};continue};_errors=[];if(rules.length>0){for(var _idx=0,_len=rules.length,rule,result;_idx<_len;_idx++){rule=rules[_idx];if(typeof (rule.rule)==='string'){if($.isFunction($.validation.rules[rule.rule])){result=$.validation.rules[rule.rule]($elm,rule.params)}else{window.log('Warning - Validaion Rule does not exits! '+rule.rule);continue}}else if(rule.rule.constructor===RegExp){result={success:rule.rule.test($.trim($elm.val())),elm:$elm}}else if($.isFunction(rule.rule)){result=rule.rule($elm,rule.params)}else{window.log('Warning - Validaion Rule does not exits! '+rule.rule);continue};if(!result.success){_errors[_errors.length]={elm:result.elm,message:rule.message};if(rule.stop){if($.isFunction(this.settings.elm.error)){this.settings.elm.error(_errors)}else if($.isFunction($.validation.defaults.elm.error))$.validation.defaults.elm.error(elm);break}}};if(_errors.length>0){errors[errors.length]=_errors;if($.isFunction(this.settings.elm.error)){this.settings.elm.error(_errors)}else if($.isFunction($.validation.defaults.elm.error))$.validation.defaults.elm.error(_errors)}}};if(errors.length===0&&requiredElms.length===0)return true;if(requiredElms.length>0)if($.isFunction(this.settings.required)){this.settings.required($(requiredElms))}else if($.isFunction($.validation.defaults.required))$.validation.defaults.required($(requiredElms));if(errors.length>0)if($.isFunction(this.settings.error)){this.settings.error(errors)}else if($.isFunction($.validation.defaults.error))$.validation.defaults.error(errors);return false};$.fn.validation=function(settings){return this.each(function(idx){settings=$.extend({elm:{}},settings);new VaidationGroup(this,settings)})}})(jQuery,this);(function($){$.fn.carousel=function(params){var params=$.extend({direction:"horizontal",loop:false,step:1,visible:1,control:true,pagination:false,nextBtn:'<a href="#"><span>Next</span></a>',prevBtn:'<a href="#"><span>Previous</span></a>',autoSlide:false,autoSlideInterval:5000,delayAutoSlide:false,effect:"slide",slideEasing:"swing",animSpeed:"normal",equalWidths:"true",verticalMargin:0,callback:function(){},useAddress:false,addressIdentifier:"carousel",tabLabel:function(tabNum){return tabNum},transitionComplete:null},params);return this.each(function(){var env={$elts:{},params:params,launchOnLoad:[]};$(this).data('goToStep',function(idx){goToStep(env,idx)});env.$elts.carousel=$(this);env.$elts.content=$(this).children().css({top:0});env.$elts.wrap=env.$elts.content.wrap('<div class="carousel-wrap"></div>').parent().css({overflow:"hidden",position:"relative"});env.steps={first:0,count:env.$elts.content.children().length};env.steps.last=env.steps.count-1;if(env.params.control){var $carouselControl=$('<div class="carousel-control"><div class="carousel-control-cn"></div></div>'),$carouselControlContainer=$carouselControl.find('.carousel-control-cn');env.$elts.prevBtn=$(params.prevBtn).addClass('carousel-previous').appendTo($carouselControlContainer);env.$elts.nextBtn=$(params.nextBtn).addClass('carousel-next').appendTo($carouselControlContainer);env.$elts.carousel.append($carouselControl);initButtonsEvents(env)};if(env.params.pagination){env.$elts.pagination=$('<span class="carousel-pagination"></span>');env.$elts.paginationBtns=$([]);for(var i=0,ilen=env.$elts.content.find('li').length;i<ilen;i++)if(i%env.params.step==0&&i<=(env.steps.count-env.params.visible))env.$elts.paginationBtns=env.$elts.paginationBtns.add($('<a href="#"><span>'+env.params.tabLabel(env.$elts.paginationBtns.length+1)+'</span></a>').data("firstStep",i));env.$elts.paginationBtns.each(function(){$(this).appendTo(env.$elts.pagination)});env.$elts.paginationBtns.eq(0).addClass('current');$carouselControl.find('.carousel-previous').after(env.$elts.pagination);env.launchOnLoad.push(function(){env.$elts.paginationBtns.click(function(e){e.preventDefault();goToStep(env,$(this).data('firstStep'));stopAutoSlide(env)})})};if(env.params.useAddress&&$.isFunction($.fn.address))initAddress(env);$(function(){var $items=env.$elts.content.children(),$maxHeight=0;$items.each(function(){$item=$(this);$itemHeight=$item.outerHeight();if($itemHeight>$maxHeight)$maxHeight=$itemHeight});if(env.params.verticalMargin>0)$maxHeight=$maxHeight+env.params.verticalMargin;$items.height($maxHeight);var $firstItem=env.$elts.content.children(":first");env.itemWidth=$firstItem.outerWidth(true);if(params.direction=="vertical"){env.contentWidth=env.itemWidth}else if(params.equalWidths){env.contentWidth=env.itemWidth*env.steps.count}else{var totalWidth=0;env.$elts.content.children().each(function(){totalWidth+=$(this).outerWidth(true)});env.contentWidth=totalWidth};env.$elts.content.width(env.contentWidth);env.itemHeight=$maxHeight;if(params.direction=="vertical"){env.$elts.content.css({height:env.itemHeight*env.steps.count+"px"});env.$elts.content.parent().css({height:env.itemHeight*env.params.step+"px"})}else env.$elts.content.parent().css({height:env.itemHeight+"px"});updateButtonsState(env);$.each(env.launchOnLoad,function(i,fn){fn()});if(env.params.autoSlide)window.setTimeout(function(){env.autoSlideInterval=window.setInterval(function(){goToStep(env,getRelativeStep(env,"next"))},env.params.autoSlideInterval)},env.params.delayAutoSlide)})})};var initButtonsEvents=function(env){env.$elts.nextBtn.add(env.$elts.prevBtn).click(function(e){e.preventDefault();var $this=$(this);if(!$this.hasClass('disabled')){goToStep(env,getRelativeStep(env,($this.hasClass('carousel-next')?"next":"prev")));stopAutoSlide(env)}})},initAddress=function(env){$.address.init(function(e){var pathNames=$.address.pathNames();if(pathNames[0]===env.params.addressIdentifier&&!!pathNames[1]){goToStep(env,pathNames[1]-1)}else $.address.value('/'+env.params.addressIdentifier+'/1')}).change(function(e){var pathNames=$.address.pathNames();if(pathNames[0]===env.params.addressIdentifier&&!!pathNames[1])goToStep(env,pathNames[1]-1)})},goToStep=function(env,step){if(env.steps.first!=step){env.params.callback(step);transition(env,step);env.steps.first=step;updateButtonsState(env);if(env.params.useAddress)$.address.value('/'+env.params.addressIdentifier+'/'+(step+1))}else{var _transitionComplete=env.params.transitionComplete;if($.isFunction(_transitionComplete))$.proxy(_transitionComplete,env.$elts.carousel)(step)}},getRelativeStep=function(env,position){if(position=="prev"){if(env.steps.first>0){return env.steps.first-env.params.step}else return((env.params.loop)?(env.steps.count-env.params.visible):false)}else if(position=="next")if((env.steps.first+env.params.step+env.params.visible)<=env.steps.count){return env.steps.first+env.params.step}else return((env.params.loop)?0:false)},transition=function(env,step){var _transitionComplete=env.params.transitionComplete,transitionComplete;if($.isFunction(_transitionComplete))transitionComplete=$.proxy(function(evt){$.proxy(_transitionComplete,this)(step)},env.$elts.carousel);switch(env.params.effect){case"no":if(env.params.direction=="vertical"){env.$elts.content.css("top",-(env.itemHeight*step)+"px")}else env.$elts.content.css("left",-(env.itemWidth*step)+"px");if($.isFunction(_transitionComplete))$.proxy(_transitionComplete,env.$elts.carousel)(step);break;case"fade":if(env.params.direction=="vertical"){env.$elts.content.hide().css("top",-(env.itemHeight*step)+"px").fadeIn(env.params.animSpeed,transitionComplete)}else env.$elts.content.hide().css("left",-(env.itemWidth*step)+"px").fadeIn(env.params.animSpeed,transitionComplete);break;default:if(env.params.direction=="vertical"){env.$elts.content.stop().animate({top:-(env.itemHeight*step)+"px"},env.params.animSpeed,env.params.slideEasing,transitionComplete)}else env.$elts.content.stop().animate({left:-(env.itemWidth*step)+"px"},env.params.animSpeed,env.params.slideEasing,transitionComplete);break}},updateButtonsState=function(env){if(env.params.control){if(getRelativeStep(env,"prev")!==false){env.$elts.prevBtn.removeClass('disabled')}else env.$elts.prevBtn.addClass('disabled');if(getRelativeStep(env,"next")!==false){env.$elts.nextBtn.removeClass('disabled')}else env.$elts.nextBtn.addClass('disabled')};if(env.params.pagination)env.$elts.paginationBtns.removeClass('current').filter(function(){return($(this).data('firstStep')==env.steps.first)}).addClass('current')},stopAutoSlide=function(env){if(!!env.autoSlideInterval)window.clearInterval(env.autoSlideInterval)}})(jQuery);(function($,window,undefined){var Restriction=function(){this.types={};this.wasPlaying=false};Restriction.prototype.register=function(type,_class){if(this.types[type]){window.log('EA.Restriction.register:: Warnging - class type "'+type+'" already registered');return};this.types[type]=_class};Restriction.prototype.get=function(type,id){var _class=this.types[type];if(!_class){window.log('EA.Restriction.get:: Warnging - class type "'+type+'" is not registered');return _class};return(!id)?_class:_class.instances[id]};EA.Restriction=new Restriction();var AgeRestriction=function(id,minAge){Observable(this);this.type='age';this.id=id;this.minAge=minAge||0;AgeRestriction.instances.push(this)};AgeRestriction.instances=[];AgeRestriction.age=0;AgeRestriction.bdayCookie=$.cookie('ea_video_birthday');AgeRestriction.setAge=function(age){if(AgeRestriction.age)window.log('AgeRestriction.setAge:: Attempt to set age, but age is already set - overriding...');AgeRestriction.age=age;for(var idx=0,len=AgeRestriction.instances.length,restriction;idx<len;idx++){restriction=AgeRestriction.instances[idx];restriction.notify({restriction:'age',type:'restrictionchange',restricted:restriction.isRestricted(),minAge:this.minAge});var ea_video_mature=restriction.isRestricted()?false:true,tomorrow=new Date();tomorrow.setHours(tomorrow.getHours()+24);$.cookie('ea_video_mature',ea_video_mature,{expires:tomorrow,path:"/"})}};AgeRestriction.getAgeFromBirthDate=function(month,day,year){if(!AgeRestriction.isValidDate(month,day,year)){window.log('AgeRestriction.setBirthDate:: Invalid date: "'+month+'/'+day+'/'+year+'"');return 0};var now=new Date(),currentMonth=(now.getMonth()+1),currentDay=now.getDate(),currentYear=now.getFullYear(),birthYear=year;if(month>currentMonth||(month===currentMonth&&day>currentDay))birthYear++;return(currentYear-birthYear)};AgeRestriction.setBirthDate=function(month,day,year){var age=AgeRestriction.getAgeFromBirthDate(month,day,year);if(!age){window.log('AgeRestriction.setBirthDate:: Invalid date: "'+month+'/'+day+'/'+year+'"');return};var tomorrow=new Date();tomorrow.setHours(tomorrow.getHours()+24);$.cookie('ea_video_birthday',new Date(year,(month-1),day).getTime(),{expires:tomorrow,path:'/'});AgeRestriction.setAge(age)};AgeRestriction.isValidDate=function(month,day,year){if(isNaN(month)||month<1||month>12||isNaN(day)||day<1||day>31||isNaN(year)||year<(new Date().getFullYear()-130)||year>=new Date().getFullYear())return false;var date=new Date(year,(month-1),day);return((date.getMonth()+1)===month&&date.getDate()===day&&date.getFullYear()===year)};AgeRestriction.prototype.isRestricted=function(){if(this.minAge===0)return false;if(AgeRestriction.bdayCookie){var birthday=new Date();birthday.setTime(AgeRestriction.bdayCookie);var age=AgeRestriction.getAgeFromBirthDate((birthday.getMonth()+1),birthday.getDate(),birthday.getFullYear());if(age>=this.minAge)return false};return(AgeRestriction.age<this.minAge)};EA.Restriction.register('age',AgeRestriction);var TimeRestriction=function(id,options){Observable(this);this.type='time';this.id=id;this.current=options.current;this.start=options.start;this.end=options.end;this._isRestricted=null;this.init();TimeRestriction.instances.push(this)};TimeRestriction.instances=[];TimeRestriction.prototype.isRestricted=function(){var currentMinutes=(this.current.getHours()*60)+this.current.getMinutes(),startMinutes=(this.start.getHours()*60)+this.start.getMinutes(),endMinutes=(this.end.getHours()*60)+this.end.getMinutes();return(currentMinutes>=startMinutes&&currentMinutes<endMinutes)};TimeRestriction.prototype.init=function(){var parts;parts=this.current.split(':');this.current=new Date();this.current.setHours(Number(parts[0]));this.current.setMinutes(Number(parts[1]));parts=this.start.split(':');this.start=new Date();this.start.setHours(Number(parts[0]));this.start.setMinutes(Number(parts[1]));parts=this.end.split(':');this.end=new Date();this.end.setHours(Number(parts[0]));this.end.setMinutes(Number(parts[1]));this.check();window.setTimeout($.proxy(this,'tick'),60000)};TimeRestriction.prototype.tick=function(){this.current.setMinutes(this.current.getMinutes()+1);this.check();window.setTimeout($.proxy(this,'tick'),60000)};TimeRestriction.prototype.check=function(){if(this.isRestricted()){if(!this._isRestricted){this._isRestricted=true;this.notify({restriction:'time',type:'restrictionchange',restricted:true})}}else if(this._isRestricted){this._isRestricted=false;this.notify({restriction:'time',type:'restrictionchange',restricted:false})}};EA.Restriction.register('time',TimeRestriction);var _isHTML5VideoSupported=null,isHTML5VideoSupported=function(){if(_isHTML5VideoSupported!==null)return _isHTML5VideoSupported;if(typeof (HTMLVideoElement)==='undefined')return(_isHTML5VideoSupported=false);var ua=navigator.userAgent.toLowerCase(),isSafari=(ua.indexOf('safari')>0&&ua.indexOf('chrome')===-1),isIe10=(ua.indexOf('msie 10.0')>0);if(!isSafari&&!isIe10)return(_isHTML5VideoSupported=false);var video=document.createElement("video");if(typeof (video.canPlayType)!='undefined'&&video.canPlayType('video/mp4')!=''){return(_isHTML5VideoSupported=true)}else return(_isHTML5VideoSupported=false)},VideoHTML5={properties:{_watchFullScreenExitTimer:null,_loadFailAttempts:0},prototype:{getElmId:function(){return this.id+'-video'},createElm:function(){var html=[];html[html.length]='<video id="';html[html.length]=this.getElmId();html[html.length]='" width="';html[html.length]=this.width;html[html.length]='" height="';html[html.length]=this.height;html[html.length]='"';if(this.poster.length>0){html[html.length]=' poster="';html[html.length]=this.poster;html[html.length]='"'};if(window.Touch)html[html.length]=' controls';html[html.length]='>';html[html.length]='</video>';return $(html.join(''))},_bindEvents:function(){var video=this.getElm()[0];video.addEventListener('loadedmetadata',$.proxy(this,'_onLoadedMetaData'),false);video.addEventListener('loadstart',$.proxy(this,'onLoadStarted'),false);video.addEventListener('canplay',$.proxy(this,'_onCanPlay'),false);video.addEventListener('progress',$.proxy(this,'_onProgress'),false);video.addEventListener('timeupdate',$.proxy(this,'_onTimeUpdate'),false);video.addEventListener('playing',$.proxy(this,'_onPlaying'),false);video.addEventListener('play',$.proxy(this,'_onPlay'),false);video.addEventListener('pause',$.proxy(this,'_onPause'),false);video.addEventListener('volumechange',$.proxy(this,'_onVolumeChange'),false);video.addEventListener('error',$.proxy(this,'_onError'),false);video.addEventListener('stalled',$.proxy(this,'_onStalled'),false);video.addEventListener('suspend',$.proxy(this,'_onSuspended'),false);video.addEventListener('emptied',$.proxy(this,'_onEmptied'),false);video.addEventListener('ended',$.proxy(this,'_onEnded'),false)},_unbindEvents:function(){var video=this.getElm()[0];video.removeEventListener('loadedmetadata');video.removeEventListener('loadstart');video.removeEventListener('canplay');video.removeEventListener('progress');video.removeEventListener('timeupdate');video.removeEventListener('playing');video.removeEventListener('play');video.removeEventListener('pause');video.removeEventListener('volumechange');video.removeEventListener('error');video.removeEventListener('stalled');video.removeEventListener('suspend');video.removeEventListener('emptied');video.removeEventListener('ended')},_setSrc:function(url,time){window.log('VideoHTML5.setSrc:: '+url);var video=this.getElm()[0];video.preload='none';video.src=url},load:function(){window.log('VideoHTML5.load');var video=this.getElm()[0];if(!window.Touch){video.preload='auto'}else{video.load();video.play()}},_onLoadedMetaData:function(evt){var video=this.getElm()[0];this.durationSeconds=video.duration||0;this.duration=this.formatTime(this.durationSeconds);this.notify({type:'metadata'})},_onCanPlay:function(evt){window.log('VideoHTML5._onCanPlay: via quality toggle? '+this._setQualityFlag);this._canPlay=true;this.notify(evt);if(this._setQualityFlag){window.log('VideoHTML5._onCanPlay: currentTime: '+this.currentTime+', state: '+this.state);this._setQualityFlag=false;if(this.currentTime)this.setCurrentTime(this.currentTime);if(this.state==='playing'){this.play()}else this.pause()}else if(this.autoplay)this.play()},canPlay:function(){return this._canPlay},_play:function(){var video=this.getElm()[0];video.play()},_pause:function(evt,model){var video=this.getElm()[0];video.pause()},clearFullScreenExitWatchTimer:function(){if(this._watchFullScreenExitTimer){window.clearInterval(this._watchFullScreenExitTimer);this._watchFullScreenExitTimer=null}},watchForFullScreenExit:function(){var video=this.getElm()[0];if(!video.webkitDisplayingFullScreen){this.clearFullScreenExitWatchTimer();this._onFullScreenChange({type:'fullscreenchange',fullscreen:false})}},setFullScreen:function(on){var video=this.getElm()[0];try{if(on){video.webkitEnterFullScreen();this._onFullScreenChange({type:'fullscreenchange',fullscreen:true});this._watchFullScreenExitTimer=window.setInterval($.proxy(this,'watchForFullScreenExit'),500)}else{this.clearFullScreenExitWatchTimer();video.webkitExitFullScreen()}}catch(ex){if(ex.code==11);window.log('VideoHTML5.prototype.setFullScreen:: ERROR: '+ex.code+', '+ex.message)}},_setCurrentTime:function(time){var video=this.getElm()[0];try{video.currentTime=time}catch(ex){window.log('VideoHTML5.setCurrentTime('+time+'):: Fail, retrying... Reason: '+ex.message)}},_setVolume:function(vol){var video=this.getElm()[0];video.volume=(vol/100)},_toggleMute:function(){var video=this.getElm()[0];video.muted=!video.muted},_onVolumeChange:function(evt){var video=this.getElm()[0];this.volume=video.volume;window.log('VideoHTML5._onVolumeChange:: '+this.volume);this.notify({type:'volumechange',volume:this.volume})},_onProgress:function(evt){var video=this.getElm()[0],buffered=video.buffered;window.log('VideoHTML5._onProgress');if(!buffered||buffered.length===0)return;this.buffer=buffered.end(0);var percent=(this.buffer/this.durationSeconds)*100;if(percent===this._lastProgress)return;this._lastProgress=percent;this.notify({type:'progress',percent:percent});window.log('VideoHTML5._onProgress:: '+percent+'%')},_onTimeUpdate:function(evt){var video=this.getElm()[0];if(isNaN(this.durationSeconds))return;this.onTimeUpdate({type:'timeupdate',currentTime:video.currentTime})},_onFail:function(evt){this._loadFailAttempts++;if(this._loadFailAttempts>10)return;window.log('VideoHTML5._onFail('+evt.type+'): '+this._loadFailAttempts);var video=this.getElm()[0];window.setTimeout($.proxy(video,'load'),1000)},_onError:function(evt){this._loadFailAttempts++;if(this._loadFailAttempts>10)return;window.log('VideoHTML5._onError: '+this._loadFailAttempts);var video=this.getElm()[0];window.setTimeout($.proxy(video,'load'),1000)},onAppended:function(){this._bindEvents()},_onEnded:function(evt){this.pause();this.setCurrentTime(0);this.notify(evt)},_destroy:function(){}}},VideoFlash={properties:{_hasFullScreenControl:false,_isAvailable:false},prototype:{getElmId:function(){return this.id+'-flash'},createElm:function(){var flashId=this.getElmId(),attributes={id:flashId},params={allowFullScreen:true,wmode:'opaque'},flashvars={id:flashId,w:this.width,h:this.height},flashUrl=this.swfPath+'/ui/ext/swf/videoplayer.swf?cb='+this.cb;if($.browser.msie)flashUrl=flashUrl.split('?')[0]+'?cb='+new Date().getTime();var expressPath=this.swfPath+'/ui/ext/swf/expressInstall.swf?cb='+this.cb,html=$.getFlash(flashUrl,this.width,this.height,10,expressPath,flashvars,params,attributes);return $(html)},_unbindEvents:function(){window.log('VideoFlash._unbindEvents');delete $.flashProxy._events[this.getElmId()]},_bindEvents:function(){var flashId=this.getElmId();window.log('VideoFlash._bindEvents');var callback=$.proxy(function(){window.log('VideoFlash LOADED');this._isAvailable=true;var $container=$('#'+flashId).parents('.video-container:first'),$fullscreen=$container.find('.fullscreen:first');if($fullscreen&&$fullscreen.length===1){$fullscreen.css('display','block').removeClass('disabled');var $fullscreenSpan=$fullscreen.find('> span'),bg=$.trim($fullscreenSpan.css('background-image')).replace(/^url\(['|'"]?/,'').replace(/['|'"]?\)$/,'');this._hasFullScreenControl=(bg.length>0&&bg!=='none');if(this._hasFullScreenControl){var w=$fullscreen.outerWidth(),h=$fullscreen.outerHeight(),x=$container.innerWidth()-w,y=$container.innerHeight()-h,pos;pos=$.trim($fullscreenSpan.css('background-position')).split(' ');if(pos.length!==2)pos=($.browser.msie)?[$fullscreenSpan[0].currentStyle.backgroundPositionX,$fullscreenSpan[0].currentStyle.backgroundPositionY]:[0,0];var defaultClipX=Number(pos[0].replace(/\D/g,'')||0),defaultClipY=Number(pos[1].replace(/\D/g,'')||0);$fullscreen.addClass('hover');pos=$.trim($fullscreenSpan.css('background-position')).split(' ');if(pos.length!==2)pos=($.browser.msie)?[$fullscreenSpan[0].currentStyle.backgroundPositionX,$fullscreenSpan[0].currentStyle.backgroundPositionY]:[0,0];var hoverClipX=Number(pos[0].replace(/\D/g,'')||0),hoverClipY=Number(pos[1].replace(/\D/g,'')||0);$fullscreen.addClass('disabled').removeClass('hover').css('display','none');var $controls=$container.find('.controls');$controls.css('width','auto');x=$controls.width();window.log('VideoFlash fullsceen image: '+bg);$.flashProxy.callFlash(flashId,'setFullScreenControl',bg,x,y,w,h,defaultClipX,defaultClipY,hoverClipX,hoverClipY);$container.mouseenter(function(evt){$.flashProxy.callFlash(flashId,'showFullScreenControl')}).mouseleave(function(evt){$.flashProxy.callFlash(flashId,'hideFullScreenControl')})}}},this),flashEvents={loadstart:$.proxy(function(evt){this.onLoadStarted(evt)},this),metadata:$.proxy(function(evt){window.log('VideoFlash onmetadata event');this._onLoadedMetaData(evt)},this),canplay:$.proxy(function(evt){this._onCanPlay(evt)},this),progress:$.proxy(function(evt){this._onProgress(evt)},this),buffer:$.proxy(function(evt){window.log('VideoFlash.onbuffer:: '+evt.status);this.setBufferingStatus((evt.status==='buffering'))},this),timeupdate:$.proxy(function(evt){this._onTimeUpdate(evt)},this),play:$.proxy(function(evt){this._onPlaying({type:'playing'});this._onPlay(evt)},this),pause:$.proxy(function(evt){this._onPause(evt)},this),error:$.proxy(function(evt){this.notify(evt)},this),log:$.proxy(function(evt){this.notify(evt)},this),volumechange:$.proxy(function(evt){this.notify(evt)},this),fullscreenchange:$.proxy(function(evt){this.notify(evt)},this),emptied:$.proxy(function(evt){this.notify(evt)},this),ended:$.proxy(function(evt){this._onEnded(evt)},this),destroy:$.proxy(function(evt){$.flashProxy.removeSWF(this.getElmId())},this)};$.flashProxy.onload(flashId,function(){for(var prop in flashEvents)$.flashProxy.bind(flashId,prop,flashEvents[prop]);callback.call(this)})},_setSrc:function(url,time){window.log('VideoFlash.setSrc("'+url+'", '+(time||0));if(!this._isAvailable){window.log('Video not available, retrying setSrc in 1000ms');window.setTimeout($.proxy(function(){this.setSrc(url,time||0)},this),1000);return};window.log('VideoFlash.setSrc("'+url+'", '+(time||0)+' - available, setting source!');$.flashProxy.callFlash(this.getElmId(),'setSrc',url,time)},load:function(){if(!this._isAvailable){window.log('VideoFlash.load:: Video not available, retrying load in 1000ms');window.setTimeout($.proxy(function(){this.load()},this),1000);return};window.log('VideoFlash.load:: Video available - loading!');$.flashProxy.callFlash(this.getElmId(),'load')},_onLoadedMetaData:function(evt){this.durationSeconds=evt.data.duration||0;this.duration=this.formatTime(this.durationSeconds);this.notify(evt)},_onCanPlay:function(evt){this._canPlay=true;this.notify(evt);if(this._setQualityFlag){this._setQualityFlag=false}else if(this.autoplay)this.play()},canPlay:function(){return(this._canPlay&&this._isAvailable)},_play:function(){$.flashProxy.callFlash(this.getElmId(),'play')},_pause:function(){$.flashProxy.callFlash(this.getElmId(),'pause')},setFullScreen:function(on){},_setVolume:function(vol){if(!this._isAvailable)return;$.flashProxy.callFlash(this.getElmId(),'setVolume',vol)},_onVolumeChange:function(evt){this.volume=evt.volume;this.notify(evt)},_onProgress:function(evt){if(evt.percentLoaded===this._lastProgress)return;this._lastProgress=evt.percentLoaded;this.buffer=(this.durationSeconds*(this._lastProgress/100));this.notify({type:'progress',percent:evt.percentLoaded})},_toggleMute:function(){if(!this._isAvailable)return;$.flashProxy.callFlash(this.getElmId(),'toggleMute')},_setCurrentTime:function(time){window.log('VideoFlash.setCurrentTime('+time+') of buffered '+this.buffer+':: isAvailable? '+this._isAvailable);if(!this._isAvailable){window.setTimeout($.proxy(function(){this.setCurrentTime(time)},this),250);return};$.flashProxy.callFlash(this.getElmId(),'seek',time)},setBufferingStatus:function(isBuffering){if(isBuffering===this.isBuffering)return;this.isBuffering=isBuffering;var evt={type:'buffer',status:'complete'};if(isBuffering)evt.status='buffering';this.notify(evt)},_onTimeUpdate:function(evt){this.onTimeUpdate(evt)},onAppended:function(){this._bindEvents()},_onEnded:function(evt){this.notify(evt)},_destroy:function(){$.flashProxy.callFlash(this.getElmId(),'destroy')}}},Video=function(options){Observable(this);if(isHTML5VideoSupported()){$.extend(this,VideoHTML5.properties)}else $.extend(this,VideoFlash.properties);this.id=options.id;this.width=options.video.w;this.height=options.video.h;this.urls=options.video.urls;this.poster=options.video.poster;this.swfPath=options.video.path;this.cb=options.video.cb||'';this.buffer=0;this.duration=0;this.durationSeconds=0;this.autoplay=false;this._canPlay=false;this._lastProgress=0;this._requestTimer=null;this._setQualityFlag=false;this._$elm=this.createElm();this.urlIndex=0;this.urlMode='sd';this.url=null;this.restrictions=options.restrictions;for(var idx=0,len=this.restrictions.length;idx<len;idx++)this.restrictions[idx].attach('restrictionchange',$.proxy(this,'onRestrictionChange'));this.state=null;this.request=null;this.currentTime=0;this.volume=100;this.isMuted=false;this.isFullScreeen=false;this.isClosedCaptioned=false};$.extend(Video.prototype,((isHTML5VideoSupported())?VideoHTML5.prototype:VideoFlash.prototype));Video.prototype.formatTime=function(time){var hours=0,minutes=0,seconds=Math.ceil(time||0);if(seconds>=60){minutes=Math.floor(seconds/60);seconds=seconds-(minutes*60);if(minutes>=60){hours=Math.floor(minutes/60);minutes=minutes-(hours*60)}};hours=hours.toString();if(hours.length<2)hours='0'+hours;minutes=minutes.toString();if(minutes.length<2)minutes='0'+minutes;seconds=seconds.toString();if(seconds.length<2)seconds='0'+seconds;return[hours,minutes,seconds].join(':')};Video.prototype.getElm=function(){var $elm;if(this._$elm){$elm=this._$elm;delete this._$elm}else $elm=$('#'+this.getElmId());return $elm};Video.prototype.setSrc=function(url,time){if(url===this.url)return;this.url=url;this._setSrc(this.url,time)};Video.prototype.getUrl=function(){return this.urls[this.urlIndex][this.urlMode]};Video.prototype.onLoadStarted=function(evt){this.notify({type:'loadstart'});if(this._setQualityFlag)this.notify({type:'qualitychange',mode:this.urlMode});if(this.state==='playing'){this.state=null;this._requestPlay()}};Video.prototype.play=function(){if(this.isRestricted())return;if(!this.canPlay()){if(!this.url){this.setSrc(this.getUrl());this.load()};if(this._requestTimer){window.clearTimeout(this._requestTimer);this._requestTimer=null};this._requestTimer=window.setTimeout($.proxy(this,'play'),500);return};if(this.request!=='play'&&this.state!=='playing')this._requestPlay()};Video.prototype._requestPlay=function(){this.request='play';this.engine.pauseAll(null,this);if(this.canPlay())this._play();if(this.state!=='playing')window.setTimeout($.proxy(this,'_checkPlay'),1000)};Video.prototype._checkPlay=function(){if(this.request==='play'&&this.state!=='playing')this._requestPlay()};Video.prototype.setCurrentTime=function(time){this._setCurrentTime(time)};Video.prototype.onTimeUpdate=function(evt){this.currentTime=evt.currentTime;this.notify({type:'timeupdate',currentTime:evt.currentTime})};Video.prototype._onPlay=function(evt){this.request=null;this.state='playing';this.notify(evt)};Video.prototype._onPlaying=function(evt){this.notify(evt)};Video.prototype.pause=function(){if(this.request==='play'||this.state==='playing')this._requestPause()};Video.prototype._requestPause=function(){this.request='pause';this._pause();if(this.state!=='paused')window.setTimeout($.proxy(this,'_checkPause'),1000)};Video.prototype._checkPause=function(){window.log('Video._checkPause: request = '+this.request+', state = '+this.state);if(this.request==='pause'&&this.state!=='paused')this._requestPause()};Video.prototype._onPause=function(evt){this.request=null;this.state='paused';this.notify(evt)};Video.prototype.togglePlayPause=function(){if(this.state==='playing'){this.pause()}else if(this.state==='paused')this.play()};Video.prototype.getVolume=function(){return this.volume};Video.prototype.setVolume=function(vol){if(this.volume===vol)return;this._setVolume(vol)};Video.prototype.toggleMute=function(){var lastVolume=this.getVolume();this.isMuted=!this.isMuted;this._toggleMute();this.notify({type:'mutechange',muted:this.isMuted,lastVolume:lastVolume})};Video.prototype.setQuality=function(quality){if(quality===this.urlMode)return;this._setQualityFlag=true;this.urlMode=quality;this.setSrc(this.getUrl(),this.currentTime);this.load()};Video.prototype.toggleQuality=function(){if(this.urlMode==='sd'){this.setQuality('hd')}else this.setQuality('sd')};Video.prototype.toggleFullScreen=function(){this.setFullScreen((this.isFullScreen=!this.isFullScreen))};Video.prototype._onFullScreenChange=function(evt){this.notify(evt)};Video.prototype._onEmptied=function(evt){this.notify(evt)};Video.prototype.isRestricted=function(){if(this.restrictions.length===0)return false;for(var idx=0,len=this.restrictions.length;idx<len;idx++)if(this.restrictions[idx].isRestricted())return true;return false};Video.prototype.onRestrictionChange=function(evt){if(evt.restricted)this.pause();this.notify(evt)};Video.prototype.updateClosedCaptions=function(on){if(this.isClosedCaptioned===on)return;this.isClosedCaptioned=on;this.notify({type:'closedcaptionschange',on:on})};Video.prototype.toggleClosedCaptions=function(){this.updateClosedCaptions(!this.isClosedCaptioned)};Video.prototype.destroy=function(){this.engine.remove(this);this.pause();this.setCurrentTime(0);this._destroy();this._unbindEvents();this.getElm().remove();this.notify({type:'destroy'});this.detach()};var VideoEngineSingleton=function(){Observable(this);this.videos={};var onunload=$.proxy(this,'destroy');if(window.attachEvent){window.attachEvent('onbeforeunload',onunload)}else $(window).bind('unload',onunload)};VideoEngineSingleton.prototype.destroy=function(video){for(var id in this.videos)this.videos[id].destroy()};VideoEngineSingleton.prototype.remove=function(video){if(!this.videos[video.id]){window.log('VideoEngine.remove:: Video "'+video.id+'" does not exist');return};delete this.videos[video.id]};VideoEngineSingleton.prototype.addVideo=function(video){if(this.videos[video.id]){window.log('VideoEngine.addVideo:: Video "'+video.id+'" already exists');return};this.videos[video.id]=video;video.engine=this};VideoEngineSingleton.prototype.pauseAll=function(video,ignoreVideo){if(video)return video.pause();var wasPlaying=false;for(var id in this.videos){if(this.videos[id]===ignoreVideo)continue;if(this.pauseAll(this.videos[id]))wasPlaying=true};return wasPlaying};VideoEngineSingleton.prototype.resetAll=function(video,ignoreVideo){if(video){video.setCurrentTime(0);return video.pause()};var wasPlaying=false;for(var id in this.videos){if(this.videos[id]===ignoreVideo)continue;if(this.resetAll(this.videos[id]))wasPlaying=true};return wasPlaying};var VideoEngine=$.VideoEngine=new VideoEngineSingleton();$.createVideo=function($container){var $poster=$container.find('.poster:first'),$ageGate=$container.find('.age-gate:first'),$timeRestriction=$container.find('.time-restriction:first');if(!$container.attr('id'))$container.attr('id','VideoContainer-'+new Date().getTime());var options={id:$container.attr('id'),video:new Function('return '+$container.data('video-settings'))(),restrictions:[]};options.video.poster=($poster.length===1)?$poster.find('img:first').attr('src'):'';if($ageGate.length===1){var restriction=new AgeRestriction(options.video.id,new Function('return '+$ageGate.data('age-gate'))());options.restrictions.push(restriction);if(!restriction.isRestricted())$ageGate.remove()};if($timeRestriction.length===1)options.restrictions.push(new TimeRestriction(options.video.id,new Function('return '+$timeRestriction.data('time-restriction'))()));var video=new Video(options);VideoEngine.addVideo(video);$container.data('video',video);$container.prepend(video.getElm());video.onAppended()}})(jQuery,this);(function($,window,undefined){var $body=$(document.body);if($.browser.msie)switch(parseInt($.browser.version)){case (6):{$body.addClass('ie ie6 lte7 lte8 lte9');break};case (7):{$body.addClass('ie ie7 lte8 lte9');break};case (8):{if(document.documentMode===7){$body.addClass('ie ie7 lte8 lte9')}else $body.addClass('ie ie8 lte9');break};case (9):{$body.addClass('ie ie9');break}};$body.removeClass('dom-loading');if($.isFunction($body.gridready))$body.gridready(function(evt){$(this).removeClass('reordering')});$('.disabled').live('click',function(evt){evt.preventDefault();return false});var keys=[],keyTimer=null;$(document).keyup(function(evt){if(keyTimer){window.clearTimeout(keyTimer);keyTimer=null};if(evt.which===16)return;var which=(evt.shiftKey&&evt.which===51)?'#':evt.which;keys[keys.length]=which;if(keys.join('|')==='#|77|73|75|69'){var debugOn=!window.ATLAS_DEBUG;window.ATLAS_DEBUG=true;window.log('DEBUG '+((debugOn)?'ON':'OFF'));window.ATLAS_DEBUG=debugOn;keys=[]};keyTimer=window.setTimeout(function(){keys=[]},2000)});var env=window.location.hostname.split('.')[0];window.ATLAS_DEBUG=(env==='local'||env==='dev'||env==='test');if(!window.log)window.log=function(){log.history=log.history||[];log.history.push(Array.prototype.slice.call(arguments));if(this.console&&this.ATLAS_DEBUG)console.log(Array.prototype.slice.call(arguments))}})(jQuery,this);(function($,window,undefined){$.getDialogSettings=function($elm){try{return eval('['+($.trim($elm.attr('data-modal'))||'{}')+']')[0]}catch(ex){window.log('ERROR in DialogModalManager.getSettings(): '+ex.message);return{}}};var initDialog=function($dialog,settingsOverride){if(!settingsOverride)settingsOverride={};if(!$dialog||$dialog.length===0){if(!settingsOverride.id)return $();$dialog=$('#'+settingsOverride.id);if($dialog.length===0)$dialog=$('<div id="'+settingsOverride.id+'" class="modal-waiting"></div>').appendTo(document.body)};var modalSettings=$.getDialogSettings($dialog),settings=$.extend({src:'javascript:false;'},modalSettings,settingsOverride),hasIframe=($dialog.find('iframe').length===1);if(hasIframe)settings.iframe=true;if(settings.iframe){if(!hasIframe)$dialog.append('<iframe src="javascript:false;" scrolling="no"></iframe>');$dialog.addClass('modal-frame').bind('closeDialogModal',function(evt){$(this).dialog('close')}).bind('resizeDialogModal',function(evt,w,h){$(this).dialog('option','width',w).dialog('option','height',h).dialog('option','position','center')});if(settings.child_domain){if(settings.src!=='javascript:false;')settings.src+='#'+encodeURIComponent(document.location.href);$.receiveMessage(function(evt){var obj=$.parseJSON(evt.data);switch(obj.action){case ('resize'):{$.event.trigger('resizeDialogModal',[obj.width,obj.height]);break};case ('close'):{$.event.trigger('closeDialogModal');break}}},settings.child_domain)}};if($dialog.data('dialogInitialized')){if(settings.type)$dialog.parent().replaceClass('modal-\\d+','modal-'+settings.type);if(settings.width)$dialog.dialog('option','width',settings.width);if(settings.height)$dialog.dialog('option','height',settings.height);if($.isFunction(settings.create))$dialog.dialog('option','create',settings.create);if($.isFunction(settings.open))$dialog.dialog('option','open',settings.open);if($.isFunction(settings.close))$dialog.dialog('option','close',settings.close);if($.isFunction(settings.beforeClose))$dialog.dialog('option','beforeClose',settings.beforeClose)}else{var dialogSettings={modal:true,draggable:false,resizable:false,autoOpen:false,show:'fade',hide:'fade',dialogClass:'modal modal-'+settings.type};if($.isFunction(settings.create))dialogSettings.create=settings.create;if(settings.iframe){dialogSettings.open=function(evt,ui){var $this=$(this);$this.find('iframe').attr('src',settings.src);if($.isFunction(settings.open))$.proxy(settings.open,$this)(evt,ui)};dialogSettings.close=function(evt,ui){var $this=$(this);$this.find('iframe').attr('src','javascript:false;');if(settings.child_domain)$.receiveMessage();if($.isFunction(settings.close))$.proxy(settings.close,$this)(evt,ui)};if($.isFunction(settings.beforeClose))dialogSettings.beforeClose=settings.beforeClose}else{if($.isFunction(settings.open))dialogSettings.open=settings.open;if($.isFunction(settings.close))dialogSettings.close=settings.close;if($.isFunction(settings.beforeClose))dialogSettings.beforeClose=settings.beforeClose};$dialog.removeClass('modal-waiting').css('display','block');dialogSettings.width=(settings.width)?settings.width:$dialog.outerWidth();dialogSettings.height=(settings.height)?settings.height:$dialog.outerHeight();$dialog.dialog(dialogSettings).data('dialogInitialized',true)};return $dialog};$.fn.modal=function(settings){return this.each(function(idx){return initDialog($(this),settings)})};$('a[rel*=modal]').live('click',function(evt){evt.preventDefault();var $this=$(this),settings=$.getDialogSettings($this);if(!settings.src)settings.src=$this.attr('href');initDialog(null,settings).dialog('open')})})($,this);(function($,window,undefined){$.fn.carouselMedia=function(settings){settings=$.extend({visible:4},settings);settings.step=settings.visible;return this.each(function(){var $carousel=$(this);if(!$carousel.hasClass('carousel'))$carousel.addClass('carousel');if(!$carousel.hasClass('carousel-media'))$carousel.addClass('carousel-media');var $ul=$carousel.find('> ul'),count=$ul.find('> li').length,diff=(count%settings.visible);if(diff!==0){$ul.find('> li.last').removeClass('last');var fill=(settings.visible-diff),idx=count,html=[];while(fill>0){idx++;fill--;html[html.length]='<li class="item-'+idx+((idx%2===0)?' even':' odd')+((fill===0)?' last':'')+'"></li>'};$ul.append(html.join(''))};if(count>settings.visible)$carousel.carousel({step:settings.step,visible:settings.visible,pagination:true,callback:settings.callbac,transitionComplete:settings.transitionComplete})})};$.fn.carouselMediaPlayer=function(settings){return this.each(function(){var $carousel=$(this);if(!$carousel.hasClass('carousel'))$carousel.addClass('carousel');if(!$carousel.hasClass('carousel-mediaplayer'))$carousel.addClass('carousel-mediaplayer');if($carousel.find('> ul > li').length>1){var _settings={step:1,visible:1,pagination:false,loop:true,autoslide:false,callback:settings.callback,transitionComplete:settings.transitionComplete};$carousel.carousel(_settings)}})};$.fn.carouselGames=function(settings){settings=$.extend({visible:5},settings);settings.step=settings.visible;return this.each(function(){var $carousel=$(this);if(!$carousel.hasClass('carousel'))$carousel.addClass('carousel');if(!$carousel.hasClass('carousel-media'))$carousel.addClass('carousel-games');var $ul=$carousel.find('> ul'),count=$ul.find('> li').length,diff=(count%settings.visible);if(diff!==0){$ul.find('> li.last').removeClass('last');var fill=(settings.visible-diff),idx=count,html=[];while(fill>0){idx++;fill--;html[html.length]='<li class="item-'+idx+((idx%2===0)?' even':' odd')+((fill===0)?' last':'')+'"></li>'};$ul.append(html.join(''))};if(count>settings.visible)$carousel.carousel({step:settings.step,visible:settings.visible,pagination:true,callback:settings.callbac,transitionComplete:settings.transitionComplete})})}})(jQuery,this);(function($,window,undefined){if($('#mod-filter-results').length!==1)return;var FilterResultsModel=function EA_FilterResultsModel(){this.serviceUrl=EA.filter.feedUrl;this.limit=EA.filter.limit;this.sort=EA.filter.sort;this.filters=EA.filter.filters;this.totalPages=EA.filter.totalPages;this.totalResults=EA.filter.totalResults;this.loadingText=EA.filter.loadingText;this.offset=EA.filter.offset;this.total=this.totalResults;this.page=1;this.pages=this.totalPages};FilterResultsModel.prototype.goToPage=function(page){if(page>this.pages){page=this.pages}else if(page<1)page=1;window.log('FilterResultsModel.goToPage('+page+')');if(page===this.page){window.log('FilterResultsModel.goToPage('+page+') ERROR: already on page '+page);return};this.page=page;this.loadResults()};FilterResultsModel.prototype.pageNext=function(){this.goToPage(this.page+1)};FilterResultsModel.prototype.loadResults=function(){window.log('FilterResultsModel.loadResults()');var offset=this.offset,limit=(this.limit*this.page)-offset;this.offset+=limit;if(this.offset>this.totalResults)this.offset=this.totalResults;$.get(this.serviceUrl,{offset:offset,limit:limit,sort:this.sort,filters:this.filters,json:true,cache:false,timeout:10000},$.proxy(this,'loadResultsComplete'),'json')};FilterResultsModel.prototype.loadResultsComplete=function(results){window.log('FilterResultsModel.loadResultsComplete()');$.event.trigger('filterResultsLoadResultsComplete',results)};FilterResultsModel.prototype.init=function(html){if(this.totalResults===0){$.event.trigger('filterResultsEnd');return};window.log('FilterResultsModel.init()');$.event.trigger('filterResultsInit')};$.EA_FilterResultsModel=new FilterResultsModel()})(jQuery,this);(function($,window,undefined){if(!EA.comments)return;var Comments=function(){Observable(this);this.cookieId='ea_comment';this.ajaxTimeout=5000;this.page=1;this.frequencyLimit=(EA.comments.frequencyLimit||0)*1000};Comments.prototype.getCookie=function(bool){var cookie=$.cookie(this.cookieId),cookieExists=(cookie&&cookie!=='undefined');if(!cookieExists){if(bool)return false;cookie={}}else cookie=$.evalJSON(cookie);return cookie};Comments.prototype.setCookie=function(data,commentId){var cookie=this.getCookie();if(commentId){if(!cookie[commentId])cookie[commentId]={};cookie[commentId]=$.extend(true,cookie[commentId],data)}else cookie=$.extend(true,cookie,data);$.cookie(this.cookieId,$.toJSON(cookie))};Comments.prototype.callService=function(serviceKey,data,success,error,params){var _success=success,_error=error;if(params){_success=$.proxy(function(data,status,$xhr){success.call(this,data,status,$xhr,params)},this);_error=$.proxy(function(){error.call(this,$xhr,status,ex,params)},this)};$.ajax({url:EA.comments.urls[serviceKey],method:'post',dataType:'json',timeout:this.ajaxTimeout,cache:false,data:data,context:this,success:_success,error:_error})};Comments.prototype.init=function(){var cookie=this.getCookie(true);if(cookie===false){$.cookie(this.cookieId,'{}');return};var secondsLeft=this.checkTooFrequent();if(secondsLeft>0)this.frequencyTimer=window.setTimeout($.proxy(this,'clearFrequent'),(secondsLeft*1000));this.notify('commentsInit',cookie);this.updatePage()};Comments.prototype.clearFrequencyTimer=function(){if(this.frequencyTimer){window.clearTimeout(this.frequencyTimer);this.frequencyTimer=null}};Comments.prototype.clearFrequent=function(){this.clearFrequencyTimer();this.setCookie({lastCommented:0},null);this.notify('commentsTooFrequentEnd',{message:'...'})};Comments.prototype.setLastCommented=function(){this.clearFrequencyTimer();this.setCookie({lastCommented:new Date().getTime()},null);this.frequencyTimer=window.setTimeout($.proxy(this,'clearFrequent'),this.frequencyLimit)};Comments.prototype.checkTooFrequent=function(){var cookie=this.getCookie();if(!cookie.lastCommented)return 0;var limit=new Date();limit.setTime(cookie.lastCommented+this.frequencyLimit);var now=new Date();if(now.getTime()>=limit.getTime()){this.clearFrequent();return 0};limit=new Date();limit.setTime(cookie.lastCommented);return Math.ceil((new Date().getTime()-limit.getTime())/1000/1000)};Comments.prototype.more=function(){this.setPage()};Comments.prototype.setPage=function(page){var data={page:page};if(isNaN(data.page)||data.page<1)data.page=this.page+1;this.callService('fetch',data,this.onMoreSuccess,this.onMoreError)};Comments.prototype.updatePage=function(data){data=$.extend({page:this.page,totalComments:EA.comments.totalComments},data);EA.comments.totalComments=data.totalComments;this.page=data.page;if((this.page*EA.comments.itemsPerPage)>=data.totalComments)this.notify('commentsMoreEnd')};Comments.prototype.onMoreSuccess=function(data,status,$xhr){if(!data||data.error){this.onMoreError.call(this,$xhr,'error',{message:((data)?data.error:'No data')},params);return};this.notify('commentsMoreSuccess',data);this.updatePage(data)};Comments.prototype.onMoreError=function($xhr,status,ex){this.notify('commentsMoreError',{message:ex.message})};Comments.prototype.add=function(comment,parentId){var secondsLeft=this.checkTooFrequent();if(secondsLeft>0){this.notify('commentsTooFrequent',{id:parentId,message:EA.comments.messages.frequent.replace(/\%FREQUENCY_LIMIT\%/g,secondsLeft)});return};this.callService('token',null,this.onAddGetTokenSuccess,this.onAddGetTokenError,{comment:comment,parentId:parentId})};Comments.prototype.onAddGetTokenSuccess=function(data,status,$xhr,params){var token=data.token,data={commentText:params.comment,commentPermalink:EA.comments.permalink,commentChannel:EA.comments.channel,commentingToken:token};if(params.parentId)data.commentId=params.parentId;this.callService('comment',data,this.onAddSuccess,this.onAddError,{parentId:params.parentId})};Comments.prototype.onAddGetTokenError=function($xhr,status,ex,params){this.notify('commentsAddError',{message:ex.message,id:params.parentId})};Comments.prototype.onAddSuccess=function(data,status,$xhr,params){if(!data||data.error){this.onAddError.call(this,$xhr,'error',{message:((data)?data.error:'No data')},params);return};this.setLastCommented();this.updatePage(data);switch(data.status.toLowerCase()){case ('success'):{this.notify('commentsAddSuccess',data);break};case ('spam'):{data.message=EA.comments.messages.spam;this.notify('commentsAddSpam',data);return;break};case ('frequent'):{data.message=EA.comments.messages.frequent.replace(/\%FREQUENCY_LIMIT\%/g,data.remaining_time);this.notify('commentsTooFrequent',data);return;break};case ('characters'):{data.message=EA.comments.messages.characters;this.notify('commentsTooManyCharacters',data);return;break};default:{window.log('Comments.onAddSuccess:: Unknown status = "'+data.status+'"');break}}};Comments.prototype.onAddError=function($xhr,status,ex,params){this.notify('commentsAddError',{message:ex.message,parentId:params.parentId})};Comments.prototype.rate=function(commentId,type){var data={commentId:commentId,voted:false},cookie=this.getCookie();if(cookie[commentId]){data.voted=Boolean(cookie[commentId].rating==-1||cookie[commentId].rating==1);if((type==='up'&&cookie[commentId].rating===1)||(type==='down'&&cookie[commentId].rating===-1))return};this.callService('token',null,this.onRateGetTokenSuccess,this.onRateGetTokenError,{id:commentId,type:type,voted:data.voted})};Comments.prototype.onRateGetTokenSuccess=function(data,status,$xhr,params){var token=data.token,data={commentId:params.id,voted:params.voted,commentingToken:token};this.callService(params.type,data,this.onRateSuccess,this.onRateError,params)};Comments.prototype.onRateGetTokenError=function($xhr,status,ex,params){this.notify('commentsRateError',{message:ex.message,id:params.id,type:params.type})};Comments.prototype.onRateSuccess=function(data,status,$xhr,params){if(!data||data.error){this.onRateError.call(this,$xhr,'error',{message:((data)?data.error:'No data')},params);return};this.setCookie({rating:(params.type==='up')?1:-1},data.id);data.up=parseInt(data.up.toString().replace(/\D/g,'')||0);data.down=parseInt(data.down.toString().replace(/\D/g,'')||0);this.notify('commentsRateSuccess',data)};Comments.prototype.onRateError=function($xhr,status,ex,params){this.notify('commentsRateError',{message:ex.messsge,id:params.id,type:params.type})};Comments.prototype.flag=function(commentId){var cookie=this.getCookie();if(cookie[commentId]&&cookie[commentId].flagged)return;this.callService('token',null,this.onFlagGetTokenSuccess,this.onFlagGetTokenError,{id:commentId})};Comments.prototype.onFlagGetTokenSuccess=function(data,status,$xhr,params){if(!data||data.error){this.onFlagError.call(this,$xhr,'error',{message:((data)?data.error:'No data')},params);return};var token=data.token,data={commentId:params.id,commentingToken:token};this.callService('report',data,this.onFlagSuccess,this.onFlagError,{id:params.id})};Comments.prototype.onFlagGetTokenError=function($xhr,status,ex,params){this.notify('commentsFlagError',{message:ex.messsge,id:params.id,type:params.type})};Comments.prototype.onFlagSuccess=function(data,status,$xhr,params){if(!data||data.error){this.onFlagError.call(this,$xhr,'error',{message:((data)?data.error:'No data')},params);return};this.setCookie({flagged:1},data.id);data.message=EA.comments.messages.flagged;this.notify('commentsFlagSuccess',data)};Comments.prototype.onFlagError=function($xhr,status,ex,params){this.notify('commentsFlagError',{message:ex.message,id:params.id})};$.Comments=new Comments()})(jQuery,this);(function($,window,undefined){$(window).load(function(){if(EA.stats!=null&&EA.stats.logViewUrl!==null)$.ajax({url:EA.stats.logViewUrl,type:'POST',success:function(data){return}})})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-redirect-modal');if($mod.length!==1)return;$mod.find(".mod-footer .btn[rel='modal']").click();$mod.find(".country").live('click',function(evt){evt.preventDefault();var ea_usc=$(this).data("country-code"),days=$(this).data("cookie-days")?$(this).data("cookie-days"):30,href=$(this).attr("href");$.cookie('ea_usc',ea_usc,{expires:days,path:'/'});window.log("### SET COOKIE ea_usc: "+$.cookie('ea_usc')+" FOR "+days+" DAYS");if(href==="#"){$mod.dialog("close");if((typeof s_ea!='undefined')&&(s_ea!=null)){var s_code=s_ea.t();if(s_code)document.write(s_code)};if((typeof setOmniValues=='function'))setOmniValues(null,'o','GEOIPREDIRECTSTAY_'+ea_usc,'','','',0,'','')}else{if((typeof setOmniValues=='function'))setOmniValues(null,'o','GEOIPREDIRECTBACK_'+ea_usc,'','','',0,'','');window.location.href=href}})})(jQuery,this);(function($,window,undefined){var searchClicked=false;$('#search-form > .actions > input').mousedown(function(evt){searchClicked=true});$('#field-search').focus(function(evt){var $this=$(this);$this.data('prevWidth',$this.width()).animate({width:'155px'},250)}).blur(function(evt){if(searchClicked){searchClicked=false;return};var $this=$(this);$this.animate({width:($this.data('prevWidth')+'px')},250)}).keydown(function(evt){evt.stopImmediatePropagation()});if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){$.selectmenuCreate=function(){if(!this.newelement)return;this.newelement.prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>')};$('#header > .navigation > ul > li > .menu > ul').before('<i class="hk-shadow"></i>');$('#footer > .footer-top > .footer-content').prepend('<i class="hk-shadow"></i>')};$('.mask').live('mouseenter',function(evt){$(this).find('> span.last').stop(true,true).animate({left:'-0px'},250,'easeInOutCubic')});$('.mask').live('mouseleave',function(evt){$(this).find('> span.last').stop(true,true).animate({left:'-298px'},250,'easeInOutCubic')});var $breadcrumbsTickerItems=$('#mod-breadcrumbs > .mod-footer > ol.ticker > li'),breadcrumbsTickerItemsLen=$breadcrumbsTickerItems.length;if(breadcrumbsTickerItemsLen>0){var breadcrumbsTickerItemsIdx=0;$breadcrumbsTickerItems.eq(breadcrumbsTickerItemsIdx).show();if(breadcrumbsTickerItemsLen>1){var tickerTick=function(){var $current=$('#mod-breadcrumbs > .mod-footer > ol.ticker > li:eq('+breadcrumbsTickerItemsIdx+')').fadeOut('slow',function(evt){breadcrumbsTickerItemsIdx++;if(breadcrumbsTickerItemsIdx===breadcrumbsTickerItemsLen)breadcrumbsTickerItemsIdx=0;$('#mod-breadcrumbs > .mod-footer > ol.ticker > li:eq('+breadcrumbsTickerItemsIdx+')').fadeIn('slow',function(evt){window.setTimeout(tickerTick,10000)})})};window.setTimeout(tickerTick,10000)}};var boomHtml=[];$('.xdebug-var-dump').each(function(idx){var $this=$(this);boomHtml[boomHtml.length]='<pre class="xdebug-var-dump">'+$this.html()+'</pre>';$this.remove()});if(boomHtml.length>0)$(document.body).prepend(boomHtml.join(''))})(jQuery,this);(function($,window,undefined){})(jQuery,this);(function($,window,undefined){var $mod=$('#country-selector');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$('#country-selector').before('<i class="hk-shadow-2"></i>');$ul=$mod.find(".countries");var liHeight=parseInt($ul.find("li.first").height()),liBorderBottom=parseInt($ul.find("li.first").css("border-bottom-width").replace("px",""));liHeight=liHeight+liBorderBottom;if($.browser.msie&&(parseInt($.browser.version)===7))liHeight++;var ulHeight=parseInt($ul.find(".col-1").size())*liHeight;$ul.css('height',ulHeight);var negitiveMargin=-1*ulHeight;$ul.find(".col-2.first-in-col").css("marginTop",negitiveMargin);$ul.find(".col-3.first-in-col").css("marginTop",negitiveMargin);var mouseLeaveDelay=null,delayedMouseLeave=function(){$(this).removeClass('open').addClass('closing').find('> ul.countries').slideToggle(250,function(evt){$(this).parent().removeClass('closing')});mouseLeaveDelay=null};$mod.mouseenter(function(evt){if(mouseLeaveDelay){window.clearTimeout(mouseLeaveDelay);mouseLeaveDelay=null;return};$(this).addClass('open').find('> ul.countries').slideToggle(250)}).mouseleave(function(evt){if(mouseLeaveDelay)window.clearTimeout(mouseLeaveDelay);mouseLeaveDelay=window.setTimeout($.proxy(delayedMouseLeave,this),300)});$('#country-selector > ul.countries > li > a').live('mouseenter',function(evt){var $current=$('#country-selector > .current-country'),$opener=$current.find('> .opener');$opener.data('opener-text',$opener.text());var $flag=$current.find('> .flag'),flag=$.trim($flag[0].className.replace('flag',''));$flag.data('opener-flag',flag);var $this=$(this);$flag.removeClass(flag).addClass($.trim($this.find('> .flag')[0].className.replace('flag','')));$opener.text($this.find('> .label').text())}).live('mouseleave',function(evt){var $current=$('#country-selector > .current-country'),$opener=$current.find('> .opener'),$flag=$current.find('> .flag');$opener.text($opener.data('opener-text'));$flag[0].className='flag '+$flag.data('opener-flag')}).live('click',function(evt){var ea_usc=$(this).data("country-code"),days=$("#country-selector > ul.countries").data("cookie-days")?$("#country-selector > ul.countries").data("cookie-days"):14;$.cookie('ea_usc',ea_usc,{expires:days,path:'/'});window.log("### SET COOKIE ea_usc: "+$.cookie('ea_usc')+" FOR "+days+" DAYS")});if($.cookie('ea_usc'))window.log("### COOKIE ea_usc: "+$.cookie('ea_usc'))})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-menu');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find('> .mod-content > ul > li.has-sub > .sub').prepend('<i class="hk-shadow"></i><i class="hk-bg2"></i>');var mouseLeaveDelay=null,delayedMouseLeave=function(){$(this).find('> .sub').fadeToggle(150);mouseLeaveDelay=null},clearTimer=function(){if(mouseLeaveDelay){window.clearTimeout(mouseLeaveDelay);mouseLeaveDelay=null;return true};return false};$mod.find('> .mod-content > ul > li.has-sub').hover(function(evt){if(!clearTimer())$(this).find('> .sub').fadeToggle(150)},function(evt){clearTimer();mouseLeaveDelay=window.setTimeout($.proxy(delayedMouseLeave,this),300)})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-buy-now');if($mod.length===0)return;var mouseLeaveDelay=null,mouseEnter=function(evt){clearTimer();var $this=$(this);if(!$this.hasClass('hover'))$this.addClass('hover').siblings('.sub').fadeIn(150)},delayedMouseLeave=function(){$mod.find('> .mod-content > .btn-buy').removeClass('hover').siblings('.sub').fadeOut(150);mouseLeaveDelay=null},clearTimer=function(){if(mouseLeaveDelay){window.clearTimeout(mouseLeaveDelay);mouseLeaveDelay=null}},mouseLeave=function(evt){clearTimer();mouseLeaveDelay=window.setTimeout(delayedMouseLeave,300)};$('#mod-buy-now > .mod-content > .btn-buy.multi').live('mouseenter',mouseEnter).live('mouseleave',mouseLeave).live('click',function(evt){evt.stopPropagation();evt.preventDefault()});var $sub=$('#mod-buy-now > .mod-content > .sub').live('mouseenter',clearTimer).live('mouseleave',mouseLeave);$('#mod-buy-now > .mod-content > .sub > ul > li').live('click',function(evt){var href=$(this).find('> a').attr('href');if(href&&href!=='#')window.location.href=href});if($.browser.msie&&parseInt($.browser.version)===7)$sub.prepend('<iframe class="bgiframe" frameborder="0" tabindex="-1" src="javascript:false;" style="display:block;position:absolute;zoom:1;z-index:-1;filter:Alpha(Opacity=\'0\');top:0;left:0;width:100%;height:100%;"/>');$('#mod-buy-now > .mod-content > div.btn-buy').live('mouseleave',mouseLeave);var mcMouseClick=function(evt){evt.stopPropagation();var $this=$(this),countryCode=$.trim(($this.find('> span')[0].className||'').replace('flag ','')),$openSub=$mod.find('> .mod-content > .sub:visible');if(!$openSub.hasClass(countryCode))$openSub.fadeOut(150);var $sub=$mod.find('> .mod-content > .sub.'+countryCode);if($sub.length===1)$sub.fadeIn(150)},mcDocClick=function(evt){$mod.find('> .mod-content > .sub:visible').fadeOut(150)};$mod.find('> .mod-content .multi-country > li').bind('click mouseover',mcMouseClick);$(document.body).click(mcDocClick);$.buyButtonAddCountry=function(countryCode,data){var $multicountry=$mod.find('> .mod-content .multi-country'),$li=$multicountry.find('> li > .'+countryCode).parent();if($li.length!==1){window.log('$.buyButtonAddCountry:: Couldn\'t find .'+countryCode);return};$mod.find('> .mod-content > .out-now-text').remove();$mod.find('> .mod-content > .buy-now-text').removeClass('buy-now-text').wrap('<div class="btn btn-pulldown btn-buy"></div>');var $btn=$mod.find('> .mod-content > div.btn-buy').append($multicountry),right=parseInt($btn.css('padding-right').replace(/\D/g,'')||0);if(right>0)right-=3;for(var idx=$li.index()+1,$lis=$multicountry.find('> li'),len=$lis.length,$_li;idx<len;idx++){$_li=$lis.eq(idx);right+=$_li.outerWidth()+parseInt($_li.css('margin-left').replace(/\D/g,'')||0)+parseInt($_li.css('margin-right').replace(/\D/g,'')||0)};$.createBuyButtonMenu(data,countryCode,right)};$.resetBuyModule=function(){$mod.find('> .mod-content').empty()};$.createBuyButton=function(label,href){var html=[];html[html.length]='<a href="';html[html.length]=href||'#';html[html.length]='" class="btn btn-buy btn-pulldown multi" title="';html[html.length]=label||'';html[html.length]='"><span>';html[html.length]=label||'';html[html.length]='</span></a>';$mod.find('> .mod-content').prepend(html.join(''))};$.createBuyButtonMenu=function(data,countryCode,right){var html=[];html[html.length]='<div class="sub';if(countryCode){html[html.length]=' ';html[html.length]=countryCode};html[html.length]='">';html[html.length]='	<ul>';var game,idx=0,count=0;for(var gameType in data)count++;for(var gameType in data){idx++;game=data[gameType];html[html.length]='		<li class="item-';html[html.length]=idx;html[html.length]=(idx%2===0)?' even':' odd';if(idx===1)html[html.length]=' first';if(idx===count)html[html.length]=' last';html[html.length]=' variationtype-game-';html[html.length]=gameType;html[html.length]='">';html[html.length]='			<a href="';html[html.length]=game.href||'#';html[html.length]='">';html[html.length]='				<span class="thumb"><img src="';html[html.length]=game.thumb||'about:blank';html[html.length]='" alt=""></span>';html[html.length]='				<span class="title">';html[html.length]=game.title||'';html[html.length]='</span>';html[html.length]='				<span class="price">';html[html.length]=game.price||'';html[html.length]='</span>';html[html.length]='			</a>';html[html.length]='		</li>'};html[html.length]='	</ul>';html[html.length]='	<span class="hk-bg" style="left:auto;right:'+(right||10)+'px;"></span>';html[html.length]='</div>';$mod.find('> .mod-content').append(html.join(''));if($.browser.msie&&parseInt($.browser.version)===7)$sub.prepend('<iframe class="bgiframe" frameborder="0" tabindex="-1" src="javascript:false;" style="display:block;position:absolute;zoom:1;z-index:-1;filter:Alpha(Opacity=\'0\');top:0;left:0;width:100%;height:100%;"/>')}})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-media');if($mod.length===0)return;var pageSize=3;if($.browser.msie){if(parseInt($.browser.version)===7||parseInt($.browser.version)===8)$mod.prepend('<i class="hk-shadow"></i>');$mod.find('#media-screenshots > ul > li > a').click(function(evt){window.location.href=this.href})};$mod.find('.mod-content > .tabs').tabs().find('> .ui-tabs-panel').each(function(idx){var $panel=$(this),$ul=$panel.find(' > ul'),$li=$ul.find('> li'),itemWidth=($li.eq(0).outerWidth()+parseInt($li.eq(0).css('margin-left').replace(/\D/g,'')||0)+parseInt($li.eq(0).css('margin-right').replace(/\D/g,'')||0)),w=(itemWidth*$li.length);$ul.width(w);if($li.length>pageSize){var pagination={page:1,itemCount:$li.length,pageCount:Math.ceil($li.length/pageSize),offset:$panel.innerWidth()};$panel.find('> .paginaton > .status > .count').text(pagination.pageCount);$panel.find('> .paginaton > .status > .page').text('1');var pageWidth=itemWidth*pageSize,h=$ul.outerHeight();$panel.find('> .paginaton > .nav').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled'))return;$this.removeClass('disabled').siblings('.disabled').removeClass('disabled');if($this.hasClass('previous')){pagination.page--;if(pagination.page===1)$this.addClass('disabled')}else if($this.hasClass('next')){pagination.page++;if(pagination.page===pagination.pageCount)$this.addClass('disabled')};$this.siblings('.status').find('> .page').text(pagination.page);var offset=(pagination.page-1)*pageWidth,newClip={top:0,right:(pageWidth+offset),bottom:h,left:offset};if(offset>0)offset=-(offset);$ul.animate({left:(offset+'px'),clip:'rect('+newClip.top+'px, '+newClip.right+'px, '+newClip.bottom+'px, '+newClip.left+'px)'},250,'easeInOutCubic');return false})}else $panel.find('> .paginaton').remove()})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-rating');if($mod.length===0)return;$.gameRatingSetReleaseTerritoryDate=function(countryCode,verbiage){var $releaseDate=$mod.find('> .mod-content > ul > li.multi-country.'+countryCode+' > .release-date');if($releaseDate.length===0){window.log('$.gameRatingSetReleaseTerritoryDate:: Couldn\'t find .'+countryCode+' > .release-date');return};$releaseDate.html(verbiage)}})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-features');if($mod.length!==1)return;var $content=$mod.find('> .mod-content'),$ul=$content.find('> ul'),$features=$('<div class="features"></div>').appendTo($content),$currentUl=null;$ul.find('> li').each(function(idx){var $li=$(this),$featuresUl=$li.find('> div');$li.data('$featuresUl',$featuresUl);$featuresUl.appendTo($features);if($li.hasClass('current'))$currentUl=$featuresUl.addClass('current');$li.find('> a').click(function(evt){evt.preventDefault();var $this=$(this),$parent=$this.parent();if($parent.hasClass('current'))return;$parent.siblings('.current').removeClass('current');$currentUl.removeClass('current');$currentUl=$parent.addClass('current').data('$featuresUl').addClass('current')})})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-filter-menu');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){var $li=$mod.find('> .mod-content > ul > li');$li.find('> a > .hk-bg').before('<i class="hk-shadow"></i>');$li.each(function(idx){var $sub=$(this).find('> ul');if($sub.length===0)return true;$sub.before('<i class="hk-shadow"></i>').css('display','block');$sub.siblings('.hk-shadow').css('height',($sub[0].offsetHeight+7)+'px');$sub.css('display','')})};var selector='#mod-filter-menu > .mod-content > ul',menuTimer=null,menuItemClassName=null,menuOut=function(){clearMenuTimer();$(selector+' > li.'+menuItemClassName).removeClass('open');$('#content').removeClass('above');menuItemClassName=null},clearMenuTimer=function(){if(menuTimer){window.clearTimeout(menuTimer);menuTimer=null}},menuOpen=function($a){if(menuItemClassName)menuOut();var $li=$a.parent(),$ul=$li.parent();menuItemClassName=$li[0].className.match(/item\-\d*/g)[0];$li.addClass('open');$('#content').addClass('above')};$(selector+' > li > a').live('click',function(evt){var $this=$(this);if(!$this.parent().hasClass('selected')){evt.preventDefault();menuOpen($this)}});$(selector+' > li.open').live('mouseenter',clearMenuTimer).live('mouseleave',function(evt){menuTimer=window.setTimeout(menuOut,500)})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-filter-results');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>');$('.mod-content > ul > li',$mod).live('click',function(evt){var href=$.trim($(this).find('> a').attr('href'));if(!href||href==='#')return;window.location.href=href});var pageFlag=false,html='',moreText=$mod.find('.mod-footer .more').html(),beginLoad=function(){$mod.find('.mod-footer .more').addClass('loading').attr('title',EA.filter.loadingText).html(EA.filter.loadingText)},checkFinished=function(){if($.EA_FilterResultsModel.totalResults===0||$.EA_FilterResultsModel.offset>=$.EA_FilterResultsModel.totalResults){$mod.find('.mod-footer .more').remove();window.log('Reached end of results');return true};return false},loadNext=function(){beginLoad();$.EA_FilterResultsModel.pageNext()},showNext=function(){var $ul=$mod.find('> .mod-content > ul');$ul.find('> li.last').removeClass('last');$ul.append(html).find(':last-child').addClass('last');if(window.history.replaceState){window.history.replaceState('history',window.document.title,window.location.pathname.split('#')[0]+'#'+$.EA_FilterResultsModel.page)}else window.location.replace(window.location.href.split('#')[0]+'#'+$.EA_FilterResultsModel.page);checkFinished()};$mod.bind('filterResultsLoadResultsComplete',function(evt,results){var $more=$mod.find('.mod-footer .more');if(results.error){window.log('ERROR: no results');$more.remove();return};html=results.html;$('<ul></ul>').html(html);if(!html||html.length===0){$more.remove();window.log('No results');return};if(!pageFlag){$more.removeClass('loading').attr('title',moreText).html(moreText)}else{pageFlag=false;$mod.find('> .mod-content > ul').find('> li.last').removeClass('last').end().append(html).find(':last-child').addClass('last');if(!checkFinished())$.EA_FilterResultsModel.pageNext()}}).bind('filterResultsInit',function(evt){window.log('filterResultsInit');if(checkFinished())return;var page=parseInt(window.location.hash.replace(/\D/g,'')||0);if(page>1){pageFlag=true;beginLoad();window.log('Loading page: '+page);$.EA_FilterResultsModel.goToPage(page)}else loadNext()});$mod.find('.mod-footer .more').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled')||$this.hasClass('loading'))return;showNext();loadNext()});$.EA_FilterResultsModel.init($mod.find('> .mod-content > ul').html())})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-home-hero');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find('> .mod-content > .btn-hero').prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-home-announcements');if($mod.length===0)return;var $accordion=$mod.find('.mod-content > ul').accordion({autoHeight:false});if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$accordion.find('> li > span').before('<i class="hk-shadow"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-related-games');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){$mod.append('<i class="hk-bg"></i>');if(parseInt($.browser.version)===7)$mod.find('> .mod-content > ul > li > a > span').click(function(evt){window.location.href=$(this).parent().attr('href')})}})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-news-content');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){$mod.find('> .mod-content > ul > li').prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>');$mod.find('.mod-footer > .more').prepend('<i class="hk-shadow"></i>')};var moreText=$mod.find('> .mod-footer .more > span').html(),News=function(){var articles=[],$articles=$mod.find('> .mod-content > ul > li'),count=$articles.length;if(count>1){$articles.each(function(idx){articles[idx]={id:this.id,idx:(idx+1),top:$(this).offset().top}});this.articles=articles;this.setMax(count);var $header=$mod.find('.mod-header').show();this.index=1;this.modOffsetTop=$mod.offset().top;this.headerPositionTop=$header.position().top;this.headerOffsetTop=$header.offset().top;this.headerWidth=$header.outerWidth();this.minTop=(this.modOffsetTop+this.headerPositionTop);this.maxTop=($('#news-item-'+this.max).offset().top+this.headerPositionTop);this.html=$mod.find('> .mod-content > ul').html();this._originalLimit=EA.news.limit;this._isAnimating=false;this._isPulsating=false;this._isLoading=false;this._pageFlag=false;this._isSortingFlag=false;$header.find('a.scroll-prev').click(function(evt){evt.preventDefault();$.News.previous()});$header.find('a.scroll-next').click(function(evt){evt.preventDefault();$.News.next()});if($.cookie('ea_cookiemonster')!=='1')$header.attr({type:'ready',title:' '}).tooltip({type:'none',appendTo:$('#content')[0],content:function(){return EA.news.tooltip},position:{my:'center bottom',at:'center top',offset:'7 -55',collision:'fit'}}).tooltip('open');$('.ui-tooltip:last').addClass('instructions').find(' > .ui-tooltip-content > span').click($.proxy(this,'closeTooltip'));$(document.body).append('<span id="news-scroll-anchor"></span>');var hashData=this.getHashData();EA.news.sort=hashData.sort;if(!this.checkFinished()||EA.news.sort)if(hashData.page>1){this._pageFlag=true;this.beginLoad();var page=hashData.page,pages=Math.ceil(EA.news.totalResults/EA.news.limit);if(page>pages)page=pages;var offset=(page*EA.news.limit),data={offset:EA.news.offset,limit:(offset-EA.news.offset)};if(EA.news.tag)data.tag=EA.news.tag;if(EA.news.author)data.author=EA.news.author;if(EA.news.sort)data.sort=EA.news.sort;window.log('Loading page: '+page+', of '+pages+'. From '+data.offset+' to '+offset+', '+data.limit+' results');$.ajax({url:EA.news.feedUrl,dataType:'json',timeout:20000,data:data,context:this,success:this.onDataLoadSuccess,error:this.onDataLoadError});EA.news.offset=offset}else this.loadNext();$(window).scroll($.proxy(this,'onScroll'));$((!($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)))?window:document).keydown($.proxy(this,'onKeyDown'));this.updateNavigtion()};$mod.bind('newsSort',$.proxy(this,'onSortChange'))};News.prototype.getHashData=function(pageOverride,sortOverride){var hash=window.location.href.split('#')[1]||'',hashParts=hash.split('/'),page=parseInt(pageOverride||hashParts[0].replace(/\D/g,'')||1);if(page<1)page=1;var sort=sortOverride||hashParts[1]||'',data={page:page,hash:'#'+page};if(sort){data.sort=sort;data.hash+='/'+sort};return data};News.prototype.beginLoad=function(){this._isLoading=true;this.setMoreText()};News.prototype.loadNext=function(){this.beginLoad();var data={offset:EA.news.offset,limit:EA.news.limit};if(EA.news.tag)data.tag=EA.news.tag;if(EA.news.author)data.author=EA.news.author;if(EA.news.sort)data.sort=EA.news.sort;$.ajax({url:EA.news.feedUrl,dataType:'json',timeout:20000,data:data,context:this,success:this.onDataLoadSuccess,error:this.onDataLoadError});EA.news.offset+=EA.news.limit};News.prototype.checkFinished=function(){if(EA.news.totalResults===0||EA.news.offset>=EA.news.totalResults){$mod.removeClass('loading');$mod.find('.mod-footer .more').remove();window.log('No results');return true};return false};News.prototype.updateArticlePositions=function(){var $articles=$mod.find('> .mod-content > ul > li'),articles=[];$articles.each(function(idx){articles[idx]={id:this.id,idx:(idx+1),top:$(this).offset().top}});this.articles=articles;this.setMax(articles.length);this.updateNavigtion()};News.prototype.showNext=function(){var $ul=$mod.find('> .mod-content > ul');$ul.find('.last').removeClass('last');$ul.append(this.html);this.updateArticlePositions();var page=Math.ceil(EA.news.offset/EA.news.limit),hashData=this.getHashData(page);if(window.history.replaceState){window.history.replaceState('history_news',window.document.title,window.location.pathname.split('#')[0]+hashData.hash)}else window.location.replace(window.location.href.split('#')[0]+hashData.hash);this.checkFinished()};News.prototype.onDataLoadSuccess=function(data,status,$xhr){var $more=$mod.find('.mod-footer .more');if(!data||!data.data||data.error){this.onDataLoadError($xhr,'error',new Error('No data'));return};this.html=data.data.html;if(!this.html||this.html.length===0){this._isLoading=false;$more.remove();window.log('No results');return};$('<ul></ul>').html(this.html);if(this._isSortingFlag){this._isSortingFlag=false;var $ul=$mod.find('> .mod-content > ul');$ul.html(this.html);this.updateArticlePositions();if(!this.checkFinished())this.loadNext()}else if(this._pageFlag){this._pageFlag=false;var $ul=$mod.find('> .mod-content > ul');$ul.find('> li.last').removeClass('last');$ul.append(this.html);this.updateArticlePositions();if(!this.checkFinished())this.loadNext()}else{this._isLoading=false;this.setMoreText();$mod.removeClass('loading')}};News.prototype.setMoreText=function(){var $more=$mod.find('.mod-footer .more');if(!this._isLoading){$more.removeClass('loading').attr('title',moreText).find('> span').html(moreText)}else $more.addClass('loading').attr('title',EA.news.loadingText).find('> span').html(EA.news.loadingText)};News.prototype.onDataLoadError=function($xhr,status,ex){this.html='';this._isLoading=false;this.setMoreText();$mod.removeClass('loading');window.log('News.onDataLoadError:: '+((ex&&ex.message)?ex.message:(ex)?ex:'Unknown error'));this._pageFlag=false;this._isSortingFlag=false};News.prototype.setMax=function(max){var $max=$('#news-item-'+max);if($max.length===0){window.log('News.setMax('+max+') ERROR');return};this.max=max;this.maxTop=($max.offset().top+this.headerPositionTop)};News.prototype.updateNavigtion=function(){var $prev=$mod.find('a.scroll-prev'),$next=$mod.find('a.scroll-next');if(this.index>1){$prev.attr('href',('#news-item-'+(this.index-1))).removeClass('disabled').removeAttr('disabled')}else $prev.attr('href','#').addClass('disabled').attr('disabled','disabled');if(this.index<EA.news.totalResults){$next.attr('href',('#news-item-'+(this.index+1))).removeClass('disabled').removeAttr('disabled')}else $next.attr('href','#').addClass('disabled').attr('disabled','disabled')};News.prototype.previous=function(){if(this._isAnimating||this._isLoading)return;if(this.index===1)return;this.closeTooltip();this.scrollTo((this.index-1))};News.prototype.next=function(){if(this._isAnimating||this._isLoading)return;var end;if(end=(this.index===this.max))this.showNext();this.closeTooltip();this.scrollTo((this.index+1));if(end)this.loadNext()};News.prototype.scrollTo=function(idx){if(this._isLoading)return;if(idx){if(idx===this.index)return;this.index=idx};this._isAnimating=true;if(idx>1){$('#news-scroll-anchor').position({my:'left top',at:'left top',offset:'0 -20',collision:'none',of:'#news-item-'+this.index});$('html,body').animate({scrollTop:$('#news-scroll-anchor').position().top},500,$.proxy(this,'onScrollComplete'))}else $('html,body').animate({scrollTop:0},1000,$.proxy(this,'onScrollComplete'))};News.prototype.onScrollComplete=function(evt){window.setTimeout($.proxy(this,'onDelayedScrollComplete'),150)};News.prototype.onDelayedScrollComplete=function(evt){this._isAnimating=false;var $header=$mod.find('> .mod-header');if($header.offset().top<$('#news-item-'+this.index).offset().top)$header.position({my:'left top',at:'left top',offset:'-40 40',collision:'none',of:'#news-item-'+this.index,using:function(to){$(this).animate(to,250)}});this.updateNavigtion()};News.prototype.getPageScrollTop=function(){var htmlScrollTop=$('html').scrollTop(),bodyScrollTop=$(document.body).scrollTop();return((bodyScrollTop>htmlScrollTop)?bodyScrollTop:htmlScrollTop)};News.prototype.positionNavigation=function(){var scrollTop=this.getPageScrollTop(),css;if(scrollTop<=this.minTop){css={top:(this.headerPositionTop+'px')}}else if(scrollTop>=this.maxTop){css={top:((this.maxTop-this.modOffsetTop)+'px')}}else css={top:((scrollTop-this.modOffsetTop)+'px')};$mod.find('> .mod-header').css(css)};News.prototype.onResize=function(evt){this.positionNavigation()};News.prototype.onScroll=function(evt){this.positionNavigation();if(this._isAnimating||this._isLoading)return;var $header=$mod.find('> .mod-header'),dir,_idx=this.articles.length;for(idx=(this.articles.length-1);idx>=0;idx--){if($header.offset().top>=this.articles[idx].top){if(_idx>this.index){dir='next'}else if(_idx<this.index)dir='prev';break};_idx--};if(!dir||this.index===_idx)return;this.index=_idx;this.updateNavigtion();if(!this._isPulsating&&!$.browser.msie){this._isPulsating=true;$header.find('.scroll-'+dir).effect('pulsate',{times:2},500,$.proxy(this,'onPulsateComplete'))}};News.prototype.onPulsateComplete=function(evt){this._isPulsating=false};News.prototype.onKeyDown=function(evt){switch(evt.which){case (74):{this.closeTooltip();this.previous();break};case (75):{this.closeTooltip();this.next();break}}};News.prototype.closeTooltip=function(evt){$.cookie('ea_cookiemonster','1');$mod.find('.mod-header').tooltip('close').tooltip('_destroy')};News.prototype.onSortChange=function(evt,sort){EA.news.offset=0;EA.news.limit=this._originalLimit;EA.news.sort=sort;this.maxTop=this.minTop;this.positionNavigation();this._isSortingFlag=true;var hashData=this.getHashData(1,sort);if(window.history.replaceState){window.history.replaceState('history_news',window.document.title,window.location.pathname.split('#')[0]+hashData.hash)}else window.location.replace(window.location.href.split('#')[0]+hashData.hash);this.loadNext()};$.News=new News();$mod.find('.mod-footer .more').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled')||$this.hasClass('loading'))return;$.News.showNext();$.News.loadNext()})})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-news-filters');if(!$mod.length)return;var $select=$mod.find('.sort-by select'),sortNews=function(val){if(val===currentVal)return;currentVal=val;$.event.trigger('newsSort',val)},currentVal=$select.val();$select.selectmenu({width:170,menuWidth:170,maxHeight:150,positionOptions:{offset:'0 0'},change:function(evt,ui){sortNews($(this).val())},create:$.selectmenuCreate});var limit=5,$tagsList=$mod.find('.popular-tags > ul'),$tags=$tagsList.find('> li:not(:last)'),$more=$tagsList.find('> li.last > a');if($tags.length>limit){$tags.filter(':gt('+(limit-1)+')').hide();$more.click(function(evt){evt.preventDefault();var $li=$(this).parent();$li.siblings(':hidden').slideDown('fast');$li.remove()})}else $more.parent().remove()})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-article');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-search-noresults');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find('> .mod-footer').after('<i class="hk-bg"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-search-results');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>');$mod.find('> .mod-content > .videos,> .mod-content > .images').bind('searchViewToggle',function(evt,mode){$(this).removeClass('grid list').addClass(mode)});$mod.find('> .mod-header > .view-toggle > span').click(function(evt){var $this=$(this);if($this.hasClass('selected'))return;$this.siblings('.selected').removeClass('selected');$this.addClass('selected');$.event.trigger('searchViewToggle',($this.hasClass('grid'))?'grid':'list')});var html='',moreText=$mod.find('> .mod-footer .more').html(),beginLoad=function(){$mod.find('.mod-footer .more').addClass('loading').attr('title',EA.search.loadingText).html(EA.search.loadingText)},loadNext=function(){beginLoad();$.get(EA.search.feedUrl,{offset:EA.search.offset,limit:EA.search.limit,json:true},onLoadResultsComplete,'json');EA.search.offset+=EA.search.limit},checkFinished=function(){if(EA.search.totalResults===0||EA.search.offset>=EA.search.totalResults){$mod.find('.mod-footer .more').remove();window.log('No results');return true};return false},showNext=function(){$mod.find('> .mod-content > div > ul').find('> li.last').removeClass('last').end().append(html).find(':last-child').addClass('last');checkFinished()},init=function(){if(checkFinished())return;loadNext()},onLoadResultsComplete=function(results){var $more=$mod.find('.mod-footer .more');if(results.error){window.log('ERROR: no results');$more.remove();return};html=results.html;$('<ul></ul>').html(html);if(!html||html.length===0){$more.remove();window.log('No results');return};paginateResults();$more.removeClass('loading').attr('title',moreText).html(moreText)};$mod.find('.mod-footer .more').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled')||$this.hasClass('loading'))return;showNext();loadNext()});$(window).load(init);var pageSize=3,paginateResults=function(){$mod.find('.pagination-results').each(function(idx){var $panel=$(this);if($panel.data('paginated'))return true;$panel.data('paginated',true);var $ul=$panel.find(' > ul'),$li=$ul.find('> li'),itemWidth=($li.eq(0).outerWidth()+parseInt($li.eq(0).css('margin-left').replace(/\D/g,'')||0)+parseInt($li.eq(0).css('margin-right').replace(/\D/g,'')||0)),w=(itemWidth*$li.length);$ul.width(w);if($li.length>pageSize){var pagination={page:1,itemCount:$li.length,pageCount:Math.ceil($li.length/pageSize),offset:$panel.innerWidth()};$panel.find('> .paginaton > .status > .count').text(pagination.pageCount);$panel.find('> .paginaton > .status > .page').text('1');var pageWidth=itemWidth*pageSize,h=$ul.outerHeight();$panel.find('> .paginaton > .nav').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled'))return;$this.removeClass('disabled').siblings('.disabled').removeClass('disabled');if($this.hasClass('previous')){pagination.page--;if(pagination.page===1)$this.addClass('disabled')}else if($this.hasClass('next')){pagination.page++;if(pagination.page===pagination.pageCount)$this.addClass('disabled')};$this.siblings('.status').find('> .page').text(pagination.page);var offset=(pagination.page-1)*pageWidth,newClip={top:0,right:(pageWidth+offset),bottom:h,left:offset};if(offset>0)offset=-(offset);$ul.animate({left:(offset+'px'),clip:'rect('+newClip.top+'px, '+newClip.right+'px, '+newClip.bottom+'px, '+newClip.left+'px)'},250,'easeInOutCubic');return false})}else $panel.find('> .paginaton').remove();$(this).removeClass("loading")})}})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-search-results-filter');if($mod.length!==1)return})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-incorrect-spelling');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find('> .mod-footer').after('<i class="hk-bg"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-content');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.prepend('<i class="hk-shadow"></i>')})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-comments');if($mod.length===0||!EA.comments)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8)){$mod.prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>');$mod.find('li > .body > .ratings .btn').prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>')};$('#mod-comments .reply-link').live('click',function(evt){$(this).siblings('.post-comment-reply').slideToggle('fast').find('textarea').focus()});$('#mod-comments textarea').live('keyup blur',function(evt){var $this=$(this),$btn=$this.parents('.post:first').find('.btn-add-comment');if($.trim($this.val()).length===0){$btn.addClass('disabled')}else $btn.removeClass('disabled')});$mod.find('> .mod-header > a').click(function(evt){$mod.find('> .mod-footer textarea').focus()});$('#mod-comments .btn-replies-toggle').live('click',function(evt){var $this=$(this);if($this.hasClass('active')){$this.removeClass('active')}else $this.addClass('active');$this.siblings('ol').slideToggle('fast')});var onInit=function(evt,cookie){var ratingCookie;for(var id in cookie){ratingCookie=cookie[id];if(ratingCookie.rating===1){$('#comment-'+id+' > .body > .ratings > .thumbs.up').addClass('disabled')}else if(ratingCookie.rating===-1)$('#comment-'+id+' > .body > .ratings > .thumbs.down').addClass('disabled');if(ratingCookie.flagged)$('#comment-'+id+' > .body > .ratings > .flag-inappropriate').addClass('disabled flagged')}},onTooFrequent=function(evt,data){$mod.find('.too-frequent').remove();if(data.id){$('#comment-'+data.id+' > .body > .post > .info > .action').append('<div class="message too-frequent">'+data.message+'</div>')}else $mod.find('.mod-footer').append('<div class="message too-frequent">'+data.message+'</div>')},onTooFrequentEnd=function(evt){$mod.find('.too-frequent').fadeOut('slow',function(evt){$(this).remove()})};$.Comments.attach('commentsInit',onInit);$.Comments.attach('commentsTooFrequent',onTooFrequent);$.Comments.attach('commentsTooFrequentEnd',onTooFrequentEnd);var onMoreClick=function(evt){var $btn=$(this);if($btn.hasClass('loading'))return;$btn.addClass('loading');$.Comments.more()},onMoreSuccess=function(evt,data){$(this).removeClass('loading');$mod.find('> .mod-content > form > ol:first').html(data.html);$mod.find('> .mod-header .count').text(data.totalComments)},onMoreError=function(evt,data){$(this).removeClass('loading');window.log('Comment onMoreError:: '+data.message)},onMoreEnd=function(evt){if($mod.find('> .mod-content > form > ol:first > li').length>=EA.comments.totalComments){$(this).hide()}else $(this).show()},$more=$mod.find('> .mod-footer > .more');$more.click(onMoreClick);$.Comments.attach('commentsMoreSuccess',$.proxy(onMoreSuccess,$more[0]));$.Comments.attach('commentsMoreError',$.proxy(onMoreError,$more[0]));$.Comments.attach('commentsMoreEnd',$.proxy(onMoreEnd,$more[0]));var onAddClick=function(evt){var $btn=$(this);if($btn.hasClass('disabled'))return;$btn.addClass('disabled');var $post=$btn.parents('.post:first'),$li=$post.parents('li:first'),comment=$.trim($post.find('textarea:first').val()),parentId,data=new Function('return '+$li.data('comment'))();if(data&&data.id)parentId=data.id;$.Comments.add(comment,parentId)},onAddSuccess=function(evt,data){$mod.find('> .mod-content > form > .no-comments').remove();$mod.find('> .mod-header .count').text(data.totalComments);$mod.find('> .mod-content > form > ol:first').html(data.html);var $li=$('#comment-'+data.id);if($li.hasClass('reply')){var $replies=$li.parents('replies:first').removeClass('none');$replies.siblings('.post-comment-reply').delay(500).slideToggle('fast');var $ol=$replies.find('> ol');if($ol.is(':hidden'))$replies.find('> .btn-replies-toggle').click()};$li.prepend('<span class="hk-new"></span>');$li.find('.hk-new').fadeIn(1500,function(){$(this).delay(3500).fadeOut(1000,function(){$(this).remove()})});var data=new Function('return '+$li.data('comment'))();if(!data.parentId)$mod.find('.mod-footer textarea').val('')},onAddError=function(evt,data){var $container=(data.id)?$('#comment-'+data.id+' > .body > .post > .info > .action'):$mod.find('.mod-footer');$container.find('> .error').remove();window.log('Comment onAddError:: '+data.message);$('<div class="message error">'+data.message+'</div>').appendTo($container).delay(10000).fadeOut('slow',function(){$(this).remove()})},onAddSpam=function(evt,data){var $container=(data.id)?$('#comment-'+data.id+' > .body > .post > .info > .action'):$mod.find('.mod-footer');$container.find('> .spam').remove();window.log('Comment onAddSpam:: '+data.message);$('<div class="message spam">'+data.message+'</div>').appendTo($container).delay(10000).fadeOut('slow',function(){$(this).remove()})},onTooManyCharacters=function(evt){var $container=(data.id)?$('#comment-'+data.id+' > .body > .post > .info > .action'):$mod.find('.mod-footer');$container.find('.too-many-characters').remove();window.log('Comment onTooManyCharacters:: '+data.message);$('<div class="message too-many-characters">'+data.message+'</div>').appendTo($container).delay(10000).fadeOut('slow',function(){$(this).remove()})};$('#mod-comments .btn-add-comment').live('click',onAddClick);$.Comments.attach('commentsAddSuccess',onAddSuccess);$.Comments.attach('commentsAddError',onAddError);$.Comments.attach('commentsAddSpam',onAddSpam);$.Comments.attach('commentsTooManyCharacters',onTooManyCharacters);var onFlagClick=function(evt){var $btn=$(this);if($btn.hasClass('disabled'))return;$btn.addClass('disabled');var $li=$btn.parents('li:first'),data=new Function('return '+$li.data('comment'))();$.Comments.flag(data.id)},onFlagSuccess=function(evt,data){$('#comment-'+data.id+' > .body > .ratings > .flag-inappropriate').addClass('flagged').find('> .label').html(EA.comments.messages.flagged)},onFlagError=function(evt,data){var $container=$('#comment-'+data.id+' > .body > .content');$container.find('> .error').remove();window.log('Comment onFlagError:: '+data.message);$('<div class="message error">'+data.message+'</div>').appendTo($container).delay(10000).fadeOut('slow',function(){$(this).remove()})};$('#mod-comments .ratings .btn-flag').live('click',onFlagClick);$.Comments.attach('commentsFlagSuccess',onFlagSuccess);$.Comments.attach('commentsFlagError',onFlagError);var onRateClick=function(evt){var $btn=$(this);if($btn.hasClass('disabled'))return;$btn.siblings('.thumbs.disabled').removeClass('disabled');$btn.addClass('disabled');var $li=$btn.parents('li:first'),data=new Function('return '+$li.data('comment'))();$.Comments.rate(data.id,($btn.hasClass('up'))?'up':'down')},onRateSuccess=function(evt,data){var $li=$('#comment-'+data.id),$thumbsUp=$li.find(' > .body > .ratings > .thumbs.up');if(data.up>0){$thumbsUp.addClass('rated')}else $thumbsUp.removeClass('rated');$thumbsUp.find('> span').text(((data.up>0)?'+':'')+data.up);var $thumbsDown=$li.find('> .body > .ratings > .thumbs.down');if(data.down>0){$thumbsDown.addClass('rated')}else $thumbsDown.removeClass('rated');$thumbsDown.find('> span').text(((data.down>0)?'-':'')+data.down)},onRateError=function(evt,data){var $container=$('#comment-'+data.id+' > .body > .content');$container.find('.error').remove();window.log('Comment onRateError:: '+data.message);$('<div class="message error">'+data.message+'</div>').appendTo($container).delay(10000).fadeOut('slow',function(){$(this).remove()})};$('#mod-comments .ratings .btn.thumbs').live('click',onRateClick);$.Comments.attach('commentsRateSuccess',onRateSuccess);$.Comments.attach('commentsRateError',onRateError);$.Comments.init()})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-game-all-media,#mod-game-images,#mod-game-videos,#mod-game-downloads');if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.prepend('<i class="hk-shadow"></i>');var pageSize=3;$mod.find('.mod-content > .tabs').tabs()})(jQuery,this);(function($,window,undefined){var $mod=$('#mod-redirect-modal');if($mod.length!==1)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find(".mod-content").prepend('<i class="hk-shadow"></i><i class="hk-bg"></i>')})(jQuery,this)