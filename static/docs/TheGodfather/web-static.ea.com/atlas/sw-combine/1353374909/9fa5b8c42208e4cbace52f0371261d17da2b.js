(function($,window,undefined){var $mod=$('#mod-filter-hero');if($mod.length!==1)return;if($(".content > h1 + h3",$mod).length){$(".content > h1",$mod).css("font-size","50px");$(".content > h1",$mod).css("letter-spacing","1px");if(!$(".content > h3 + p",$mod).length){var btnOffset=$(".content a.btn",$mod).offset().top,height_variance=($(".content",$mod).outerHeight()-$(".content a.btn",$mod).height())/2;height_variance=((btnOffset-$mod.offset().top)/2)-height_variance;$(".content > h3",$mod).css("margin-bottom",height_variance)}}})(jQuery,this);(function($,window,undefined){function adjustModHeights(){var debug=false,resize_animation_speed=500;$("#content > .row.multi").each(function(){$row=$(this);if(debug)window.log("### FOUND ROW: "+$row.attr('class')+" ###");var tallest_height=null,max_height=null,height_differance=null;$row.find(".col > .mod").each(function(){$mod=$(this);var this_max_height=($mod.css('max-height')!='none')?$mod.css('max-height').replace('px',''):max_height,this_height=$mod.outerHeight();max_height=(this_max_height&&this_max_height>max_height)?this_max_height:max_height;height_differance=(tallest_height&&tallest_height!=this_height)?true:height_differance;tallest_height=(this_height>tallest_height)?this_height:tallest_height});if(debug)window.log("### height_differance: "+height_differance+"");if(debug)window.log("### tallest_height: "+tallest_height+"");if(debug)window.log("### max_height: "+max_height+"");if(height_differance){var height=max_height?max_height:tallest_height;$row.find(".col > .mod").each(function(){$mod=$(this);var new_height=(height!=$mod.outerHeight())?height:null;if(debug)window.log("### NEW HEIGHT: "+new_height);var new_height=new_height?height-($mod.outerHeight()-$mod.height()):new_height;if(debug)window.log("### NEW HEIGHT: "+new_height);if(new_height){$mod.animate({height:new_height},resize_animation_speed,"swing");if(debug)window.log("### MOD "+$mod.attr('class')+" HEIGHT SET TO: "+new_height+"")}else if(debug)window.log("### MOD "+$mod.attr('class')+" HEIGHT NOT SET")});if(debug)window.log("### HEIGHTS WERE SET ###");if(debug)window.log("### ALL HEIGHTS SET TO : "+height+"")}else if(debug)window.log("### HEIGHTS NOT SET ###")})};$("#content").bind('adjustModHeights',adjustModHeights)})(jQuery,this);(function($,window,undefined){$('.mod-ns-site-menu').each(function(){var $mod=$(this);if($mod.length===0)return;if($.browser.msie&&(parseInt($.browser.version)===7||parseInt($.browser.version)===8))$mod.find('> .mod-content > ul > li.has-sub > .sub').prepend('<i class="hk-shadow"></i><i class="hk-bg2"></i>');$mod.parent().parent().parent().css("z-index",101)})})(jQuery,this);(function($,window,undefined){$('.mod-ns-page-media.expanded').each(function(){var $mod=$(this);if($.browser.msie)if(parseInt($.browser.version)===7||parseInt($.browser.version)===8)$mod.parent().prepend('<i class="hk-col-shadow"></i>');$mod.find('.mod-content > .tabs').tabs().each(function(){$mod.find(".ui-tabs-nav > li > a").each(function(){if(window.location.hash.indexOf($(this).attr('href'))===0)$(this).click()});$mod.find(".ui-tabs-nav > li > a").live('mouseup',function(){var hash=$(this).data('hash')?$(this).data('hash'):"";if(window.history.replaceState){window.history.replaceState('history',window.document.title,window.location.pathname.split('#')[0]+hash)}else window.location.replace(window.location.href.split('#')[0]+hash)});$(this).find(".panel").each(function(){var $panel=$(this),id=$panel.attr("id"),page_size=$panel.data('page-size'),count=$panel.find("li").size(),page=(window.location.hash.indexOf(id)===1)?parseInt(window.location.hash.replace(/\D/g,'')||1):1;$mod.find('.ui-tabs-nav > li > a[href^=#'+id+']').each(function(){$(this).data('hash','#'+id+'-'+page)});var idx=1;$panel.find("li").each(function(){if(idx++<=page_size*page)$(this).removeClass("hidden")});if(count>(page_size*page)){$panel.find(".paginaton").show();$panel.find(".more").live('click',function(){$panel.find(".paginaton").hide();var idx=1;page++;$panel.find("li.hidden").each(function(){if(idx++<=page_size)$(this).removeClass("hidden")});var hash='#'+id+'-'+page;if(window.history.replaceState){window.history.replaceState('history',window.document.title,window.location.pathname.split('#')[0]+hash)}else window.location.replace(window.location.href.split('#')[0]+hash);$mod.find('.ui-tabs-nav > li > a[href^=#'+id+']').data('hash',hash);if(count>(page_size*page))$panel.find(".paginaton").show()})}})})});$('.mod-ns-page-media.minimized').each(function(){var $mod=$(this);if($mod.length===0)return;if($.browser.msie){if(parseInt($.browser.version)===7||parseInt($.browser.version)===8)$mod.parent().prepend('<i class="hk-col-shadow"></i>');$mod.find('#media-screenshots > ul > li > a').click(function(evt){window.location.href=this.href})};$mod.find('.mod-content > .tabs').tabs().find('> .ui-tabs-panel').each(function(idx){var $panel=$(this),$ul=$panel.find(' > ul'),$li=$ul.find('> li'),itemWidth=($li.eq(0).outerWidth()+parseInt($li.eq(0).css('margin-left').replace(/\D/g,'')||0)+parseInt($li.eq(0).css('margin-right').replace(/\D/g,'')||0)),w=(itemWidth*$li.length),colCount=$panel.data('col-count');window.log(colCount);$ul.width(w);if($li.length>colCount){var pagination={page:1,itemCount:$li.length,pageCount:Math.ceil($li.length/colCount),offset:$panel.innerWidth()};$panel.find('> .paginaton > .status > .count').text(pagination.pageCount);$panel.find('> .paginaton > .status > .page').text('1');var pageWidth=itemWidth*colCount,h=$ul.outerHeight();$panel.find('> .paginaton > .nav').click(function(evt){evt.preventDefault();var $this=$(this);if($this.hasClass('disabled'))return;$this.removeClass('disabled').siblings('.disabled').removeClass('disabled');if($this.hasClass('previous')){pagination.page--;if(pagination.page===1)$this.addClass('disabled')}else if($this.hasClass('next')){pagination.page++;if(pagination.page===pagination.pageCount)$this.addClass('disabled')};$this.siblings('.status').find('> .page').text(pagination.page);var offset=(pagination.page-1)*pageWidth,newClip={top:0,right:(pageWidth+offset),bottom:h,left:offset};if(offset>0)offset=-(offset);$ul.animate({left:(offset+'px'),clip:'rect('+newClip.top+'px, '+newClip.right+'px, '+newClip.bottom+'px, '+newClip.left+'px)'},250,'easeInOutCubic');return false})}else $panel.find('> .paginaton').remove()})})})(jQuery,this);(function($,window,undefined){$('.mod-ns-breadcrumb-menu').each(function(){var $mod=$(this);if($mod.length===0)return;$mod.find(".mod-content").live('mouseover',function(){$("#header").css("z-index",1000)});$mod.find(".mod-content").live('mouseout',function(){$("#header").css("z-index",100)})})})(jQuery,this);(function($,window,undefined){$('.mod-ns-carousel').each(function(){var $mod=$(this);if($mod.length===0)return;var $cta=$mod.find('.call-to-action'),$logo=$mod.find('.logo'),current=1,count=$mod.find('.mod-header > ul > li').size(),fade_time=700,cta_fade_time=200,logo_fade_time=200,running=false;if(count)$("body > #bd").css("background-image","none");if(count){$logo.html("")}else $logo.find("img").show();$("#bd").append('<div id="carousel-fade-box"><div class="back"></div><div class="front"></div></div>');$back=$("#bd").find("#carousel-fade-box .back");$front=$("#bd").find("#carousel-fade-box .front")
function fade(background_src){$back.css({'background-image':'url("'+background_src+'")',display:'block','z-index':1});$front.fadeOut(fade_time,function(evt){$(this).css({'background-image':'url("'+background_src+'")',display:'block','z-index':2})})};$cta.find(".next").live('click',function(evt){if(running)return false;evt.preventDefault();current++;current=(current<=count)?current:1;updateCarousel(current)});$cta.find(".back").live('click',function(evt){if(running)return false;evt.preventDefault();current--;current=(current==0)?count:current;updateCarousel(current)})
function updateCarousel(index){running=true;$mod.find('.mod-header > ul > li:nth-child('+index+')').each(function(){var title=$(this).data('title'),description=$(this).data('description'),background_src=$(this).data('background-src'),logo_src=$(this).data('logo-src'),href=$(this).data('href');window.log("### logo_src: "+background_src+" ###");$cta.find('.text').fadeOut(cta_fade_time,function(evt){$cta.find('a.text').attr('href',href);$logo.attr('href',href);$cta.find('a > span.title').html(title);$cta.find('a > span.description').html(description);$cta.fadeIn(cta_fade_time);$cta.find('.text').fadeIn(cta_fade_time)});$logo.fadeOut(logo_fade_time,function(evt){$logo.css('background-image','url("'+logo_src+'")');$logo.fadeIn(logo_fade_time);running=false});fade(background_src)});$mod.find('.mod-header > ul > li:nth-child('+(index+1)+')').each(function(){next_background_src=$(this).data('background-src');next_logo_src=$(this).data('logo-src');$('<img>').attr('src',next_background_src);$('<img>').attr('src',next_logo_src)})};if(count)updateCarousel(current)})})(jQuery,this);(function($,window,undefined){$('.mod-ns-download-list').each(function(){var $mod=$(this);if($.browser.msie)if(parseInt($.browser.version)===7||parseInt($.browser.version)===8)$mod.parent().prepend('<i class="hk-col-shadow"></i>')})})(jQuery,this)